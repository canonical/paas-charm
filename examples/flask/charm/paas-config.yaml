# Copyright 2025 Canonical Ltd.
# See LICENSE file for licensing details.

# Configuration file for the paas-charm library

# Prometheus scrape configuration
# This demonstrates adding custom scrape jobs alongside the framework default (port 9102)
prometheus:
  scrape_configs:
    # Custom job scraping all units on port 8081
    - job_name: "flask-app-custom"
      metrics_path: "/metrics"
      static_configs:
        - targets:
            - "*:8081"  # Different port from framework default (9102)
          labels:
            app: "flask"
            env: "example"
    
    # Scheduler-only job using @scheduler placeholder
    - job_name: "flask-scheduler-metrics"
      metrics_path: "/metrics"
      static_configs:
        - targets:
            - "@scheduler:8082"  # Only scrapes scheduler unit (unit 0)
          labels:
            role: "scheduler"
