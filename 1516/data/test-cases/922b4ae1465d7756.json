{"uid":"922b4ae1465d7756","name":"test_prometheus_custom_scrape_configs","fullName":"tests.integration.integrations.test_prometheus#test_prometheus_custom_scrape_configs","historyId":"f0f3c62e1f51cd8a7ecce27f0d3147e8","time":{"start":1772292309988,"stop":1772292364822,"duration":54834},"description":"\n    arrange: flask charm with paas-config.yaml containing custom scrape_configs, scaled to 2 units.\n    act: establish relation with prometheus charm.\n    assert: prometheus scrapes framework default jobs (port 9102 on 2 units), custom jobs\n        (port 8081 on 2 units using wildcard), and scheduler-only job (port 8082 on unit 0 only\n        using @scheduler placeholder). Verify custom labels and @scheduler resolves to unit 0 FQDN.\n    ","descriptionHtml":"<pre><code>arrange: flask charm with paas-config.yaml containing custom scrape_configs, scaled to 2 units.\nact: establish relation with prometheus charm.\nassert: prometheus scrapes framework default jobs (port 9102 on 2 units), custom jobs\n    (port 8081 on 2 units using wildcard), and scheduler-only job (port 8082 on unit 0 only\n    using @scheduler placeholder). Verify custom labels and @scheduler resolves to unit 0 FQDN.\n</code></pre>\n","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":1,"retriesStatusChange":true,"beforeStages":[{"name":"juju","time":{"start":1772291848273,"stop":1772291848273,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"prometheus_app_name","time":{"start":1772291848273,"stop":1772291848273,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"prometheus_app","time":{"start":1772291848274,"stop":1772291901744,"duration":53470},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"flask_app","time":{"start":1772291901746,"stop":1772291940859,"duration":39113},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"pytestconfig","time":{"start":1772291901746,"stop":1772291901746,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"tmp_path_factory","time":{"start":1772291901746,"stop":1772291901746,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"session_with_retry","time":{"start":1772292309987,"stop":1772292309988,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"\n    arrange: flask charm with paas-config.yaml containing custom scrape_configs, scaled to 2 units.\n    act: establish relation with prometheus charm.\n    assert: prometheus scrapes framework default jobs (port 9102 on 2 units), custom jobs\n        (port 8081 on 2 units using wildcard), and scheduler-only job (port 8082 on unit 0 only\n        using @scheduler placeholder). Verify custom labels and @scheduler resolves to unit 0 FQDN.\n    ","status":"passed","steps":[],"attachments":[{"uid":"3b507a81aacfe497","name":"log","source":"3b507a81aacfe497.txt","type":"text/plain","size":60854}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"session_with_retry::0","time":{"start":1772292364823,"stop":1772292364823,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"flask_app::0","time":{"start":1772292364826,"stop":1772292364826,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"parentSuite","value":"tests.integration.integrations"},{"name":"suite","value":"test_prometheus"},{"name":"host","value":"runnervmnay03"},{"name":"thread","value":"35734-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.integrations.test_prometheus"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"c2655c6a47e744fc","status":"unknown","time":{}}],"categories":[],"history":{"statistic":{"failed":0,"broken":0,"skipped":0,"passed":2,"unknown":1,"total":3},"items":[{"uid":"b652780a8b79c1ad","reportUrl":"../1492//#testresult/b652780a8b79c1ad","status":"passed","time":{"start":1771687577470,"stop":1771687626803,"duration":49333}},{"uid":"ea221ab3bd58640b","reportUrl":"../1482//#testresult/ea221ab3bd58640b","status":"unknown","time":{}}]},"tags":[]},"source":"922b4ae1465d7756.json","parameterValues":[]}