{"uid":"b652780a8b79c1ad","name":"test_prometheus_custom_scrape_configs","fullName":"tests.integration.integrations.test_prometheus#test_prometheus_custom_scrape_configs","historyId":"f0f3c62e1f51cd8a7ecce27f0d3147e8","time":{"start":1771687577470,"stop":1771687626803,"duration":49333},"description":"\n    arrange: flask charm with paas-config.yaml containing custom scrape_configs, scaled to 2 units.\n    act: establish relation with prometheus charm.\n    assert: prometheus scrapes framework default jobs (port 9102 on 2 units), custom jobs\n        (port 8081 on 2 units using wildcard), and scheduler-only job (port 8082 on unit 0 only\n        using @scheduler placeholder). Verify custom labels and @scheduler resolves to unit 0 FQDN.\n    ","descriptionHtml":"<pre><code>arrange: flask charm with paas-config.yaml containing custom scrape_configs, scaled to 2 units.\nact: establish relation with prometheus charm.\nassert: prometheus scrapes framework default jobs (port 9102 on 2 units), custom jobs\n    (port 8081 on 2 units using wildcard), and scheduler-only job (port 8082 on unit 0 only\n    using @scheduler placeholder). Verify custom labels and @scheduler resolves to unit 0 FQDN.\n</code></pre>\n","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":1,"retriesStatusChange":true,"beforeStages":[{"name":"prometheus_app_name","time":{"start":1771687101200,"stop":1771687101200,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"juju","time":{"start":1771687101200,"stop":1771687101200,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"prometheus_app","time":{"start":1771687101200,"stop":1771687161649,"duration":60449},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"pytestconfig","time":{"start":1771687161650,"stop":1771687161650,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"flask_app","time":{"start":1771687161650,"stop":1771687200975,"duration":39325},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"tmp_path_factory","time":{"start":1771687161650,"stop":1771687161650,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"session_with_retry","time":{"start":1771687577469,"stop":1771687577470,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"\n    arrange: flask charm with paas-config.yaml containing custom scrape_configs, scaled to 2 units.\n    act: establish relation with prometheus charm.\n    assert: prometheus scrapes framework default jobs (port 9102 on 2 units), custom jobs\n        (port 8081 on 2 units using wildcard), and scheduler-only job (port 8082 on unit 0 only\n        using @scheduler placeholder). Verify custom labels and @scheduler resolves to unit 0 FQDN.\n    ","status":"passed","steps":[],"attachments":[{"uid":"1f2c9808ec52f1e6","name":"log","source":"1f2c9808ec52f1e6.txt","type":"text/plain","size":55412}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"session_with_retry::0","time":{"start":1771687626803,"stop":1771687626803,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"flask_app::0","time":{"start":1771687626814,"stop":1771687626814,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"parentSuite","value":"tests.integration.integrations"},{"name":"suite","value":"test_prometheus"},{"name":"host","value":"runnervmwffz4"},{"name":"thread","value":"38138-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.integrations.test_prometheus"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"489b6a760ad2b4f6","status":"unknown","time":{}}],"categories":[],"history":{"statistic":{"failed":0,"broken":0,"skipped":0,"passed":1,"unknown":1,"total":2},"items":[{"uid":"ea221ab3bd58640b","reportUrl":"../1482//#testresult/ea221ab3bd58640b","status":"unknown","time":{}}]},"tags":[]},"source":"b652780a8b79c1ad.json","parameterValues":[]}