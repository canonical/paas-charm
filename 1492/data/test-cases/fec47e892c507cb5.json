{"uid":"fec47e892c507cb5","name":"test_with_redis[spring_boot_app-8080-redis/status]","fullName":"tests.integration.integrations.test_redis#test_with_redis","historyId":"db2a16f97e9dddb363d04e3a487cb45b","time":{"start":1771687141325,"stop":1771687235929,"duration":94604},"description":"\n    arrange: build and deploy the paas charm.\n    act: deploy the redis database and relate it to the charm.\n    assert: requesting the charm should return a correct response\n    ","descriptionHtml":"<pre><code>arrange: build and deploy the paas charm.\nact: deploy the redis database and relate it to the charm.\nassert: requesting the charm should return a correct response\n</code></pre>\n","status":"failed","statusMessage":"AssertionError: Response: [{\"headers\":{},\"body\":\"FAILURE\",\"statusCode\":\"INTERNAL_SERVER_ERROR\",\"statusCodeValue\":500}]\nassert 'SUCCESS' in '[{\"headers\":{},\"body\":\"FAILURE\",\"statusCode\":\"INTERNAL_SERVER_ERROR\",\"statusCodeValue\":500}]'\n +  where '[{\"headers\":{},\"body\":\"FAILURE\",\"statusCode\":\"INTERNAL_SERVER_ERROR\",\"statusCodeValue\":500}]' = <Response [200]>.text","statusTrace":"Traceback (most recent call last):\n  File \"/home/runner/work/paas-charm/paas-charm/.tox/integration/lib/python3.12/site-packages/_pytest/runner.py\", line 353, in from_call\n    result: TResult | None = func()\n                             ^^^^^^\n  File \"/home/runner/work/paas-charm/paas-charm/.tox/integration/lib/python3.12/site-packages/_pytest/runner.py\", line 245, in <lambda>\n    lambda: runtest_hook(item=item, **kwds),\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/paas-charm/paas-charm/.tox/integration/lib/python3.12/site-packages/pluggy/_hooks.py\", line 512, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/paas-charm/paas-charm/.tox/integration/lib/python3.12/site-packages/pluggy/_manager.py\", line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/paas-charm/paas-charm/.tox/integration/lib/python3.12/site-packages/pluggy/_callers.py\", line 167, in _multicall\n    raise exception\n  File \"/home/runner/work/paas-charm/paas-charm/.tox/integration/lib/python3.12/site-packages/pluggy/_callers.py\", line 139, in _multicall\n    teardown.throw(exception)\n  File \"/home/runner/work/paas-charm/paas-charm/.tox/integration/lib/python3.12/site-packages/_pytest/logging.py\", line 850, in pytest_runtest_call\n    yield\n  File \"/home/runner/work/paas-charm/paas-charm/.tox/integration/lib/python3.12/site-packages/pluggy/_callers.py\", line 139, in _multicall\n    teardown.throw(exception)\n  File \"/home/runner/work/paas-charm/paas-charm/.tox/integration/lib/python3.12/site-packages/pluggy/_callers.py\", line 53, in run_old_style_hookwrapper\n    return result.get_result()\n           ^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/paas-charm/paas-charm/.tox/integration/lib/python3.12/site-packages/pluggy/_result.py\", line 103, in get_result\n    raise exc.with_traceback(tb)\n  File \"/home/runner/work/paas-charm/paas-charm/.tox/integration/lib/python3.12/site-packages/pluggy/_callers.py\", line 38, in run_old_style_hookwrapper\n    res = yield\n          ^^^^^\n  File \"/home/runner/work/paas-charm/paas-charm/.tox/integration/lib/python3.12/site-packages/pluggy/_callers.py\", line 139, in _multicall\n    teardown.throw(exception)\n  File \"/home/runner/work/paas-charm/paas-charm/.tox/integration/lib/python3.12/site-packages/_pytest/capture.py\", line 900, in pytest_runtest_call\n    return (yield)\n            ^^^^^\n  File \"/home/runner/work/paas-charm/paas-charm/.tox/integration/lib/python3.12/site-packages/pluggy/_callers.py\", line 139, in _multicall\n    teardown.throw(exception)\n  File \"/home/runner/work/paas-charm/paas-charm/.tox/integration/lib/python3.12/site-packages/_pytest/skipping.py\", line 268, in pytest_runtest_call\n    return (yield)\n            ^^^^^\n  File \"/home/runner/work/paas-charm/paas-charm/.tox/integration/lib/python3.12/site-packages/pluggy/_callers.py\", line 121, in _multicall\n    res = hook_impl.function(*args)\n          ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/paas-charm/paas-charm/.tox/integration/lib/python3.12/site-packages/_pytest/runner.py\", line 179, in pytest_runtest_call\n    item.runtest()\n  File \"/home/runner/work/paas-charm/paas-charm/.tox/integration/lib/python3.12/site-packages/_pytest/python.py\", line 1720, in runtest\n    self.ihook.pytest_pyfunc_call(pyfuncitem=self)\n  File \"/home/runner/work/paas-charm/paas-charm/.tox/integration/lib/python3.12/site-packages/pluggy/_hooks.py\", line 512, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/paas-charm/paas-charm/.tox/integration/lib/python3.12/site-packages/pluggy/_manager.py\", line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/paas-charm/paas-charm/.tox/integration/lib/python3.12/site-packages/pluggy/_callers.py\", line 167, in _multicall\n    raise exception\n  File \"/home/runner/work/paas-charm/paas-charm/.tox/integration/lib/python3.12/site-packages/pluggy/_callers.py\", line 121, in _multicall\n    res = hook_impl.function(*args)\n          ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/paas-charm/paas-charm/.tox/integration/lib/python3.12/site-packages/_pytest/python.py\", line 166, in pytest_pyfunc_call\n    result = testfunction(**testargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/paas-charm/paas-charm/tests/integration/integrations/test_redis.py\", line 50, in test_with_redis\n    assert \"SUCCESS\" in response.text, f\"Response: {response.text}\"\nAssertionError: Response: [{\"headers\":{},\"body\":\"FAILURE\",\"statusCode\":\"INTERNAL_SERVER_ERROR\",\"statusCodeValue\":500}]\nassert 'SUCCESS' in '[{\"headers\":{},\"body\":\"FAILURE\",\"statusCode\":\"INTERNAL_SERVER_ERROR\",\"statusCodeValue\":500}]'\n +  where '[{\"headers\":{},\"body\":\"FAILURE\",\"statusCode\":\"INTERNAL_SERVER_ERROR\",\"statusCodeValue\":500}]' = <Response [200]>.text","flaky":false,"newFailed":true,"newBroken":false,"newPassed":false,"retriesCount":1,"retriesStatusChange":true,"beforeStages":[{"name":"redis_app","time":{"start":1771687091695,"stop":1771687093123,"duration":1428},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"redis_app_name","time":{"start":1771687091695,"stop":1771687091695,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"juju","time":{"start":1771687091695,"stop":1771687091695,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"pytestconfig","time":{"start":1771687093125,"stop":1771687093125,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"tmp_path_factory","time":{"start":1771687093125,"stop":1771687093125,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"session_with_retry","time":{"start":1771687141324,"stop":1771687141325,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"spring_boot_app_image","time":{"start":1771687141325,"stop":1771687141325,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"spring_boot_app","time":{"start":1771687141325,"stop":1771687231937,"duration":90612},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"\n    arrange: build and deploy the paas charm.\n    act: deploy the redis database and relate it to the charm.\n    assert: requesting the charm should return a correct response\n    ","status":"failed","statusMessage":"AssertionError: Response: [{\"headers\":{},\"body\":\"FAILURE\",\"statusCode\":\"INTERNAL_SERVER_ERROR\",\"statusCodeValue\":500}]\nassert 'SUCCESS' in '[{\"headers\":{},\"body\":\"FAILURE\",\"statusCode\":\"INTERNAL_SERVER_ERROR\",\"statusCodeValue\":500}]'\n +  where '[{\"headers\":{},\"body\":\"FAILURE\",\"statusCode\":\"INTERNAL_SERVER_ERROR\",\"statusCodeValue\":500}]' = <Response [200]>.text","statusTrace":"Traceback (most recent call last):\n  File \"/home/runner/work/paas-charm/paas-charm/.tox/integration/lib/python3.12/site-packages/_pytest/runner.py\", line 353, in from_call\n    result: TResult | None = func()\n                             ^^^^^^\n  File \"/home/runner/work/paas-charm/paas-charm/.tox/integration/lib/python3.12/site-packages/_pytest/runner.py\", line 245, in <lambda>\n    lambda: runtest_hook(item=item, **kwds),\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/paas-charm/paas-charm/.tox/integration/lib/python3.12/site-packages/pluggy/_hooks.py\", line 512, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/paas-charm/paas-charm/.tox/integration/lib/python3.12/site-packages/pluggy/_manager.py\", line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/paas-charm/paas-charm/.tox/integration/lib/python3.12/site-packages/pluggy/_callers.py\", line 167, in _multicall\n    raise exception\n  File \"/home/runner/work/paas-charm/paas-charm/.tox/integration/lib/python3.12/site-packages/pluggy/_callers.py\", line 139, in _multicall\n    teardown.throw(exception)\n  File \"/home/runner/work/paas-charm/paas-charm/.tox/integration/lib/python3.12/site-packages/_pytest/logging.py\", line 850, in pytest_runtest_call\n    yield\n  File \"/home/runner/work/paas-charm/paas-charm/.tox/integration/lib/python3.12/site-packages/pluggy/_callers.py\", line 139, in _multicall\n    teardown.throw(exception)\n  File \"/home/runner/work/paas-charm/paas-charm/.tox/integration/lib/python3.12/site-packages/pluggy/_callers.py\", line 53, in run_old_style_hookwrapper\n    return result.get_result()\n           ^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/paas-charm/paas-charm/.tox/integration/lib/python3.12/site-packages/pluggy/_result.py\", line 103, in get_result\n    raise exc.with_traceback(tb)\n  File \"/home/runner/work/paas-charm/paas-charm/.tox/integration/lib/python3.12/site-packages/pluggy/_callers.py\", line 38, in run_old_style_hookwrapper\n    res = yield\n          ^^^^^\n  File \"/home/runner/work/paas-charm/paas-charm/.tox/integration/lib/python3.12/site-packages/pluggy/_callers.py\", line 139, in _multicall\n    teardown.throw(exception)\n  File \"/home/runner/work/paas-charm/paas-charm/.tox/integration/lib/python3.12/site-packages/_pytest/capture.py\", line 900, in pytest_runtest_call\n    return (yield)\n            ^^^^^\n  File \"/home/runner/work/paas-charm/paas-charm/.tox/integration/lib/python3.12/site-packages/pluggy/_callers.py\", line 139, in _multicall\n    teardown.throw(exception)\n  File \"/home/runner/work/paas-charm/paas-charm/.tox/integration/lib/python3.12/site-packages/_pytest/skipping.py\", line 268, in pytest_runtest_call\n    return (yield)\n            ^^^^^\n  File \"/home/runner/work/paas-charm/paas-charm/.tox/integration/lib/python3.12/site-packages/pluggy/_callers.py\", line 121, in _multicall\n    res = hook_impl.function(*args)\n          ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/paas-charm/paas-charm/.tox/integration/lib/python3.12/site-packages/_pytest/runner.py\", line 179, in pytest_runtest_call\n    item.runtest()\n  File \"/home/runner/work/paas-charm/paas-charm/.tox/integration/lib/python3.12/site-packages/_pytest/python.py\", line 1720, in runtest\n    self.ihook.pytest_pyfunc_call(pyfuncitem=self)\n  File \"/home/runner/work/paas-charm/paas-charm/.tox/integration/lib/python3.12/site-packages/pluggy/_hooks.py\", line 512, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/paas-charm/paas-charm/.tox/integration/lib/python3.12/site-packages/pluggy/_manager.py\", line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/paas-charm/paas-charm/.tox/integration/lib/python3.12/site-packages/pluggy/_callers.py\", line 167, in _multicall\n    raise exception\n  File \"/home/runner/work/paas-charm/paas-charm/.tox/integration/lib/python3.12/site-packages/pluggy/_callers.py\", line 121, in _multicall\n    res = hook_impl.function(*args)\n          ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/paas-charm/paas-charm/.tox/integration/lib/python3.12/site-packages/_pytest/python.py\", line 166, in pytest_pyfunc_call\n    result = testfunction(**testargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/paas-charm/paas-charm/tests/integration/integrations/test_redis.py\", line 50, in test_with_redis\n    assert \"SUCCESS\" in response.text, f\"Response: {response.text}\"\nAssertionError: Response: [{\"headers\":{},\"body\":\"FAILURE\",\"statusCode\":\"INTERNAL_SERVER_ERROR\",\"statusCodeValue\":500}]\nassert 'SUCCESS' in '[{\"headers\":{},\"body\":\"FAILURE\",\"statusCode\":\"INTERNAL_SERVER_ERROR\",\"statusCodeValue\":500}]'\n +  where '[{\"headers\":{},\"body\":\"FAILURE\",\"statusCode\":\"INTERNAL_SERVER_ERROR\",\"statusCodeValue\":500}]' = <Response [200]>.text","steps":[],"attachments":[{"uid":"48cb44296d64a56","name":"log","source":"48cb44296d64a56.txt","type":"text/plain","size":45297}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"session_with_retry::0","time":{"start":1771687235931,"stop":1771687235931,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"parentSuite","value":"tests.integration.integrations"},{"name":"suite","value":"test_redis"},{"name":"host","value":"runnervmwffz4"},{"name":"thread","value":"38529-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.integrations.test_redis"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"app_fixture","value":"'spring_boot_app'"},{"name":"endpoint","value":"'redis/status'"},{"name":"port","value":"8080"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"9c2f4e9c02913ce5","status":"unknown","time":{}}],"categories":[{"name":"Product defects","matchedStatuses":[]}],"history":{"statistic":{"failed":1,"broken":0,"skipped":0,"passed":29,"unknown":4,"total":34},"items":[{"uid":"a225dff2fbb71d73","reportUrl":"../1482//#testresult/a225dff2fbb71d73","status":"unknown","time":{}},{"uid":"48c6ba08e645cc27","reportUrl":"../1399//#testresult/48c6ba08e645cc27","status":"passed","time":{"start":1770477627113,"stop":1770477780737,"duration":153624}},{"uid":"61b2903da4ccd740","reportUrl":"../1327//#testresult/61b2903da4ccd740","status":"passed","time":{"start":1769872741752,"stop":1769872856326,"duration":114574}},{"uid":"f769b5299c8b566e","reportUrl":"../1268//#testresult/f769b5299c8b566e","status":"passed","time":{"start":1769267867547,"stop":1769267985913,"duration":118366}},{"uid":"e4c9ab2165add505","reportUrl":"../1267//#testresult/e4c9ab2165add505","status":"passed","time":{"start":1768663123349,"stop":1768663256174,"duration":132825}},{"uid":"b412c5d2a1dd723f","reportUrl":"../1248//#testresult/b412c5d2a1dd723f","status":"unknown","time":{}},{"uid":"703af6ce628ef587","reportUrl":"../1246//#testresult/703af6ce628ef587","status":"unknown","time":{}},{"uid":"5857d59c15c2a39e","reportUrl":"../1245//#testresult/5857d59c15c2a39e","status":"passed","time":{"start":1766848701364,"stop":1766848834625,"duration":133261}},{"uid":"80fff7d7a51f1cda","reportUrl":"../1244//#testresult/80fff7d7a51f1cda","status":"unknown","time":{}},{"uid":"e80f5cf43089d31","reportUrl":"../1226//#testresult/e80f5cf43089d31","status":"passed","time":{"start":1765639077380,"stop":1765639182775,"duration":105395}},{"uid":"fb36e8231b1a18d4","reportUrl":"../1201//#testresult/fb36e8231b1a18d4","status":"passed","time":{"start":1765034283514,"stop":1765034395546,"duration":112032}},{"uid":"aeba48caf70fc2fe","reportUrl":"../1197//#testresult/aeba48caf70fc2fe","status":"passed","time":{"start":1764429901991,"stop":1764430027930,"duration":125939}},{"uid":"2aa86e2c4a61e50b","reportUrl":"../1173//#testresult/2aa86e2c4a61e50b","status":"passed","time":{"start":1763971554425,"stop":1763971677595,"duration":123170}},{"uid":"8c791adc82c5ad36","reportUrl":"../1169//#testresult/8c791adc82c5ad36","status":"passed","time":{"start":1763964382318,"stop":1763964505056,"duration":122738}},{"uid":"7c53deb66620948a","reportUrl":"../1159//#testresult/7c53deb66620948a","status":"passed","time":{"start":1763706652778,"stop":1763706774888,"duration":122110}},{"uid":"a8c8a81eb3e0147f","reportUrl":"../1158//#testresult/a8c8a81eb3e0147f","status":"passed","time":{"start":1763557320079,"stop":1763557439681,"duration":119602}},{"uid":"4237d846dd7d2acf","reportUrl":"../1156//#testresult/4237d846dd7d2acf","status":"passed","time":{"start":1763548753469,"stop":1763548876136,"duration":122667}},{"uid":"2b187576cb7d1db3","reportUrl":"../1155//#testresult/2b187576cb7d1db3","status":"passed","time":{"start":1763547186157,"stop":1763547294146,"duration":107989}},{"uid":"363370968bdb9173","reportUrl":"../1154//#testresult/363370968bdb9173","status":"passed","time":{"start":1763546588747,"stop":1763546735893,"duration":147146}},{"uid":"241004763242bcae","reportUrl":"../1153//#testresult/241004763242bcae","status":"passed","time":{"start":1763533931867,"stop":1763534066997,"duration":135130}}]},"tags":[]},"source":"fec47e892c507cb5.json","parameterValues":["'spring_boot_app'","'redis/status'","8080"]}