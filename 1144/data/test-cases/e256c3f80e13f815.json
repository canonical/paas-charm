{"uid":"e256c3f80e13f815","name":"test_non_optional[fastapi]","fullName":"tests.integration.general.test_config#test_non_optional","historyId":"18a83cbe573dec77c86b481a0daeba72","time":{"start":1763119105751,"stop":1763119222606,"duration":116855},"description":"\n    arrange: Deploy the application.\n    act: Set the non-optional config options 1 by 1 and check.\n    assert: At first both options should be in status message,\n        when one set the charm should still be in blocked state\n        with the message showing which option is missing.\n        When both set charm should be in active state.\n    ","descriptionHtml":"<pre><code>arrange: Deploy the application.\nact: Set the non-optional config options 1 by 1 and check.\nassert: At first both options should be in status message,\n    when one set the charm should still be in blocked state\n    with the message showing which option is missing.\n    When both set charm should be in active state.\n</code></pre>\n","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":1,"retriesStatusChange":true,"beforeStages":[{"name":"tmp_path_factory","time":{"start":1763118858792,"stop":1763118858793,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop","time":{"start":1763118858792,"stop":1763118858792,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test","time":{"start":1763118858793,"stop":1763118859068,"duration":275},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"model","time":{"start":1763118859068,"stop":1763118859069,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"pytestconfig","time":{"start":1763118859070,"stop":1763118859070,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"postgresql_k8s","time":{"start":1763118936720,"stop":1763118942176,"duration":5456},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1763119105750,"stop":1763119105750,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"fastapi_app_image","time":{"start":1763119105751,"stop":1763119105751,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"fastapi_blocked_app","time":{"start":1763119105751,"stop":1763119185923,"duration":80172},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"\n    arrange: Deploy the application.\n    act: Set the non-optional config options 1 by 1 and check.\n    assert: At first both options should be in status message,\n        when one set the charm should still be in blocked state\n        with the message showing which option is missing.\n        When both set charm should be in active state.\n    ","status":"passed","steps":[],"attachments":[{"uid":"645c0b8dbd8dad8b","name":"log","source":"645c0b8dbd8dad8b.txt","type":"text/plain","size":661}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"abort_on_fail::0","time":{"start":1763119222608,"stop":1763119222608,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test::finalizer","time":{"start":1763119413808,"stop":1763119414340,"duration":532},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::2","time":{"start":1763119414341,"stop":1763119414341,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_close_event_loop","time":{"start":1763119414341,"stop":1763119414341,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_provide_clean_event_loop","time":{"start":1763119414342,"stop":1763119414342,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"asyncio"},{"name":"parentSuite","value":"tests.integration.general"},{"name":"suite","value":"test_config"},{"name":"host","value":"runnervmfxdz0"},{"name":"thread","value":"30536-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.general.test_config"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"blocked_app_fixture","value":"'fastapi_blocked_app'"},{"name":"first_non_optional_config","value":"{'non-optional-bool': 'True'}"},{"name":"missing_configs","value":"['non-optional-bool', 'non-optional-int', 'non-optional-string']"},{"name":"remaining_non_optional_configs_dict","value":"{'non-optional-int': '1', 'non-optional-string': 'non-optional-value'}"},{"name":"rest_of_the_invalid_configs","value":"['non-optional-int']"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"3643446760b4d97f","status":"unknown","time":{}}],"categories":[],"history":{"statistic":{"failed":0,"broken":2,"skipped":0,"passed":5,"unknown":0,"total":7},"items":[{"uid":"44656219f649bd94","reportUrl":"../1143//#testresult/44656219f649bd94","status":"passed","time":{"start":1763118762880,"stop":1763118859663,"duration":96783}},{"uid":"f8cd913a99ee3392","reportUrl":"../1140//#testresult/f8cd913a99ee3392","status":"passed","time":{"start":1762964488743,"stop":1762964584389,"duration":95646}},{"uid":"a07774207d83a104","reportUrl":"../1139//#testresult/a07774207d83a104","status":"passed","time":{"start":1761902237454,"stop":1761902336176,"duration":98722}},{"uid":"b16403f62b5fd813","reportUrl":"../1137//#testresult/b16403f62b5fd813","status":"passed","time":{"start":1761298276112,"stop":1761298369578,"duration":93466}},{"uid":"649c2b5d14d496","reportUrl":"../1121//#testresult/649c2b5d14d496","status":"broken","statusDetails":"asyncio.exceptions.TimeoutError: Timed out waiting for model:\n  fastapi-k8s/0 [idle] blocked: database migration command ['bash', '-eo', 'pipefail', 'migrate.sh'] failed, will retry in next update-status","time":{"start":1761047627314,"stop":1761048003194,"duration":375880}},{"uid":"722eecfda3f8c248","reportUrl":"../1120//#testresult/722eecfda3f8c248","status":"broken","statusDetails":"asyncio.exceptions.TimeoutError: Timed out waiting for model:\n  fastapi-k8s/0 [idle] blocked: database migration command ['bash', '-eo', 'pipefail', 'migrate.sh'] failed, will retry in next update-status","time":{"start":1761043193257,"stop":1761043568769,"duration":375512}}]},"tags":["asyncio"]},"source":"e256c3f80e13f815.json","parameterValues":["'fastapi_blocked_app'","{'non-optional-bool': 'True'}","['non-optional-bool', 'non-optional-int', 'non-optional-string']","{'non-optional-int': '1', 'non-optional-string': 'non-optional-value'}","['non-optional-int']"]}