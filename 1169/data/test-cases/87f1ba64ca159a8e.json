{"uid":"87f1ba64ca159a8e","name":"test_with_database[postgresql/status-postgresql-k8s-14/edge-None-True]","fullName":"tests.integration.flask.test_database#test_with_database","historyId":"c17289e37937ca20f259b2852937c9bf","time":{"start":1763964194766,"stop":1763964318814,"duration":124048},"description":"\n    arrange: build and deploy the flask charm.\n    act: deploy the database and relate it to the charm.\n    assert: requesting the charm should return a correct response\n    ","descriptionHtml":"<pre><code>arrange: build and deploy the flask charm.\nact: deploy the database and relate it to the charm.\nassert: requesting the charm should return a correct response\n</code></pre>\n","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":1,"retriesStatusChange":true,"beforeStages":[{"name":"event_loop","time":{"start":1763964151858,"stop":1763964151858,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"pytestconfig","time":{"start":1763964151859,"stop":1763964151859,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test","time":{"start":1763964151859,"stop":1763964152157,"duration":298},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"tmp_path_factory","time":{"start":1763964151859,"stop":1763964151859,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"charm_file","time":{"start":1763964152157,"stop":1763964152182,"duration":25},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"build_charm","time":{"start":1763964152182,"stop":1763964153536,"duration":1354},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_flask_image","time":{"start":1763964153536,"stop":1763964153536,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"flask_app","time":{"start":1763964153536,"stop":1763964194763,"duration":41227},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"model","time":{"start":1763964153536,"stop":1763964153536,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"get_unit_ips","time":{"start":1763964194764,"stop":1763964194764,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1763964194764,"stop":1763964194764,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"cwd","time":{"start":1763964194764,"stop":1763964194764,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"\n    arrange: build and deploy the flask charm.\n    act: deploy the database and relate it to the charm.\n    assert: requesting the charm should return a correct response\n    ","status":"passed","steps":[],"attachments":[{"uid":"1c2ae5836d36e6c5","name":"log","source":"1c2ae5836d36e6c5.txt","type":"text/plain","size":2252}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"abort_on_fail::0","time":{"start":1763964318815,"stop":1763964318815,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test::finalizer","time":{"start":1763964318817,"stop":1763964319291,"duration":474},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::2","time":{"start":1763964319292,"stop":1763964319292,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_close_event_loop","time":{"start":1763964319292,"stop":1763964319292,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_provide_clean_event_loop","time":{"start":1763964319292,"stop":1763964319292,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"asyncio"},{"name":"parentSuite","value":"tests.integration.flask"},{"name":"suite","value":"test_database"},{"name":"host","value":"runnervmfxdz0"},{"name":"thread","value":"26344-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.flask.test_database"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"db_channel","value":"'14/edge'"},{"name":"db_name","value":"'postgresql-k8s'"},{"name":"endpoint","value":"'postgresql/status'"},{"name":"revision","value":"None"},{"name":"trust","value":"True"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"539d408eb65e6fa8","status":"unknown","time":{}}],"categories":[],"history":{"statistic":{"failed":0,"broken":2,"skipped":0,"passed":18,"unknown":0,"total":20},"items":[{"uid":"9332bed7181bc7d2","reportUrl":"../1159//#testresult/9332bed7181bc7d2","status":"passed","time":{"start":1763706693911,"stop":1763707081410,"duration":387499}},{"uid":"36a87ce10242143a","reportUrl":"../1158//#testresult/36a87ce10242143a","status":"passed","time":{"start":1763557190032,"stop":1763557302695,"duration":112663}},{"uid":"84d6fdbdecc85e1d","reportUrl":"../1156//#testresult/84d6fdbdecc85e1d","status":"passed","time":{"start":1763548703987,"stop":1763548829834,"duration":125847}},{"uid":"53f66fb01fd67061","reportUrl":"../1155//#testresult/53f66fb01fd67061","status":"passed","time":{"start":1763547211563,"stop":1763547604771,"duration":393208}},{"uid":"392b6b0971942b4a","reportUrl":"../1154//#testresult/392b6b0971942b4a","status":"passed","time":{"start":1763546458731,"stop":1763546586684,"duration":127953}},{"uid":"a648c188df488815","reportUrl":"../1153//#testresult/a648c188df488815","status":"passed","time":{"start":1763533896887,"stop":1763534275638,"duration":378751}},{"uid":"da1b02147ac7c370","reportUrl":"../1152//#testresult/da1b02147ac7c370","status":"passed","time":{"start":1763469385355,"stop":1763469515460,"duration":130105}},{"uid":"5516c216c79c37c5","reportUrl":"../1151//#testresult/5516c216c79c37c5","status":"passed","time":{"start":1763365679300,"stop":1763366073873,"duration":394573}},{"uid":"4ca5bd41a33368e0","reportUrl":"../1150//#testresult/4ca5bd41a33368e0","status":"passed","time":{"start":1763126974714,"stop":1763127378167,"duration":403453}},{"uid":"b2a6fa1615fe5717","reportUrl":"../1148//#testresult/b2a6fa1615fe5717","status":"passed","time":{"start":1763124099476,"stop":1763124227637,"duration":128161}},{"uid":"5fa8e751df1645e9","reportUrl":"../1147//#testresult/5fa8e751df1645e9","status":"passed","time":{"start":1763119989916,"stop":1763120400561,"duration":410645}},{"uid":"8e45188075d40197","reportUrl":"../1145//#testresult/8e45188075d40197","status":"broken","statusDetails":"asyncio.exceptions.TimeoutError: Timed out waiting for model:\n  postgresql-k8s/0 [idle] waiting: awaiting for cluster to start","time":{"start":1763119958208,"stop":1763120561433,"duration":603225}},{"uid":"f153c5ed607c5843","reportUrl":"../1144//#testresult/f153c5ed607c5843","status":"passed","time":{"start":1763118701965,"stop":1763118827193,"duration":125228}},{"uid":"404fc5d538141df9","reportUrl":"../1143//#testresult/404fc5d538141df9","status":"passed","time":{"start":1763118562715,"stop":1763118692178,"duration":129463}},{"uid":"50b2966d9b6a5d61","reportUrl":"../1140//#testresult/50b2966d9b6a5d61","status":"broken","statusDetails":"juju.errors.JujuConnectionError: juju server-version 4.0rc1 not supported","time":{"start":1762964413246,"stop":1762964413246,"duration":0}},{"uid":"7488fe7a980f13bf","reportUrl":"../1139//#testresult/7488fe7a980f13bf","status":"passed","time":{"start":1761901895228,"stop":1761902023169,"duration":127941}},{"uid":"99592f649fe3d7b3","reportUrl":"../1137//#testresult/99592f649fe3d7b3","status":"passed","time":{"start":1761298228591,"stop":1761298635209,"duration":406618}},{"uid":"a4cf03fd55e8b902","reportUrl":"../1121//#testresult/a4cf03fd55e8b902","status":"passed","time":{"start":1761047271207,"stop":1761047393237,"duration":122030}},{"uid":"32571025a91858e6","reportUrl":"../1120//#testresult/32571025a91858e6","status":"passed","time":{"start":1761043260343,"stop":1761043391603,"duration":131260}}]},"tags":["asyncio"]},"source":"87f1ba64ca159a8e.json","parameterValues":["'14/edge'","'postgresql-k8s'","'postgresql/status'","None","True"]}