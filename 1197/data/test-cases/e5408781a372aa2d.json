{"uid":"e5408781a372aa2d","name":"test_non_optional[fastapi]","fullName":"tests.integration.general.test_config#test_non_optional","historyId":"18a83cbe573dec77c86b481a0daeba72","time":{"start":1764430062786,"stop":1764430161226,"duration":98440},"description":"\n    arrange: Deploy the application.\n    act: Set the non-optional config options 1 by 1 and check.\n    assert: At first both options should be in status message,\n        when one set the charm should still be in blocked state\n        with the message showing which option is missing.\n        When both set charm should be in active state.\n    ","descriptionHtml":"<pre><code>arrange: Deploy the application.\nact: Set the non-optional config options 1 by 1 and check.\nassert: At first both options should be in status message,\n    when one set the charm should still be in blocked state\n    with the message showing which option is missing.\n    When both set charm should be in active state.\n</code></pre>\n","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":1,"retriesStatusChange":true,"beforeStages":[{"name":"event_loop","time":{"start":1764429815852,"stop":1764429815853,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test","time":{"start":1764429815853,"stop":1764429816112,"duration":259},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"tmp_path_factory","time":{"start":1764429815853,"stop":1764429815853,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"model","time":{"start":1764429816112,"stop":1764429816112,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"pytestconfig","time":{"start":1764429816113,"stop":1764429816113,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"postgresql_k8s","time":{"start":1764429892855,"stop":1764429896599,"duration":3744},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1764430062785,"stop":1764430062785,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"fastapi_app_image","time":{"start":1764430062786,"stop":1764430062786,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"fastapi_blocked_app","time":{"start":1764430062786,"stop":1764430124543,"duration":61757},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"\n    arrange: Deploy the application.\n    act: Set the non-optional config options 1 by 1 and check.\n    assert: At first both options should be in status message,\n        when one set the charm should still be in blocked state\n        with the message showing which option is missing.\n        When both set charm should be in active state.\n    ","status":"passed","steps":[],"attachments":[{"uid":"52b66c78f008d2c5","name":"log","source":"52b66c78f008d2c5.txt","type":"text/plain","size":661}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"abort_on_fail::0","time":{"start":1764430161227,"stop":1764430161227,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test::finalizer","time":{"start":1764430371526,"stop":1764430372034,"duration":508},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::2","time":{"start":1764430372035,"stop":1764430372035,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_close_event_loop","time":{"start":1764430372035,"stop":1764430372035,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_provide_clean_event_loop","time":{"start":1764430372035,"stop":1764430372036,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"asyncio"},{"name":"parentSuite","value":"tests.integration.general"},{"name":"suite","value":"test_config"},{"name":"host","value":"runnervmg1sw1"},{"name":"thread","value":"27204-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.general.test_config"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"blocked_app_fixture","value":"'fastapi_blocked_app'"},{"name":"first_non_optional_config","value":"{'non-optional-bool': 'True'}"},{"name":"missing_configs","value":"['non-optional-bool', 'non-optional-int', 'non-optional-string']"},{"name":"remaining_non_optional_configs_dict","value":"{'non-optional-int': '1', 'non-optional-string': 'non-optional-value'}"},{"name":"rest_of_the_invalid_configs","value":"['non-optional-int']"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"d00cf65e51dc315d","status":"unknown","time":{}}],"categories":[],"history":{"statistic":{"failed":0,"broken":2,"skipped":0,"passed":18,"unknown":2,"total":22},"items":[{"uid":"bd9630adc8a377bd","reportUrl":"../1173//#testresult/bd9630adc8a377bd","status":"passed","time":{"start":1763971792282,"stop":1763971888322,"duration":96040}},{"uid":"325800f394fa90f","reportUrl":"../1169//#testresult/325800f394fa90f","status":"passed","time":{"start":1763964422693,"stop":1763964521562,"duration":98869}},{"uid":"cc59a2f68c6eccd5","reportUrl":"../1159//#testresult/cc59a2f68c6eccd5","status":"passed","time":{"start":1763706835993,"stop":1763706934568,"duration":98575}},{"uid":"f3b6eb1ddd3cb551","reportUrl":"../1158//#testresult/f3b6eb1ddd3cb551","status":"passed","time":{"start":1763557402401,"stop":1763557499281,"duration":96880}},{"uid":"292916e704173f8a","reportUrl":"../1156//#testresult/292916e704173f8a","status":"passed","time":{"start":1763548907051,"stop":1763549004644,"duration":97593}},{"uid":"6cacb52492a5882e","reportUrl":"../1155//#testresult/6cacb52492a5882e","status":"passed","time":{"start":1763547359228,"stop":1763547457803,"duration":98575}},{"uid":"43a8d6d253376c91","reportUrl":"../1154//#testresult/43a8d6d253376c91","status":"passed","time":{"start":1763546675309,"stop":1763546772062,"duration":96753}},{"uid":"29533d7eb6d6bbb5","reportUrl":"../1153//#testresult/29533d7eb6d6bbb5","status":"passed","time":{"start":1763534096661,"stop":1763534193130,"duration":96469}},{"uid":"33d1c8574718c4fb","reportUrl":"../1152//#testresult/33d1c8574718c4fb","status":"passed","time":{"start":1763469561153,"stop":1763469657042,"duration":95889}},{"uid":"e7af9ffb35025e5d","reportUrl":"../1151//#testresult/e7af9ffb35025e5d","status":"passed","time":{"start":1763365911331,"stop":1763366007636,"duration":96305}},{"uid":"d4b3a7a45ea7c212","reportUrl":"../1150//#testresult/d4b3a7a45ea7c212","status":"passed","time":{"start":1763127199935,"stop":1763127298367,"duration":98432}},{"uid":"95f8425a348556cb","reportUrl":"../1148//#testresult/95f8425a348556cb","status":"passed","time":{"start":1763124277699,"stop":1763124373077,"duration":95378}},{"uid":"ea0f38a93b512424","reportUrl":"../1147//#testresult/ea0f38a93b512424","status":"unknown","time":{}},{"uid":"ec561ad59696d429","reportUrl":"../1145//#testresult/ec561ad59696d429","status":"unknown","time":{}},{"uid":"e256c3f80e13f815","reportUrl":"../1144//#testresult/e256c3f80e13f815","status":"passed","time":{"start":1763119105751,"stop":1763119222606,"duration":116855}},{"uid":"44656219f649bd94","reportUrl":"../1143//#testresult/44656219f649bd94","status":"passed","time":{"start":1763118762880,"stop":1763118859663,"duration":96783}},{"uid":"f8cd913a99ee3392","reportUrl":"../1140//#testresult/f8cd913a99ee3392","status":"passed","time":{"start":1762964488743,"stop":1762964584389,"duration":95646}},{"uid":"a07774207d83a104","reportUrl":"../1139//#testresult/a07774207d83a104","status":"passed","time":{"start":1761902237454,"stop":1761902336176,"duration":98722}},{"uid":"b16403f62b5fd813","reportUrl":"../1137//#testresult/b16403f62b5fd813","status":"passed","time":{"start":1761298276112,"stop":1761298369578,"duration":93466}},{"uid":"649c2b5d14d496","reportUrl":"../1121//#testresult/649c2b5d14d496","status":"broken","statusDetails":"asyncio.exceptions.TimeoutError: Timed out waiting for model:\n  fastapi-k8s/0 [idle] blocked: database migration command ['bash', '-eo', 'pipefail', 'migrate.sh'] failed, will retry in next update-status","time":{"start":1761047627314,"stop":1761048003194,"duration":375880}}]},"tags":["asyncio"]},"source":"e5408781a372aa2d.json","parameterValues":["'fastapi_blocked_app'","{'non-optional-bool': 'True'}","['non-optional-bool', 'non-optional-int', 'non-optional-string']","{'non-optional-int': '1', 'non-optional-string': 'non-optional-value'}","['non-optional-int']"]}