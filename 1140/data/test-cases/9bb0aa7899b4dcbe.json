{"uid":"9bb0aa7899b4dcbe","name":"test_oauth_integrations[flask_app-login]","fullName":"tests.integration.integrations.test_oauth#test_oauth_integrations","historyId":"53671c3c0c1f345c712670b4ce2a9a8a","time":{"start":1762964262802,"stop":1762965007098,"duration":744296},"description":"\n    arrange: set up the test Juju model and deploy the workload charm.\n    act: integrate with ingress and hydra.\n    assert: the workload charm uses the Kratos charm as the idp.\n    ","descriptionHtml":"<pre><code>arrange: set up the test Juju model and deploy the workload charm.\nact: integrate with ingress and hydra.\nassert: the workload charm uses the Kratos charm as the idp.\n</code></pre>\n","status":"broken","statusMessage":"TimeoutError: wait timed out after 600s\nStatus(\n  model=ModelStatus(\n    name='testing',\n    type='caas',\n    controller='github-pr-8beda-microk8s',\n    cloud='microk8s',\n    version='4.0-rc1',\n    region='localhost',\n    model_status=StatusInfo(current='available', since='12 Nov 2025 16:30:02Z'),\n  ),\n  machines={},\n  apps={\n    'flask-k8s': AppStatus(\n      charm='local:flask-k8s-0',\n      charm_origin='local',\n      charm_name='flask-k8s',\n      charm_rev=0,\n      exposed=False,\n      base=FormattedBase(name='ubuntu', channel='22.04'),\n      scale=1,\n      provider_id='c6953d0f-7abd-446c-bdfb-606a90ed8653',\n      life='alive',\n      app_status=StatusInfo(current='active', since='12 Nov 2025 16:20:30Z'),\n      relations={\n        'ingress': [\n          AppStatusRelation(related_app='traefik-public', interface='ingress', scope='global'),\n        ],\n        'secret-storage': [\n          AppStatusRelation(related_app='flask-k8s', interface='secret-storage', scope='global'),\n        ],\n      },\n      units={\n        'flask-k8s/0': UnitStatus(\n          workload_status=StatusInfo(current='active', since='12 Nov 2025 16:20:30Z'),\n          juju_status=StatusInfo(current='idle', since='12 Nov 2025 16:20:30Z', version='4.0-rc1'),\n          leader=True,\n          open_ports=['8000/tcp'],\n          address='10.1.50.148',\n          provider_id='flask-k8s-0',\n        ),\n      },\n      endpoint_bindings={\n        '': 'alpha',\n        'grafana-dashboard': 'alpha',\n        'http-proxy': 'alpha',\n        'ingress': 'alpha',\n        'juju-info': 'alpha',\n        'logging': 'alpha',\n        'metrics-endpoint': 'alpha',\n        'mongodb': 'alpha',\n        'mysql': 'alpha',\n        'oidc': 'alpha',\n        'openfga': 'alpha',\n        'postgresql': 'alpha',\n        'rabbitmq': 'alpha',\n        'redis': 'alpha',\n        's3': 'alpha',\n        'saml': 'alpha',\n        'secret-storage': 'alpha',\n        'smtp': 'alpha',\n        'tracing': 'alpha',\n      },\n    ),\n    'hydra': AppStatus(\n      charm='hydra',\n      charm_origin='charmhub',\n      charm_name='hydra',\n      charm_rev=339,\n      exposed=False,\n      base=FormattedBase(name='ubuntu', channel='22.04'),\n      charm_channel='latest/edge',\n      scale=1,\n      provider_id='1640a84b-5f0f-4b38-bb0c-527da7185473',\n      life='alive',\n      app_status=StatusInfo(current='active', since='12 Nov 2025 16:19:53Z'),\n      relations={\n        'admin-ingress': [\n          AppStatusRelation(related_app='traefik-admin', interface='ingress', scope='global'),\n        ],\n        'hydra': [\n          AppStatusRelation(related_app='hydra', interface='hydra_peers', scope='global'),\n        ],\n        'hydra-endpoint-info': [\n          AppStatusRelation(related_app='identity-platform-login-ui-operator', interface='hydra_endpoints', scope='global'),\n          AppStatusRelation(related_app='kratos', interface='hydra_endpoints', scope='global'),\n        ],\n        'pg-database': [\n          AppStatusRelation(related_app='postgresql-k8s', interface='postgresql_client', scope='global'),\n        ],\n        'public-ingress': [\n          AppStatusRelation(related_app='traefik-public', interface='ingress', scope='global'),\n        ],\n        'ui-endpoint-info': [\n          AppStatusRelation(related_app='identity-platform-login-ui-operator', interface='login_ui_endpoints', scope='global'),\n        ],\n      },\n      units={\n        'hydra/0': UnitStatus(\n          workload_status=StatusInfo(current='active', since='12 Nov 2025 16:21:54Z'),\n          juju_status=StatusInfo(current='idle', since='12 Nov 2025 16:21:54Z', version='4.0-rc1'),\n          leader=True,\n          open_ports=['4444/tcp', '4445/tcp'],\n          address='10.1.50.138',\n          provider_id='hydra-0',\n        ),\n      },\n      version='v2.3.0',\n      endpoint_bindings={\n        '': 'alpha',\n        'admin-ingress': 'alpha',\n        'grafana-dashboard': 'alpha',\n        'hydra': 'alpha',\n        'hydra-endpoint-info': 'alpha',\n        'internal-ingress': 'alpha',\n        'juju-info': 'alpha',\n        'logging': 'alpha',\n        'metrics-endpoint': 'alpha',\n        'oauth': 'alpha',\n        'pg-database': 'alpha',\n        'public-ingress': 'alpha',\n        'tracing': 'alpha',\n        'ui-endpoint-info': 'alpha',\n      },\n    ),\n    'identity-platform-login-ui-operator': AppStatus(\n      charm='identity-platform-login-ui-operator',\n      charm_origin='charmhub',\n      charm_name='identity-platform-login-ui-operator',\n      charm_rev=146,\n      exposed=False,\n      base=FormattedBase(name='ubuntu', channel='22.04'),\n      charm_channel='latest/edge',\n      scale=1,\n      provider_id='86e3743c-04d0-4e9c-b6d8-57634708395b',\n      life='alive',\n      app_status=StatusInfo(current='active', since='12 Nov 2025 16:19:50Z'),\n      relations={\n        'hydra-endpoint-info': [\n          AppStatusRelation(related_app='hydra', interface='hydra_endpoints', scope='global'),\n        ],\n        'identity-platform-login-ui': [\n          AppStatusRelation(related_app='identity-platform-login-ui-operator', interface='identity_platform_login_ui_peers', scope='global'),\n        ],\n        'ingress': [\n          AppStatusRelation(related_app='traefik-public', interface='ingress', scope='global'),\n        ],\n        'kratos-info': [\n          AppStatusRelation(related_app='kratos', interface='kratos_info', scope='global'),\n        ],\n        'ui-endpoint-info': [\n          AppStatusRelation(related_app='hydra', interface='login_ui_endpoints', scope='global'),\n          AppStatusRelation(related_app='kratos', interface='login_ui_endpoints', scope='global'),\n        ],\n      },\n      units={\n        'identity-platform-login-ui-operator/0': UnitStatus(\n          workload_status=StatusInfo(current='active', since='12 Nov 2025 16:20:28Z'),\n          juju_status=StatusInfo(current='idle', since='12 Nov 2025 16:20:29Z', version='4.0-rc1'),\n          leader=True,\n          address='10.1.50.145',\n          provider_id='identity-platform-login-ui-operator-0',\n        ),\n      },\n      version='0.21.2',\n      endpoint_bindings={\n        '': 'alpha',\n        'grafana-dashboard': 'alpha',\n        'hydra-endpoint-info': 'alpha',\n        'identity-platform-login-ui': 'alpha',\n        'ingress': 'alpha',\n        'juju-info': 'alpha',\n        'kratos-info': 'alpha',\n        'logging': 'alpha',\n        'metrics-endpoint': 'alpha',\n        'receive-ca-cert': 'alpha',\n        'tracing': 'alpha',\n        'ui-endpoint-info': 'alpha',\n      },\n    ),\n    'kratos': AppStatus(\n      charm='kratos',\n      charm_origin='charmhub',\n      charm_name='kratos',\n      charm_rev=500,\n      exposed=False,\n      base=FormattedBase(name='ubuntu', channel='22.04'),\n      charm_channel='latest/edge',\n      scale=1,\n      provider_id='ee51037f-05ac-4942-b277-b8c5dcae2a50',\n      life='alive',\n      app_status=StatusInfo(current='active', since='12 Nov 2025 16:20:00Z'),\n      relations={\n        'admin-ingress': [\n          AppStatusRelation(related_app='traefik-admin', interface='ingress', scope='global'),\n        ],\n        'hydra-endpoint-info': [\n          AppStatusRelation(related_app='hydra', interface='hydra_endpoints', scope='global'),\n        ],\n        'kratos-info': [\n          AppStatusRelation(related_app='identity-platform-login-ui-operator', interface='kratos_info', scope='global'),\n        ],\n        'kratos-peers': [\n          AppStatusRelation(related_app='kratos', interface='kratos-peers', scope='global'),\n        ],\n        'pg-database': [\n          AppStatusRelation(related_app='postgresql-k8s', interface='postgresql_client', scope='global'),\n        ],\n        'public-ingress': [\n          AppStatusRelation(related_app='traefik-public', interface='ingress', scope='global'),\n        ],\n        'ui-endpoint-info': [\n          AppStatusRelation(related_app='identity-platform-login-ui-operator', interface='login_ui_endpoints', scope='global'),\n        ],\n      },\n      units={\n        'kratos/0': UnitStatus(\n          workload_status=StatusInfo(current='active', since='12 Nov 2025 16:25:37Z'),\n          juju_status=StatusInfo(current='idle', since='12 Nov 2025 16:22:11Z', version='4.0-rc1'),\n          leader=True,\n          address='10.1.50.149',\n          provider_id='kratos-0',\n        ),\n      },\n      version='v1.3.1',\n      endpoint_bindings={\n        '': 'alpha',\n        'admin-ingress': 'alpha',\n        'grafana-dashboard': 'alpha',\n        'hydra-endpoint-info': 'alpha',\n        'internal-ingress': 'alpha',\n        'juju-info': 'alpha',\n        'kratos-external-idp': 'alpha',\n        'kratos-info': 'alpha',\n        'kratos-peers': 'alpha',\n        'logging': 'alpha',\n        'metrics-endpoint': 'alpha',\n        'pg-database': 'alpha',\n        'public-ingress': 'alpha',\n        'receive-ca-cert': 'alpha',\n        'smtp': 'alpha',\n        'tracing': 'alpha',\n        'ui-endpoint-info': 'alpha',\n      },\n    ),\n    'kratos-external-idp-integrator': AppStatus(\n      charm='kratos-external-idp-integrator',\n      charm_origin='charmhub',\n      charm_name='kratos-external-idp-integrator',\n      charm_rev=245,\n      exposed=False,\n      base=FormattedBase(name='ubuntu', channel='22.04'),\n      charm_channel='latest/edge',\n      life='dying',\n      app_status=StatusInfo(current='waiting', message='installing agent', since='12 Nov 2025 16:17:37Z'),\n      units={\n        'kratos-external-idp-integrator/0': UnitStatus(\n          workload_status=StatusInfo(current='waiting', message='installing agent', since='12 Nov 2025 16:17:37Z'),\n          juju_status=StatusInfo(current='allocating', since='12 Nov 2025 16:17:37Z'),\n        ),\n      },\n      endpoint_bindings={'': 'alpha', 'juju-info': 'alpha', 'kratos-external-idp': 'alpha'},\n    ),\n    'postgresql-k8s': AppStatus(\n      charm='postgresql-k8s',\n      charm_origin='charmhub',\n      charm_name='postgresql-k8s',\n      charm_rev=495,\n      exposed=False,\n      base=FormattedBase(name='ubuntu', channel='22.04'),\n      charm_channel='14/stable',\n      scale=1,\n      provider_id='aee8cb4b-ccb2-45af-9f95-3bdf98951508',\n      life='alive',\n      app_status=StatusInfo(current='active', since='12 Nov 2025 16:27:53Z'),\n      relations={\n        'database': [\n          AppStatusRelation(related_app='hydra', interface='postgresql_client', scope='global'),\n          AppStatusRelation(related_app='kratos', interface='postgresql_client', scope='global'),\n        ],\n        'database-peers': [\n          AppStatusRelation(related_app='postgresql-k8s', interface='postgresql_peers', scope='global'),\n        ],\n        'restart': [\n          AppStatusRelation(related_app='postgresql-k8s', interface='rolling_op', scope='global'),\n        ],\n        'upgrade': [\n          AppStatusRelation(related_app='postgresql-k8s', interface='upgrade', scope='global'),\n        ],\n      },\n      units={\n        'postgresql-k8s/0': UnitStatus(\n          workload_status=StatusInfo(current='active', message='Primary', since='12 Nov 2025 16:28:25Z'),\n          juju_status=StatusInfo(current='idle', since='12 Nov 2025 16:22:06Z', version='4.0-rc1'),\n          leader=True,\n          open_ports=['5432/tcp', '8008/tcp'],\n          address='10.1.50.142',\n          provider_id='postgresql-k8s-0',\n        ),\n      },\n      version='14.15',\n      endpoint_bindings={\n        '': 'alpha',\n        'certificates': 'alpha',\n        'database': 'alpha',\n        'database-peers': 'alpha',\n        'db': 'alpha',\n        'db-admin': 'alpha',\n        'grafana-dashboard': 'alpha',\n        'juju-info': 'alpha',\n        'logging': 'alpha',\n        'metrics-endpoint': 'alpha',\n        'replication': 'alpha',\n        'replication-offer': 'alpha',\n        'restart': 'alpha',\n        's3-parameters': 'alpha',\n        'tracing': 'alpha',\n        'upgrade': 'alpha',\n      },\n    ),\n    'self-signed-certificates': AppStatus(\n      charm='self-signed-certificates',\n      charm_origin='charmhub',\n      charm_name='self-signed-certificates',\n      charm_rev=155,\n      exposed=False,\n      base=FormattedBase(name='ubuntu', channel='22.04'),\n      charm_channel='latest/stable',\n      scale=1,\n      provider_id='3a7e3392-a109-437a-b723-a2469720bba3',\n      life='alive',\n      app_status=StatusInfo(current='active', since='12 Nov 2025 16:19:35Z'),\n      relations={\n        'certificates': [\n          AppStatusRelation(related_app='traefik-admin', interface='tls-certificates', scope='global'),\n          AppStatusRelation(related_app='traefik-public', interface='tls-certificates', scope='global'),\n        ],\n      },\n      units={\n        'self-signed-certificates/0': UnitStatus(\n          workload_status=StatusInfo(current='active', since='12 Nov 2025 16:29:10Z'),\n          juju_status=StatusInfo(current='idle', since='12 Nov 2025 16:20:01Z', version='4.0-rc1'),\n          leader=True,\n          address='10.1.50.139',\n          provider_id='self-signed-certificates-0',\n        ),\n      },\n      endpoint_bindings={'': 'alpha', 'certificates': 'alpha', 'juju-info': 'alpha', 'send-ca-cert': 'alpha', 'tracing': 'alpha'},\n    ),\n    'traefik-admin': AppStatus(\n      charm='traefik-k8s',\n      charm_origin='charmhub',\n      charm_name='traefik-k8s',\n      charm_rev=176,\n      exposed=False,\n      base=FormattedBase(name='ubuntu', channel='20.04'),\n      charm_channel='latest/stable',\n      scale=1,\n      provider_id='7d94b3d0-b9fd-428d-8cd8-20443044b807',\n      life='alive',\n      app_status=StatusInfo(current='active', since='12 Nov 2025 16:20:04Z'),\n      relations={\n        'certificates': [\n          AppStatusRelation(related_app='self-signed-certificates', interface='tls-certificates', scope='global'),\n        ],\n        'ingress': [\n          AppStatusRelation(related_app='hydra', interface='ingress', scope='global'),\n          AppStatusRelation(related_app='kratos', interface='ingress', scope='global'),\n        ],\n        'peers': [\n          AppStatusRelation(related_app='traefik-admin', interface='traefik_peers', scope='global'),\n        ],\n      },\n      units={\n        'traefik-admin/0': UnitStatus(\n          workload_status=StatusInfo(current='active', since='12 Nov 2025 16:29:26Z'),\n          juju_status=StatusInfo(current='idle', since='12 Nov 2025 16:20:15Z', version='4.0-rc1'),\n          leader=True,\n          address='10.1.50.147',\n          provider_id='traefik-admin-0',\n        ),\n      },\n      version='v2.11.0',\n      endpoint_bindings={\n        '': 'alpha',\n        'certificates': 'alpha',\n        'experimental-forward-auth': 'alpha',\n        'grafana-dashboard': 'alpha',\n        'ingress': 'alpha',\n        'ingress-per-unit': 'alpha',\n        'juju-info': 'alpha',\n        'logging': 'alpha',\n        'metrics-endpoint': 'alpha',\n        'peers': 'alpha',\n        'receive-ca-cert': 'alpha',\n        'tracing': 'alpha',\n        'traefik-route': 'alpha',\n      },\n    ),\n    'traefik-public': AppStatus(\n      charm='traefik-k8s',\n      charm_origin='charmhub',\n      charm_name='traefik-k8s',\n      charm_rev=176,\n      exposed=False,\n      base=FormattedBase(name='ubuntu', channel='20.04'),\n      charm_channel='latest/stable',\n      scale=1,\n      provider_id='efc2b54c-f3a0-4962-ac6e-a27a72ac7c1d',\n      life='alive',\n      app_status=StatusInfo(current='active', since='12 Nov 2025 16:20:16Z'),\n      relations={\n        'certificates': [\n          AppStatusRelation(related_app='self-signed-certificates', interface='tls-certificates', scope='global'),\n        ],\n        'ingress': [\n          AppStatusRelation(related_app='flask-k8s', interface='ingress', scope='global'),\n          AppStatusRelation(related_app='hydra', interface='ingress', scope='global'),\n          AppStatusRelation(related_app='identity-platform-login-ui-operator', interface='ingress', scope='global'),\n          AppStatusRelation(related_app='kratos', interface='ingress', scope='global'),\n        ],\n        'peers': [\n          AppStatusRelation(related_app='traefik-public', interface='traefik_peers', scope='global'),\n        ],\n      },\n      units={\n        'traefik-public/0': UnitStatus(\n          workload_status=StatusInfo(current='active', since='12 Nov 2025 16:29:00Z'),\n          juju_status=StatusInfo(current='idle', since='12 Nov 2025 16:20:34Z', version='4.0-rc1'),\n          leader=True,\n          address='10.1.50.144',\n          provider_id='traefik-public-0',\n        ),\n      },\n      version='v2.11.0',\n      endpoint_bindings={\n        '': 'alpha',\n        'certificates': 'alpha',\n        'experimental-forward-auth': 'alpha',\n        'grafana-dashboard': 'alpha',\n        'ingress': 'alpha',\n        'ingress-per-unit': 'alpha',\n        'juju-info': 'alpha',\n        'logging': 'alpha',\n        'metrics-endpoint': 'alpha',\n        'peers': 'alpha',\n        'receive-ca-cert': 'alpha',\n        'tracing': 'alpha',\n        'traefik-route': 'alpha',\n      },\n    ),\n  },\n  storage=CombinedStorage(\n    storage={\n      'configurations/1': StorageInfo(\n        kind='filesystem',\n        status=EntityStatus(current='attached', since='12 Nov 2025 16:19:11Z'),\n        persistent=False,\n        life='alive',\n        attachments=StorageAttachments(\n          units={\n            'traefik-admin/0': UnitStorageAttachment(location='/var/lib/juju/storage/572c96b1-fad9-4f6d-84f6-1c13d3f3a3ef'),\n          },\n        ),\n      ),\n      'configurations/2': StorageInfo(\n        kind='filesystem',\n        status=EntityStatus(current='attached', since='12 Nov 2025 16:19:10Z'),\n        persistent=False,\n        life='alive',\n        attachments=StorageAttachments(\n          units={\n            'traefik-public/0': UnitStorageAttachment(location='/var/lib/juju/storage/2e32ca13-95d1-46e2-8d3a-af5ed0e7dfb2'),\n          },\n        ),\n      ),\n      'pgdata/0': StorageInfo(\n        kind='filesystem',\n        status=EntityStatus(current='attached', since='12 Nov 2025 16:19:10Z'),\n        persistent=False,\n        life='alive',\n        attachments=StorageAttachments(\n          units={\n            'postgresql-k8s/0': UnitStorageAttachment(location='/var/lib/postgresql/data'),\n          },\n        ),\n      ),\n    },\n    filesystems={\n      '0': FilesystemInfo(\n        size=1024,\n        provider_id='pvc-a1f2fef7-fcba-43ec-a523-fc63b40d6125',\n        storage='pgdata/0',\n        attachments=FilesystemAttachments(\n          containers={\n            'postgresql-k8s/0': FilesystemAttachment(mount_point='/var/lib/postgresql/data', read_only=False, life='alive'),\n          },\n          units={\n            'postgresql-k8s/0': UnitStorageAttachment(location='/var/lib/postgresql/data'),\n          },\n        ),\n        life='alive',\n        status=EntityStatus(current='attached', since='12 Nov 2025 16:19:10Z'),\n      ),\n      '1': FilesystemInfo(\n        size=1024,\n        provider_id='pvc-2822dbba-89b3-42c8-a2e9-9a9b8f363ad7',\n        storage='configurations/1',\n        attachments=FilesystemAttachments(\n          containers={\n            'traefik-admin/0': FilesystemAttachment(mount_point='/var/lib/juju/storage/572c96b1-fad9-4f6d-84f6-1c13d3f3a3ef', read_only=False, life='alive'),\n          },\n          units={\n            'traefik-admin/0': UnitStorageAttachment(location='/var/lib/juju/storage/572c96b1-fad9-4f6d-84f6-1c13d3f3a3ef'),\n          },\n        ),\n        life='alive',\n        status=EntityStatus(current='attached', since='12 Nov 2025 16:19:11Z'),\n      ),\n      '2': FilesystemInfo(\n        size=1024,\n        provider_id='pvc-06b4e5fc-3fda-42c5-b6cb-6950947efc50',\n        storage='configurations/2',\n        attachments=FilesystemAttachments(\n          containers={\n            'traefik-public/0': FilesystemAttachment(mount_point='/var/lib/juju/storage/2e32ca13-95d1-46e2-8d3a-af5ed0e7dfb2', read_only=False, life='alive'),\n          },\n          units={\n            'traefik-public/0': UnitStorageAttachment(location='/var/lib/juju/storage/2e32ca13-95d1-46e2-8d3a-af5ed0e7dfb2'),\n          },\n        ),\n        life='alive',\n        status=EntityStatus(current='attached', since='12 Nov 2025 16:19:10Z'),\n      ),\n    },\n  ),\n  controller=ControllerStatus(timestamp='16:30:02Z'),\n)","statusTrace":"Traceback (most recent call last):\n  File \"/home/runner/work/paas-charm/paas-charm/.tox/integration/lib/python3.10/site-packages/_pytest/runner.py\", line 353, in from_call\n    result: TResult | None = func()\n  File \"/home/runner/work/paas-charm/paas-charm/.tox/integration/lib/python3.10/site-packages/_pytest/runner.py\", line 245, in <lambda>\n    lambda: runtest_hook(item=item, **kwds),\n  File \"/home/runner/work/paas-charm/paas-charm/.tox/integration/lib/python3.10/site-packages/pluggy/_hooks.py\", line 512, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File \"/home/runner/work/paas-charm/paas-charm/.tox/integration/lib/python3.10/site-packages/pluggy/_manager.py\", line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File \"/home/runner/work/paas-charm/paas-charm/.tox/integration/lib/python3.10/site-packages/pluggy/_callers.py\", line 167, in _multicall\n    raise exception\n  File \"/home/runner/work/paas-charm/paas-charm/.tox/integration/lib/python3.10/site-packages/pluggy/_callers.py\", line 139, in _multicall\n    teardown.throw(exception)\n  File \"/home/runner/work/paas-charm/paas-charm/.tox/integration/lib/python3.10/site-packages/_pytest/logging.py\", line 850, in pytest_runtest_call\n    yield\n  File \"/home/runner/work/paas-charm/paas-charm/.tox/integration/lib/python3.10/site-packages/pluggy/_callers.py\", line 139, in _multicall\n    teardown.throw(exception)\n  File \"/home/runner/work/paas-charm/paas-charm/.tox/integration/lib/python3.10/site-packages/pluggy/_callers.py\", line 53, in run_old_style_hookwrapper\n    return result.get_result()\n  File \"/home/runner/work/paas-charm/paas-charm/.tox/integration/lib/python3.10/site-packages/pluggy/_result.py\", line 103, in get_result\n    raise exc.with_traceback(tb)\n  File \"/home/runner/work/paas-charm/paas-charm/.tox/integration/lib/python3.10/site-packages/pluggy/_callers.py\", line 38, in run_old_style_hookwrapper\n    res = yield\n  File \"/home/runner/work/paas-charm/paas-charm/.tox/integration/lib/python3.10/site-packages/pluggy/_callers.py\", line 139, in _multicall\n    teardown.throw(exception)\n  File \"/home/runner/work/paas-charm/paas-charm/.tox/integration/lib/python3.10/site-packages/_pytest/capture.py\", line 900, in pytest_runtest_call\n    return (yield)\n  File \"/home/runner/work/paas-charm/paas-charm/.tox/integration/lib/python3.10/site-packages/pluggy/_callers.py\", line 139, in _multicall\n    teardown.throw(exception)\n  File \"/home/runner/work/paas-charm/paas-charm/.tox/integration/lib/python3.10/site-packages/_pytest/skipping.py\", line 268, in pytest_runtest_call\n    return (yield)\n  File \"/home/runner/work/paas-charm/paas-charm/.tox/integration/lib/python3.10/site-packages/pluggy/_callers.py\", line 121, in _multicall\n    res = hook_impl.function(*args)\n  File \"/home/runner/work/paas-charm/paas-charm/.tox/integration/lib/python3.10/site-packages/_pytest/runner.py\", line 179, in pytest_runtest_call\n    item.runtest()\n  File \"/home/runner/work/paas-charm/paas-charm/.tox/integration/lib/python3.10/site-packages/_pytest/python.py\", line 1720, in runtest\n    self.ihook.pytest_pyfunc_call(pyfuncitem=self)\n  File \"/home/runner/work/paas-charm/paas-charm/.tox/integration/lib/python3.10/site-packages/pluggy/_hooks.py\", line 512, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File \"/home/runner/work/paas-charm/paas-charm/.tox/integration/lib/python3.10/site-packages/pluggy/_manager.py\", line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File \"/home/runner/work/paas-charm/paas-charm/.tox/integration/lib/python3.10/site-packages/pluggy/_callers.py\", line 167, in _multicall\n    raise exception\n  File \"/home/runner/work/paas-charm/paas-charm/.tox/integration/lib/python3.10/site-packages/pluggy/_callers.py\", line 139, in _multicall\n    teardown.throw(exception)\n  File \"/home/runner/work/paas-charm/paas-charm/.tox/integration/lib/python3.10/site-packages/pluggy/_callers.py\", line 53, in run_old_style_hookwrapper\n    return result.get_result()\n  File \"/home/runner/work/paas-charm/paas-charm/.tox/integration/lib/python3.10/site-packages/pluggy/_result.py\", line 103, in get_result\n    raise exc.with_traceback(tb)\n  File \"/home/runner/work/paas-charm/paas-charm/.tox/integration/lib/python3.10/site-packages/pluggy/_callers.py\", line 38, in run_old_style_hookwrapper\n    res = yield\n  File \"/home/runner/work/paas-charm/paas-charm/.tox/integration/lib/python3.10/site-packages/pluggy/_callers.py\", line 121, in _multicall\n    res = hook_impl.function(*args)\n  File \"/home/runner/work/paas-charm/paas-charm/.tox/integration/lib/python3.10/site-packages/_pytest/python.py\", line 166, in pytest_pyfunc_call\n    result = testfunction(**testargs)\n  File \"/home/runner/work/paas-charm/paas-charm/tests/integration/integrations/test_oauth.py\", line 56, in test_oauth_integrations\n    juju.wait(\n  File \"/home/runner/work/paas-charm/paas-charm/.tox/integration/lib/python3.10/site-packages/jubilant/_juju.py\", line 998, in wait\n    raise TimeoutError(f'wait timed out after {timeout}s\\n{status}')\nTimeoutError: wait timed out after 600s\nStatus(\n  model=ModelStatus(\n    name='testing',\n    type='caas',\n    controller='github-pr-8beda-microk8s',\n    cloud='microk8s',\n    version='4.0-rc1',\n    region='localhost',\n    model_status=StatusInfo(current='available', since='12 Nov 2025 16:30:02Z'),\n  ),\n  machines={},\n  apps={\n    'flask-k8s': AppStatus(\n      charm='local:flask-k8s-0',\n      charm_origin='local',\n      charm_name='flask-k8s',\n      charm_rev=0,\n      exposed=False,\n      base=FormattedBase(name='ubuntu', channel='22.04'),\n      scale=1,\n      provider_id='c6953d0f-7abd-446c-bdfb-606a90ed8653',\n      life='alive',\n      app_status=StatusInfo(current='active', since='12 Nov 2025 16:20:30Z'),\n      relations={\n        'ingress': [\n          AppStatusRelation(related_app='traefik-public', interface='ingress', scope='global'),\n        ],\n        'secret-storage': [\n          AppStatusRelation(related_app='flask-k8s', interface='secret-storage', scope='global'),\n        ],\n      },\n      units={\n        'flask-k8s/0': UnitStatus(\n          workload_status=StatusInfo(current='active', since='12 Nov 2025 16:20:30Z'),\n          juju_status=StatusInfo(current='idle', since='12 Nov 2025 16:20:30Z', version='4.0-rc1'),\n          leader=True,\n          open_ports=['8000/tcp'],\n          address='10.1.50.148',\n          provider_id='flask-k8s-0',\n        ),\n      },\n      endpoint_bindings={\n        '': 'alpha',\n        'grafana-dashboard': 'alpha',\n        'http-proxy': 'alpha',\n        'ingress': 'alpha',\n        'juju-info': 'alpha',\n        'logging': 'alpha',\n        'metrics-endpoint': 'alpha',\n        'mongodb': 'alpha',\n        'mysql': 'alpha',\n        'oidc': 'alpha',\n        'openfga': 'alpha',\n        'postgresql': 'alpha',\n        'rabbitmq': 'alpha',\n        'redis': 'alpha',\n        's3': 'alpha',\n        'saml': 'alpha',\n        'secret-storage': 'alpha',\n        'smtp': 'alpha',\n        'tracing': 'alpha',\n      },\n    ),\n    'hydra': AppStatus(\n      charm='hydra',\n      charm_origin='charmhub',\n      charm_name='hydra',\n      charm_rev=339,\n      exposed=False,\n      base=FormattedBase(name='ubuntu', channel='22.04'),\n      charm_channel='latest/edge',\n      scale=1,\n      provider_id='1640a84b-5f0f-4b38-bb0c-527da7185473',\n      life='alive',\n      app_status=StatusInfo(current='active', since='12 Nov 2025 16:19:53Z'),\n      relations={\n        'admin-ingress': [\n          AppStatusRelation(related_app='traefik-admin', interface='ingress', scope='global'),\n        ],\n        'hydra': [\n          AppStatusRelation(related_app='hydra', interface='hydra_peers', scope='global'),\n        ],\n        'hydra-endpoint-info': [\n          AppStatusRelation(related_app='identity-platform-login-ui-operator', interface='hydra_endpoints', scope='global'),\n          AppStatusRelation(related_app='kratos', interface='hydra_endpoints', scope='global'),\n        ],\n        'pg-database': [\n          AppStatusRelation(related_app='postgresql-k8s', interface='postgresql_client', scope='global'),\n        ],\n        'public-ingress': [\n          AppStatusRelation(related_app='traefik-public', interface='ingress', scope='global'),\n        ],\n        'ui-endpoint-info': [\n          AppStatusRelation(related_app='identity-platform-login-ui-operator', interface='login_ui_endpoints', scope='global'),\n        ],\n      },\n      units={\n        'hydra/0': UnitStatus(\n          workload_status=StatusInfo(current='active', since='12 Nov 2025 16:21:54Z'),\n          juju_status=StatusInfo(current='idle', since='12 Nov 2025 16:21:54Z', version='4.0-rc1'),\n          leader=True,\n          open_ports=['4444/tcp', '4445/tcp'],\n          address='10.1.50.138',\n          provider_id='hydra-0',\n        ),\n      },\n      version='v2.3.0',\n      endpoint_bindings={\n        '': 'alpha',\n        'admin-ingress': 'alpha',\n        'grafana-dashboard': 'alpha',\n        'hydra': 'alpha',\n        'hydra-endpoint-info': 'alpha',\n        'internal-ingress': 'alpha',\n        'juju-info': 'alpha',\n        'logging': 'alpha',\n        'metrics-endpoint': 'alpha',\n        'oauth': 'alpha',\n        'pg-database': 'alpha',\n        'public-ingress': 'alpha',\n        'tracing': 'alpha',\n        'ui-endpoint-info': 'alpha',\n      },\n    ),\n    'identity-platform-login-ui-operator': AppStatus(\n      charm='identity-platform-login-ui-operator',\n      charm_origin='charmhub',\n      charm_name='identity-platform-login-ui-operator',\n      charm_rev=146,\n      exposed=False,\n      base=FormattedBase(name='ubuntu', channel='22.04'),\n      charm_channel='latest/edge',\n      scale=1,\n      provider_id='86e3743c-04d0-4e9c-b6d8-57634708395b',\n      life='alive',\n      app_status=StatusInfo(current='active', since='12 Nov 2025 16:19:50Z'),\n      relations={\n        'hydra-endpoint-info': [\n          AppStatusRelation(related_app='hydra', interface='hydra_endpoints', scope='global'),\n        ],\n        'identity-platform-login-ui': [\n          AppStatusRelation(related_app='identity-platform-login-ui-operator', interface='identity_platform_login_ui_peers', scope='global'),\n        ],\n        'ingress': [\n          AppStatusRelation(related_app='traefik-public', interface='ingress', scope='global'),\n        ],\n        'kratos-info': [\n          AppStatusRelation(related_app='kratos', interface='kratos_info', scope='global'),\n        ],\n        'ui-endpoint-info': [\n          AppStatusRelation(related_app='hydra', interface='login_ui_endpoints', scope='global'),\n          AppStatusRelation(related_app='kratos', interface='login_ui_endpoints', scope='global'),\n        ],\n      },\n      units={\n        'identity-platform-login-ui-operator/0': UnitStatus(\n          workload_status=StatusInfo(current='active', since='12 Nov 2025 16:20:28Z'),\n          juju_status=StatusInfo(current='idle', since='12 Nov 2025 16:20:29Z', version='4.0-rc1'),\n          leader=True,\n          address='10.1.50.145',\n          provider_id='identity-platform-login-ui-operator-0',\n        ),\n      },\n      version='0.21.2',\n      endpoint_bindings={\n        '': 'alpha',\n        'grafana-dashboard': 'alpha',\n        'hydra-endpoint-info': 'alpha',\n        'identity-platform-login-ui': 'alpha',\n        'ingress': 'alpha',\n        'juju-info': 'alpha',\n        'kratos-info': 'alpha',\n        'logging': 'alpha',\n        'metrics-endpoint': 'alpha',\n        'receive-ca-cert': 'alpha',\n        'tracing': 'alpha',\n        'ui-endpoint-info': 'alpha',\n      },\n    ),\n    'kratos': AppStatus(\n      charm='kratos',\n      charm_origin='charmhub',\n      charm_name='kratos',\n      charm_rev=500,\n      exposed=False,\n      base=FormattedBase(name='ubuntu', channel='22.04'),\n      charm_channel='latest/edge',\n      scale=1,\n      provider_id='ee51037f-05ac-4942-b277-b8c5dcae2a50',\n      life='alive',\n      app_status=StatusInfo(current='active', since='12 Nov 2025 16:20:00Z'),\n      relations={\n        'admin-ingress': [\n          AppStatusRelation(related_app='traefik-admin', interface='ingress', scope='global'),\n        ],\n        'hydra-endpoint-info': [\n          AppStatusRelation(related_app='hydra', interface='hydra_endpoints', scope='global'),\n        ],\n        'kratos-info': [\n          AppStatusRelation(related_app='identity-platform-login-ui-operator', interface='kratos_info', scope='global'),\n        ],\n        'kratos-peers': [\n          AppStatusRelation(related_app='kratos', interface='kratos-peers', scope='global'),\n        ],\n        'pg-database': [\n          AppStatusRelation(related_app='postgresql-k8s', interface='postgresql_client', scope='global'),\n        ],\n        'public-ingress': [\n          AppStatusRelation(related_app='traefik-public', interface='ingress', scope='global'),\n        ],\n        'ui-endpoint-info': [\n          AppStatusRelation(related_app='identity-platform-login-ui-operator', interface='login_ui_endpoints', scope='global'),\n        ],\n      },\n      units={\n        'kratos/0': UnitStatus(\n          workload_status=StatusInfo(current='active', since='12 Nov 2025 16:25:37Z'),\n          juju_status=StatusInfo(current='idle', since='12 Nov 2025 16:22:11Z', version='4.0-rc1'),\n          leader=True,\n          address='10.1.50.149',\n          provider_id='kratos-0',\n        ),\n      },\n      version='v1.3.1',\n      endpoint_bindings={\n        '': 'alpha',\n        'admin-ingress': 'alpha',\n        'grafana-dashboard': 'alpha',\n        'hydra-endpoint-info': 'alpha',\n        'internal-ingress': 'alpha',\n        'juju-info': 'alpha',\n        'kratos-external-idp': 'alpha',\n        'kratos-info': 'alpha',\n        'kratos-peers': 'alpha',\n        'logging': 'alpha',\n        'metrics-endpoint': 'alpha',\n        'pg-database': 'alpha',\n        'public-ingress': 'alpha',\n        'receive-ca-cert': 'alpha',\n        'smtp': 'alpha',\n        'tracing': 'alpha',\n        'ui-endpoint-info': 'alpha',\n      },\n    ),\n    'kratos-external-idp-integrator': AppStatus(\n      charm='kratos-external-idp-integrator',\n      charm_origin='charmhub',\n      charm_name='kratos-external-idp-integrator',\n      charm_rev=245,\n      exposed=False,\n      base=FormattedBase(name='ubuntu', channel='22.04'),\n      charm_channel='latest/edge',\n      life='dying',\n      app_status=StatusInfo(current='waiting', message='installing agent', since='12 Nov 2025 16:17:37Z'),\n      units={\n        'kratos-external-idp-integrator/0': UnitStatus(\n          workload_status=StatusInfo(current='waiting', message='installing agent', since='12 Nov 2025 16:17:37Z'),\n          juju_status=StatusInfo(current='allocating', since='12 Nov 2025 16:17:37Z'),\n        ),\n      },\n      endpoint_bindings={'': 'alpha', 'juju-info': 'alpha', 'kratos-external-idp': 'alpha'},\n    ),\n    'postgresql-k8s': AppStatus(\n      charm='postgresql-k8s',\n      charm_origin='charmhub',\n      charm_name='postgresql-k8s',\n      charm_rev=495,\n      exposed=False,\n      base=FormattedBase(name='ubuntu', channel='22.04'),\n      charm_channel='14/stable',\n      scale=1,\n      provider_id='aee8cb4b-ccb2-45af-9f95-3bdf98951508',\n      life='alive',\n      app_status=StatusInfo(current='active', since='12 Nov 2025 16:27:53Z'),\n      relations={\n        'database': [\n          AppStatusRelation(related_app='hydra', interface='postgresql_client', scope='global'),\n          AppStatusRelation(related_app='kratos', interface='postgresql_client', scope='global'),\n        ],\n        'database-peers': [\n          AppStatusRelation(related_app='postgresql-k8s', interface='postgresql_peers', scope='global'),\n        ],\n        'restart': [\n          AppStatusRelation(related_app='postgresql-k8s', interface='rolling_op', scope='global'),\n        ],\n        'upgrade': [\n          AppStatusRelation(related_app='postgresql-k8s', interface='upgrade', scope='global'),\n        ],\n      },\n      units={\n        'postgresql-k8s/0': UnitStatus(\n          workload_status=StatusInfo(current='active', message='Primary', since='12 Nov 2025 16:28:25Z'),\n          juju_status=StatusInfo(current='idle', since='12 Nov 2025 16:22:06Z', version='4.0-rc1'),\n          leader=True,\n          open_ports=['5432/tcp', '8008/tcp'],\n          address='10.1.50.142',\n          provider_id='postgresql-k8s-0',\n        ),\n      },\n      version='14.15',\n      endpoint_bindings={\n        '': 'alpha',\n        'certificates': 'alpha',\n        'database': 'alpha',\n        'database-peers': 'alpha',\n        'db': 'alpha',\n        'db-admin': 'alpha',\n        'grafana-dashboard': 'alpha',\n        'juju-info': 'alpha',\n        'logging': 'alpha',\n        'metrics-endpoint': 'alpha',\n        'replication': 'alpha',\n        'replication-offer': 'alpha',\n        'restart': 'alpha',\n        's3-parameters': 'alpha',\n        'tracing': 'alpha',\n        'upgrade': 'alpha',\n      },\n    ),\n    'self-signed-certificates': AppStatus(\n      charm='self-signed-certificates',\n      charm_origin='charmhub',\n      charm_name='self-signed-certificates',\n      charm_rev=155,\n      exposed=False,\n      base=FormattedBase(name='ubuntu', channel='22.04'),\n      charm_channel='latest/stable',\n      scale=1,\n      provider_id='3a7e3392-a109-437a-b723-a2469720bba3',\n      life='alive',\n      app_status=StatusInfo(current='active', since='12 Nov 2025 16:19:35Z'),\n      relations={\n        'certificates': [\n          AppStatusRelation(related_app='traefik-admin', interface='tls-certificates', scope='global'),\n          AppStatusRelation(related_app='traefik-public', interface='tls-certificates', scope='global'),\n        ],\n      },\n      units={\n        'self-signed-certificates/0': UnitStatus(\n          workload_status=StatusInfo(current='active', since='12 Nov 2025 16:29:10Z'),\n          juju_status=StatusInfo(current='idle', since='12 Nov 2025 16:20:01Z', version='4.0-rc1'),\n          leader=True,\n          address='10.1.50.139',\n          provider_id='self-signed-certificates-0',\n        ),\n      },\n      endpoint_bindings={'': 'alpha', 'certificates': 'alpha', 'juju-info': 'alpha', 'send-ca-cert': 'alpha', 'tracing': 'alpha'},\n    ),\n    'traefik-admin': AppStatus(\n      charm='traefik-k8s',\n      charm_origin='charmhub',\n      charm_name='traefik-k8s',\n      charm_rev=176,\n      exposed=False,\n      base=FormattedBase(name='ubuntu', channel='20.04'),\n      charm_channel='latest/stable',\n      scale=1,\n      provider_id='7d94b3d0-b9fd-428d-8cd8-20443044b807',\n      life='alive',\n      app_status=StatusInfo(current='active', since='12 Nov 2025 16:20:04Z'),\n      relations={\n        'certificates': [\n          AppStatusRelation(related_app='self-signed-certificates', interface='tls-certificates', scope='global'),\n        ],\n        'ingress': [\n          AppStatusRelation(related_app='hydra', interface='ingress', scope='global'),\n          AppStatusRelation(related_app='kratos', interface='ingress', scope='global'),\n        ],\n        'peers': [\n          AppStatusRelation(related_app='traefik-admin', interface='traefik_peers', scope='global'),\n        ],\n      },\n      units={\n        'traefik-admin/0': UnitStatus(\n          workload_status=StatusInfo(current='active', since='12 Nov 2025 16:29:26Z'),\n          juju_status=StatusInfo(current='idle', since='12 Nov 2025 16:20:15Z', version='4.0-rc1'),\n          leader=True,\n          address='10.1.50.147',\n          provider_id='traefik-admin-0',\n        ),\n      },\n      version='v2.11.0',\n      endpoint_bindings={\n        '': 'alpha',\n        'certificates': 'alpha',\n        'experimental-forward-auth': 'alpha',\n        'grafana-dashboard': 'alpha',\n        'ingress': 'alpha',\n        'ingress-per-unit': 'alpha',\n        'juju-info': 'alpha',\n        'logging': 'alpha',\n        'metrics-endpoint': 'alpha',\n        'peers': 'alpha',\n        'receive-ca-cert': 'alpha',\n        'tracing': 'alpha',\n        'traefik-route': 'alpha',\n      },\n    ),\n    'traefik-public': AppStatus(\n      charm='traefik-k8s',\n      charm_origin='charmhub',\n      charm_name='traefik-k8s',\n      charm_rev=176,\n      exposed=False,\n      base=FormattedBase(name='ubuntu', channel='20.04'),\n      charm_channel='latest/stable',\n      scale=1,\n      provider_id='efc2b54c-f3a0-4962-ac6e-a27a72ac7c1d',\n      life='alive',\n      app_status=StatusInfo(current='active', since='12 Nov 2025 16:20:16Z'),\n      relations={\n        'certificates': [\n          AppStatusRelation(related_app='self-signed-certificates', interface='tls-certificates', scope='global'),\n        ],\n        'ingress': [\n          AppStatusRelation(related_app='flask-k8s', interface='ingress', scope='global'),\n          AppStatusRelation(related_app='hydra', interface='ingress', scope='global'),\n          AppStatusRelation(related_app='identity-platform-login-ui-operator', interface='ingress', scope='global'),\n          AppStatusRelation(related_app='kratos', interface='ingress', scope='global'),\n        ],\n        'peers': [\n          AppStatusRelation(related_app='traefik-public', interface='traefik_peers', scope='global'),\n        ],\n      },\n      units={\n        'traefik-public/0': UnitStatus(\n          workload_status=StatusInfo(current='active', since='12 Nov 2025 16:29:00Z'),\n          juju_status=StatusInfo(current='idle', since='12 Nov 2025 16:20:34Z', version='4.0-rc1'),\n          leader=True,\n          address='10.1.50.144',\n          provider_id='traefik-public-0',\n        ),\n      },\n      version='v2.11.0',\n      endpoint_bindings={\n        '': 'alpha',\n        'certificates': 'alpha',\n        'experimental-forward-auth': 'alpha',\n        'grafana-dashboard': 'alpha',\n        'ingress': 'alpha',\n        'ingress-per-unit': 'alpha',\n        'juju-info': 'alpha',\n        'logging': 'alpha',\n        'metrics-endpoint': 'alpha',\n        'peers': 'alpha',\n        'receive-ca-cert': 'alpha',\n        'tracing': 'alpha',\n        'traefik-route': 'alpha',\n      },\n    ),\n  },\n  storage=CombinedStorage(\n    storage={\n      'configurations/1': StorageInfo(\n        kind='filesystem',\n        status=EntityStatus(current='attached', since='12 Nov 2025 16:19:11Z'),\n        persistent=False,\n        life='alive',\n        attachments=StorageAttachments(\n          units={\n            'traefik-admin/0': UnitStorageAttachment(location='/var/lib/juju/storage/572c96b1-fad9-4f6d-84f6-1c13d3f3a3ef'),\n          },\n        ),\n      ),\n      'configurations/2': StorageInfo(\n        kind='filesystem',\n        status=EntityStatus(current='attached', since='12 Nov 2025 16:19:10Z'),\n        persistent=False,\n        life='alive',\n        attachments=StorageAttachments(\n          units={\n            'traefik-public/0': UnitStorageAttachment(location='/var/lib/juju/storage/2e32ca13-95d1-46e2-8d3a-af5ed0e7dfb2'),\n          },\n        ),\n      ),\n      'pgdata/0': StorageInfo(\n        kind='filesystem',\n        status=EntityStatus(current='attached', since='12 Nov 2025 16:19:10Z'),\n        persistent=False,\n        life='alive',\n        attachments=StorageAttachments(\n          units={\n            'postgresql-k8s/0': UnitStorageAttachment(location='/var/lib/postgresql/data'),\n          },\n        ),\n      ),\n    },\n    filesystems={\n      '0': FilesystemInfo(\n        size=1024,\n        provider_id='pvc-a1f2fef7-fcba-43ec-a523-fc63b40d6125',\n        storage='pgdata/0',\n        attachments=FilesystemAttachments(\n          containers={\n            'postgresql-k8s/0': FilesystemAttachment(mount_point='/var/lib/postgresql/data', read_only=False, life='alive'),\n          },\n          units={\n            'postgresql-k8s/0': UnitStorageAttachment(location='/var/lib/postgresql/data'),\n          },\n        ),\n        life='alive',\n        status=EntityStatus(current='attached', since='12 Nov 2025 16:19:10Z'),\n      ),\n      '1': FilesystemInfo(\n        size=1024,\n        provider_id='pvc-2822dbba-89b3-42c8-a2e9-9a9b8f363ad7',\n        storage='configurations/1',\n        attachments=FilesystemAttachments(\n          containers={\n            'traefik-admin/0': FilesystemAttachment(mount_point='/var/lib/juju/storage/572c96b1-fad9-4f6d-84f6-1c13d3f3a3ef', read_only=False, life='alive'),\n          },\n          units={\n            'traefik-admin/0': UnitStorageAttachment(location='/var/lib/juju/storage/572c96b1-fad9-4f6d-84f6-1c13d3f3a3ef'),\n          },\n        ),\n        life='alive',\n        status=EntityStatus(current='attached', since='12 Nov 2025 16:19:11Z'),\n      ),\n      '2': FilesystemInfo(\n        size=1024,\n        provider_id='pvc-06b4e5fc-3fda-42c5-b6cb-6950947efc50',\n        storage='configurations/2',\n        attachments=FilesystemAttachments(\n          containers={\n            'traefik-public/0': FilesystemAttachment(mount_point='/var/lib/juju/storage/2e32ca13-95d1-46e2-8d3a-af5ed0e7dfb2', read_only=False, life='alive'),\n          },\n          units={\n            'traefik-public/0': UnitStorageAttachment(location='/var/lib/juju/storage/2e32ca13-95d1-46e2-8d3a-af5ed0e7dfb2'),\n          },\n        ),\n        life='alive',\n        status=EntityStatus(current='attached', since='12 Nov 2025 16:19:10Z'),\n      ),\n    },\n  ),\n  controller=ControllerStatus(timestamp='16:30:02Z'),\n)","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"juju","time":{"start":1762964232902,"stop":1762964232902,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser_context_manager","time":{"start":1762964232902,"stop":1762964243617,"duration":10715},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"identity_bundle","time":{"start":1762964243617,"stop":1762964262800,"duration":19183},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"http","time":{"start":1762964262801,"stop":1762964262801,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1762964262801,"stop":1762964262801,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"pytestconfig","time":{"start":1762964262802,"stop":1762964262802,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"flask_app","time":{"start":1762964262802,"stop":1762964402418,"duration":139616},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"tmp_path_factory","time":{"start":1762964262802,"stop":1762964262802,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"\n    arrange: set up the test Juju model and deploy the workload charm.\n    act: integrate with ingress and hydra.\n    assert: the workload charm uses the Kratos charm as the idp.\n    ","status":"broken","statusMessage":"TimeoutError: wait timed out after 600s\nStatus(\n  model=ModelStatus(\n    name='testing',\n    type='caas',\n    controller='github-pr-8beda-microk8s',\n    cloud='microk8s',\n    version='4.0-rc1',\n    region='localhost',\n    model_status=StatusInfo(current='available', since='12 Nov 2025 16:30:02Z'),\n  ),\n  machines={},\n  apps={\n    'flask-k8s': AppStatus(\n      charm='local:flask-k8s-0',\n      charm_origin='local',\n      charm_name='flask-k8s',\n      charm_rev=0,\n      exposed=False,\n      base=FormattedBase(name='ubuntu', channel='22.04'),\n      scale=1,\n      provider_id='c6953d0f-7abd-446c-bdfb-606a90ed8653',\n      life='alive',\n      app_status=StatusInfo(current='active', since='12 Nov 2025 16:20:30Z'),\n      relations={\n        'ingress': [\n          AppStatusRelation(related_app='traefik-public', interface='ingress', scope='global'),\n        ],\n        'secret-storage': [\n          AppStatusRelation(related_app='flask-k8s', interface='secret-storage', scope='global'),\n        ],\n      },\n      units={\n        'flask-k8s/0': UnitStatus(\n          workload_status=StatusInfo(current='active', since='12 Nov 2025 16:20:30Z'),\n          juju_status=StatusInfo(current='idle', since='12 Nov 2025 16:20:30Z', version='4.0-rc1'),\n          leader=True,\n          open_ports=['8000/tcp'],\n          address='10.1.50.148',\n          provider_id='flask-k8s-0',\n        ),\n      },\n      endpoint_bindings={\n        '': 'alpha',\n        'grafana-dashboard': 'alpha',\n        'http-proxy': 'alpha',\n        'ingress': 'alpha',\n        'juju-info': 'alpha',\n        'logging': 'alpha',\n        'metrics-endpoint': 'alpha',\n        'mongodb': 'alpha',\n        'mysql': 'alpha',\n        'oidc': 'alpha',\n        'openfga': 'alpha',\n        'postgresql': 'alpha',\n        'rabbitmq': 'alpha',\n        'redis': 'alpha',\n        's3': 'alpha',\n        'saml': 'alpha',\n        'secret-storage': 'alpha',\n        'smtp': 'alpha',\n        'tracing': 'alpha',\n      },\n    ),\n    'hydra': AppStatus(\n      charm='hydra',\n      charm_origin='charmhub',\n      charm_name='hydra',\n      charm_rev=339,\n      exposed=False,\n      base=FormattedBase(name='ubuntu', channel='22.04'),\n      charm_channel='latest/edge',\n      scale=1,\n      provider_id='1640a84b-5f0f-4b38-bb0c-527da7185473',\n      life='alive',\n      app_status=StatusInfo(current='active', since='12 Nov 2025 16:19:53Z'),\n      relations={\n        'admin-ingress': [\n          AppStatusRelation(related_app='traefik-admin', interface='ingress', scope='global'),\n        ],\n        'hydra': [\n          AppStatusRelation(related_app='hydra', interface='hydra_peers', scope='global'),\n        ],\n        'hydra-endpoint-info': [\n          AppStatusRelation(related_app='identity-platform-login-ui-operator', interface='hydra_endpoints', scope='global'),\n          AppStatusRelation(related_app='kratos', interface='hydra_endpoints', scope='global'),\n        ],\n        'pg-database': [\n          AppStatusRelation(related_app='postgresql-k8s', interface='postgresql_client', scope='global'),\n        ],\n        'public-ingress': [\n          AppStatusRelation(related_app='traefik-public', interface='ingress', scope='global'),\n        ],\n        'ui-endpoint-info': [\n          AppStatusRelation(related_app='identity-platform-login-ui-operator', interface='login_ui_endpoints', scope='global'),\n        ],\n      },\n      units={\n        'hydra/0': UnitStatus(\n          workload_status=StatusInfo(current='active', since='12 Nov 2025 16:21:54Z'),\n          juju_status=StatusInfo(current='idle', since='12 Nov 2025 16:21:54Z', version='4.0-rc1'),\n          leader=True,\n          open_ports=['4444/tcp', '4445/tcp'],\n          address='10.1.50.138',\n          provider_id='hydra-0',\n        ),\n      },\n      version='v2.3.0',\n      endpoint_bindings={\n        '': 'alpha',\n        'admin-ingress': 'alpha',\n        'grafana-dashboard': 'alpha',\n        'hydra': 'alpha',\n        'hydra-endpoint-info': 'alpha',\n        'internal-ingress': 'alpha',\n        'juju-info': 'alpha',\n        'logging': 'alpha',\n        'metrics-endpoint': 'alpha',\n        'oauth': 'alpha',\n        'pg-database': 'alpha',\n        'public-ingress': 'alpha',\n        'tracing': 'alpha',\n        'ui-endpoint-info': 'alpha',\n      },\n    ),\n    'identity-platform-login-ui-operator': AppStatus(\n      charm='identity-platform-login-ui-operator',\n      charm_origin='charmhub',\n      charm_name='identity-platform-login-ui-operator',\n      charm_rev=146,\n      exposed=False,\n      base=FormattedBase(name='ubuntu', channel='22.04'),\n      charm_channel='latest/edge',\n      scale=1,\n      provider_id='86e3743c-04d0-4e9c-b6d8-57634708395b',\n      life='alive',\n      app_status=StatusInfo(current='active', since='12 Nov 2025 16:19:50Z'),\n      relations={\n        'hydra-endpoint-info': [\n          AppStatusRelation(related_app='hydra', interface='hydra_endpoints', scope='global'),\n        ],\n        'identity-platform-login-ui': [\n          AppStatusRelation(related_app='identity-platform-login-ui-operator', interface='identity_platform_login_ui_peers', scope='global'),\n        ],\n        'ingress': [\n          AppStatusRelation(related_app='traefik-public', interface='ingress', scope='global'),\n        ],\n        'kratos-info': [\n          AppStatusRelation(related_app='kratos', interface='kratos_info', scope='global'),\n        ],\n        'ui-endpoint-info': [\n          AppStatusRelation(related_app='hydra', interface='login_ui_endpoints', scope='global'),\n          AppStatusRelation(related_app='kratos', interface='login_ui_endpoints', scope='global'),\n        ],\n      },\n      units={\n        'identity-platform-login-ui-operator/0': UnitStatus(\n          workload_status=StatusInfo(current='active', since='12 Nov 2025 16:20:28Z'),\n          juju_status=StatusInfo(current='idle', since='12 Nov 2025 16:20:29Z', version='4.0-rc1'),\n          leader=True,\n          address='10.1.50.145',\n          provider_id='identity-platform-login-ui-operator-0',\n        ),\n      },\n      version='0.21.2',\n      endpoint_bindings={\n        '': 'alpha',\n        'grafana-dashboard': 'alpha',\n        'hydra-endpoint-info': 'alpha',\n        'identity-platform-login-ui': 'alpha',\n        'ingress': 'alpha',\n        'juju-info': 'alpha',\n        'kratos-info': 'alpha',\n        'logging': 'alpha',\n        'metrics-endpoint': 'alpha',\n        'receive-ca-cert': 'alpha',\n        'tracing': 'alpha',\n        'ui-endpoint-info': 'alpha',\n      },\n    ),\n    'kratos': AppStatus(\n      charm='kratos',\n      charm_origin='charmhub',\n      charm_name='kratos',\n      charm_rev=500,\n      exposed=False,\n      base=FormattedBase(name='ubuntu', channel='22.04'),\n      charm_channel='latest/edge',\n      scale=1,\n      provider_id='ee51037f-05ac-4942-b277-b8c5dcae2a50',\n      life='alive',\n      app_status=StatusInfo(current='active', since='12 Nov 2025 16:20:00Z'),\n      relations={\n        'admin-ingress': [\n          AppStatusRelation(related_app='traefik-admin', interface='ingress', scope='global'),\n        ],\n        'hydra-endpoint-info': [\n          AppStatusRelation(related_app='hydra', interface='hydra_endpoints', scope='global'),\n        ],\n        'kratos-info': [\n          AppStatusRelation(related_app='identity-platform-login-ui-operator', interface='kratos_info', scope='global'),\n        ],\n        'kratos-peers': [\n          AppStatusRelation(related_app='kratos', interface='kratos-peers', scope='global'),\n        ],\n        'pg-database': [\n          AppStatusRelation(related_app='postgresql-k8s', interface='postgresql_client', scope='global'),\n        ],\n        'public-ingress': [\n          AppStatusRelation(related_app='traefik-public', interface='ingress', scope='global'),\n        ],\n        'ui-endpoint-info': [\n          AppStatusRelation(related_app='identity-platform-login-ui-operator', interface='login_ui_endpoints', scope='global'),\n        ],\n      },\n      units={\n        'kratos/0': UnitStatus(\n          workload_status=StatusInfo(current='active', since='12 Nov 2025 16:25:37Z'),\n          juju_status=StatusInfo(current='idle', since='12 Nov 2025 16:22:11Z', version='4.0-rc1'),\n          leader=True,\n          address='10.1.50.149',\n          provider_id='kratos-0',\n        ),\n      },\n      version='v1.3.1',\n      endpoint_bindings={\n        '': 'alpha',\n        'admin-ingress': 'alpha',\n        'grafana-dashboard': 'alpha',\n        'hydra-endpoint-info': 'alpha',\n        'internal-ingress': 'alpha',\n        'juju-info': 'alpha',\n        'kratos-external-idp': 'alpha',\n        'kratos-info': 'alpha',\n        'kratos-peers': 'alpha',\n        'logging': 'alpha',\n        'metrics-endpoint': 'alpha',\n        'pg-database': 'alpha',\n        'public-ingress': 'alpha',\n        'receive-ca-cert': 'alpha',\n        'smtp': 'alpha',\n        'tracing': 'alpha',\n        'ui-endpoint-info': 'alpha',\n      },\n    ),\n    'kratos-external-idp-integrator': AppStatus(\n      charm='kratos-external-idp-integrator',\n      charm_origin='charmhub',\n      charm_name='kratos-external-idp-integrator',\n      charm_rev=245,\n      exposed=False,\n      base=FormattedBase(name='ubuntu', channel='22.04'),\n      charm_channel='latest/edge',\n      life='dying',\n      app_status=StatusInfo(current='waiting', message='installing agent', since='12 Nov 2025 16:17:37Z'),\n      units={\n        'kratos-external-idp-integrator/0': UnitStatus(\n          workload_status=StatusInfo(current='waiting', message='installing agent', since='12 Nov 2025 16:17:37Z'),\n          juju_status=StatusInfo(current='allocating', since='12 Nov 2025 16:17:37Z'),\n        ),\n      },\n      endpoint_bindings={'': 'alpha', 'juju-info': 'alpha', 'kratos-external-idp': 'alpha'},\n    ),\n    'postgresql-k8s': AppStatus(\n      charm='postgresql-k8s',\n      charm_origin='charmhub',\n      charm_name='postgresql-k8s',\n      charm_rev=495,\n      exposed=False,\n      base=FormattedBase(name='ubuntu', channel='22.04'),\n      charm_channel='14/stable',\n      scale=1,\n      provider_id='aee8cb4b-ccb2-45af-9f95-3bdf98951508',\n      life='alive',\n      app_status=StatusInfo(current='active', since='12 Nov 2025 16:27:53Z'),\n      relations={\n        'database': [\n          AppStatusRelation(related_app='hydra', interface='postgresql_client', scope='global'),\n          AppStatusRelation(related_app='kratos', interface='postgresql_client', scope='global'),\n        ],\n        'database-peers': [\n          AppStatusRelation(related_app='postgresql-k8s', interface='postgresql_peers', scope='global'),\n        ],\n        'restart': [\n          AppStatusRelation(related_app='postgresql-k8s', interface='rolling_op', scope='global'),\n        ],\n        'upgrade': [\n          AppStatusRelation(related_app='postgresql-k8s', interface='upgrade', scope='global'),\n        ],\n      },\n      units={\n        'postgresql-k8s/0': UnitStatus(\n          workload_status=StatusInfo(current='active', message='Primary', since='12 Nov 2025 16:28:25Z'),\n          juju_status=StatusInfo(current='idle', since='12 Nov 2025 16:22:06Z', version='4.0-rc1'),\n          leader=True,\n          open_ports=['5432/tcp', '8008/tcp'],\n          address='10.1.50.142',\n          provider_id='postgresql-k8s-0',\n        ),\n      },\n      version='14.15',\n      endpoint_bindings={\n        '': 'alpha',\n        'certificates': 'alpha',\n        'database': 'alpha',\n        'database-peers': 'alpha',\n        'db': 'alpha',\n        'db-admin': 'alpha',\n        'grafana-dashboard': 'alpha',\n        'juju-info': 'alpha',\n        'logging': 'alpha',\n        'metrics-endpoint': 'alpha',\n        'replication': 'alpha',\n        'replication-offer': 'alpha',\n        'restart': 'alpha',\n        's3-parameters': 'alpha',\n        'tracing': 'alpha',\n        'upgrade': 'alpha',\n      },\n    ),\n    'self-signed-certificates': AppStatus(\n      charm='self-signed-certificates',\n      charm_origin='charmhub',\n      charm_name='self-signed-certificates',\n      charm_rev=155,\n      exposed=False,\n      base=FormattedBase(name='ubuntu', channel='22.04'),\n      charm_channel='latest/stable',\n      scale=1,\n      provider_id='3a7e3392-a109-437a-b723-a2469720bba3',\n      life='alive',\n      app_status=StatusInfo(current='active', since='12 Nov 2025 16:19:35Z'),\n      relations={\n        'certificates': [\n          AppStatusRelation(related_app='traefik-admin', interface='tls-certificates', scope='global'),\n          AppStatusRelation(related_app='traefik-public', interface='tls-certificates', scope='global'),\n        ],\n      },\n      units={\n        'self-signed-certificates/0': UnitStatus(\n          workload_status=StatusInfo(current='active', since='12 Nov 2025 16:29:10Z'),\n          juju_status=StatusInfo(current='idle', since='12 Nov 2025 16:20:01Z', version='4.0-rc1'),\n          leader=True,\n          address='10.1.50.139',\n          provider_id='self-signed-certificates-0',\n        ),\n      },\n      endpoint_bindings={'': 'alpha', 'certificates': 'alpha', 'juju-info': 'alpha', 'send-ca-cert': 'alpha', 'tracing': 'alpha'},\n    ),\n    'traefik-admin': AppStatus(\n      charm='traefik-k8s',\n      charm_origin='charmhub',\n      charm_name='traefik-k8s',\n      charm_rev=176,\n      exposed=False,\n      base=FormattedBase(name='ubuntu', channel='20.04'),\n      charm_channel='latest/stable',\n      scale=1,\n      provider_id='7d94b3d0-b9fd-428d-8cd8-20443044b807',\n      life='alive',\n      app_status=StatusInfo(current='active', since='12 Nov 2025 16:20:04Z'),\n      relations={\n        'certificates': [\n          AppStatusRelation(related_app='self-signed-certificates', interface='tls-certificates', scope='global'),\n        ],\n        'ingress': [\n          AppStatusRelation(related_app='hydra', interface='ingress', scope='global'),\n          AppStatusRelation(related_app='kratos', interface='ingress', scope='global'),\n        ],\n        'peers': [\n          AppStatusRelation(related_app='traefik-admin', interface='traefik_peers', scope='global'),\n        ],\n      },\n      units={\n        'traefik-admin/0': UnitStatus(\n          workload_status=StatusInfo(current='active', since='12 Nov 2025 16:29:26Z'),\n          juju_status=StatusInfo(current='idle', since='12 Nov 2025 16:20:15Z', version='4.0-rc1'),\n          leader=True,\n          address='10.1.50.147',\n          provider_id='traefik-admin-0',\n        ),\n      },\n      version='v2.11.0',\n      endpoint_bindings={\n        '': 'alpha',\n        'certificates': 'alpha',\n        'experimental-forward-auth': 'alpha',\n        'grafana-dashboard': 'alpha',\n        'ingress': 'alpha',\n        'ingress-per-unit': 'alpha',\n        'juju-info': 'alpha',\n        'logging': 'alpha',\n        'metrics-endpoint': 'alpha',\n        'peers': 'alpha',\n        'receive-ca-cert': 'alpha',\n        'tracing': 'alpha',\n        'traefik-route': 'alpha',\n      },\n    ),\n    'traefik-public': AppStatus(\n      charm='traefik-k8s',\n      charm_origin='charmhub',\n      charm_name='traefik-k8s',\n      charm_rev=176,\n      exposed=False,\n      base=FormattedBase(name='ubuntu', channel='20.04'),\n      charm_channel='latest/stable',\n      scale=1,\n      provider_id='efc2b54c-f3a0-4962-ac6e-a27a72ac7c1d',\n      life='alive',\n      app_status=StatusInfo(current='active', since='12 Nov 2025 16:20:16Z'),\n      relations={\n        'certificates': [\n          AppStatusRelation(related_app='self-signed-certificates', interface='tls-certificates', scope='global'),\n        ],\n        'ingress': [\n          AppStatusRelation(related_app='flask-k8s', interface='ingress', scope='global'),\n          AppStatusRelation(related_app='hydra', interface='ingress', scope='global'),\n          AppStatusRelation(related_app='identity-platform-login-ui-operator', interface='ingress', scope='global'),\n          AppStatusRelation(related_app='kratos', interface='ingress', scope='global'),\n        ],\n        'peers': [\n          AppStatusRelation(related_app='traefik-public', interface='traefik_peers', scope='global'),\n        ],\n      },\n      units={\n        'traefik-public/0': UnitStatus(\n          workload_status=StatusInfo(current='active', since='12 Nov 2025 16:29:00Z'),\n          juju_status=StatusInfo(current='idle', since='12 Nov 2025 16:20:34Z', version='4.0-rc1'),\n          leader=True,\n          address='10.1.50.144',\n          provider_id='traefik-public-0',\n        ),\n      },\n      version='v2.11.0',\n      endpoint_bindings={\n        '': 'alpha',\n        'certificates': 'alpha',\n        'experimental-forward-auth': 'alpha',\n        'grafana-dashboard': 'alpha',\n        'ingress': 'alpha',\n        'ingress-per-unit': 'alpha',\n        'juju-info': 'alpha',\n        'logging': 'alpha',\n        'metrics-endpoint': 'alpha',\n        'peers': 'alpha',\n        'receive-ca-cert': 'alpha',\n        'tracing': 'alpha',\n        'traefik-route': 'alpha',\n      },\n    ),\n  },\n  storage=CombinedStorage(\n    storage={\n      'configurations/1': StorageInfo(\n        kind='filesystem',\n        status=EntityStatus(current='attached', since='12 Nov 2025 16:19:11Z'),\n        persistent=False,\n        life='alive',\n        attachments=StorageAttachments(\n          units={\n            'traefik-admin/0': UnitStorageAttachment(location='/var/lib/juju/storage/572c96b1-fad9-4f6d-84f6-1c13d3f3a3ef'),\n          },\n        ),\n      ),\n      'configurations/2': StorageInfo(\n        kind='filesystem',\n        status=EntityStatus(current='attached', since='12 Nov 2025 16:19:10Z'),\n        persistent=False,\n        life='alive',\n        attachments=StorageAttachments(\n          units={\n            'traefik-public/0': UnitStorageAttachment(location='/var/lib/juju/storage/2e32ca13-95d1-46e2-8d3a-af5ed0e7dfb2'),\n          },\n        ),\n      ),\n      'pgdata/0': StorageInfo(\n        kind='filesystem',\n        status=EntityStatus(current='attached', since='12 Nov 2025 16:19:10Z'),\n        persistent=False,\n        life='alive',\n        attachments=StorageAttachments(\n          units={\n            'postgresql-k8s/0': UnitStorageAttachment(location='/var/lib/postgresql/data'),\n          },\n        ),\n      ),\n    },\n    filesystems={\n      '0': FilesystemInfo(\n        size=1024,\n        provider_id='pvc-a1f2fef7-fcba-43ec-a523-fc63b40d6125',\n        storage='pgdata/0',\n        attachments=FilesystemAttachments(\n          containers={\n            'postgresql-k8s/0': FilesystemAttachment(mount_point='/var/lib/postgresql/data', read_only=False, life='alive'),\n          },\n          units={\n            'postgresql-k8s/0': UnitStorageAttachment(location='/var/lib/postgresql/data'),\n          },\n        ),\n        life='alive',\n        status=EntityStatus(current='attached', since='12 Nov 2025 16:19:10Z'),\n      ),\n      '1': FilesystemInfo(\n        size=1024,\n        provider_id='pvc-2822dbba-89b3-42c8-a2e9-9a9b8f363ad7',\n        storage='configurations/1',\n        attachments=FilesystemAttachments(\n          containers={\n            'traefik-admin/0': FilesystemAttachment(mount_point='/var/lib/juju/storage/572c96b1-fad9-4f6d-84f6-1c13d3f3a3ef', read_only=False, life='alive'),\n          },\n          units={\n            'traefik-admin/0': UnitStorageAttachment(location='/var/lib/juju/storage/572c96b1-fad9-4f6d-84f6-1c13d3f3a3ef'),\n          },\n        ),\n        life='alive',\n        status=EntityStatus(current='attached', since='12 Nov 2025 16:19:11Z'),\n      ),\n      '2': FilesystemInfo(\n        size=1024,\n        provider_id='pvc-06b4e5fc-3fda-42c5-b6cb-6950947efc50',\n        storage='configurations/2',\n        attachments=FilesystemAttachments(\n          containers={\n            'traefik-public/0': FilesystemAttachment(mount_point='/var/lib/juju/storage/2e32ca13-95d1-46e2-8d3a-af5ed0e7dfb2', read_only=False, life='alive'),\n          },\n          units={\n            'traefik-public/0': UnitStorageAttachment(location='/var/lib/juju/storage/2e32ca13-95d1-46e2-8d3a-af5ed0e7dfb2'),\n          },\n        ),\n        life='alive',\n        status=EntityStatus(current='attached', since='12 Nov 2025 16:19:10Z'),\n      ),\n    },\n  ),\n  controller=ControllerStatus(timestamp='16:30:02Z'),\n)","statusTrace":"Traceback (most recent call last):\n  File \"/home/runner/work/paas-charm/paas-charm/.tox/integration/lib/python3.10/site-packages/_pytest/runner.py\", line 353, in from_call\n    result: TResult | None = func()\n  File \"/home/runner/work/paas-charm/paas-charm/.tox/integration/lib/python3.10/site-packages/_pytest/runner.py\", line 245, in <lambda>\n    lambda: runtest_hook(item=item, **kwds),\n  File \"/home/runner/work/paas-charm/paas-charm/.tox/integration/lib/python3.10/site-packages/pluggy/_hooks.py\", line 512, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File \"/home/runner/work/paas-charm/paas-charm/.tox/integration/lib/python3.10/site-packages/pluggy/_manager.py\", line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File \"/home/runner/work/paas-charm/paas-charm/.tox/integration/lib/python3.10/site-packages/pluggy/_callers.py\", line 167, in _multicall\n    raise exception\n  File \"/home/runner/work/paas-charm/paas-charm/.tox/integration/lib/python3.10/site-packages/pluggy/_callers.py\", line 139, in _multicall\n    teardown.throw(exception)\n  File \"/home/runner/work/paas-charm/paas-charm/.tox/integration/lib/python3.10/site-packages/_pytest/logging.py\", line 850, in pytest_runtest_call\n    yield\n  File \"/home/runner/work/paas-charm/paas-charm/.tox/integration/lib/python3.10/site-packages/pluggy/_callers.py\", line 139, in _multicall\n    teardown.throw(exception)\n  File \"/home/runner/work/paas-charm/paas-charm/.tox/integration/lib/python3.10/site-packages/pluggy/_callers.py\", line 53, in run_old_style_hookwrapper\n    return result.get_result()\n  File \"/home/runner/work/paas-charm/paas-charm/.tox/integration/lib/python3.10/site-packages/pluggy/_result.py\", line 103, in get_result\n    raise exc.with_traceback(tb)\n  File \"/home/runner/work/paas-charm/paas-charm/.tox/integration/lib/python3.10/site-packages/pluggy/_callers.py\", line 38, in run_old_style_hookwrapper\n    res = yield\n  File \"/home/runner/work/paas-charm/paas-charm/.tox/integration/lib/python3.10/site-packages/pluggy/_callers.py\", line 139, in _multicall\n    teardown.throw(exception)\n  File \"/home/runner/work/paas-charm/paas-charm/.tox/integration/lib/python3.10/site-packages/_pytest/capture.py\", line 900, in pytest_runtest_call\n    return (yield)\n  File \"/home/runner/work/paas-charm/paas-charm/.tox/integration/lib/python3.10/site-packages/pluggy/_callers.py\", line 139, in _multicall\n    teardown.throw(exception)\n  File \"/home/runner/work/paas-charm/paas-charm/.tox/integration/lib/python3.10/site-packages/_pytest/skipping.py\", line 268, in pytest_runtest_call\n    return (yield)\n  File \"/home/runner/work/paas-charm/paas-charm/.tox/integration/lib/python3.10/site-packages/pluggy/_callers.py\", line 121, in _multicall\n    res = hook_impl.function(*args)\n  File \"/home/runner/work/paas-charm/paas-charm/.tox/integration/lib/python3.10/site-packages/_pytest/runner.py\", line 179, in pytest_runtest_call\n    item.runtest()\n  File \"/home/runner/work/paas-charm/paas-charm/.tox/integration/lib/python3.10/site-packages/_pytest/python.py\", line 1720, in runtest\n    self.ihook.pytest_pyfunc_call(pyfuncitem=self)\n  File \"/home/runner/work/paas-charm/paas-charm/.tox/integration/lib/python3.10/site-packages/pluggy/_hooks.py\", line 512, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File \"/home/runner/work/paas-charm/paas-charm/.tox/integration/lib/python3.10/site-packages/pluggy/_manager.py\", line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File \"/home/runner/work/paas-charm/paas-charm/.tox/integration/lib/python3.10/site-packages/pluggy/_callers.py\", line 167, in _multicall\n    raise exception\n  File \"/home/runner/work/paas-charm/paas-charm/.tox/integration/lib/python3.10/site-packages/pluggy/_callers.py\", line 139, in _multicall\n    teardown.throw(exception)\n  File \"/home/runner/work/paas-charm/paas-charm/.tox/integration/lib/python3.10/site-packages/pluggy/_callers.py\", line 53, in run_old_style_hookwrapper\n    return result.get_result()\n  File \"/home/runner/work/paas-charm/paas-charm/.tox/integration/lib/python3.10/site-packages/pluggy/_result.py\", line 103, in get_result\n    raise exc.with_traceback(tb)\n  File \"/home/runner/work/paas-charm/paas-charm/.tox/integration/lib/python3.10/site-packages/pluggy/_callers.py\", line 38, in run_old_style_hookwrapper\n    res = yield\n  File \"/home/runner/work/paas-charm/paas-charm/.tox/integration/lib/python3.10/site-packages/pluggy/_callers.py\", line 121, in _multicall\n    res = hook_impl.function(*args)\n  File \"/home/runner/work/paas-charm/paas-charm/.tox/integration/lib/python3.10/site-packages/_pytest/python.py\", line 166, in pytest_pyfunc_call\n    result = testfunction(**testargs)\n  File \"/home/runner/work/paas-charm/paas-charm/tests/integration/integrations/test_oauth.py\", line 56, in test_oauth_integrations\n    juju.wait(\n  File \"/home/runner/work/paas-charm/paas-charm/.tox/integration/lib/python3.10/site-packages/jubilant/_juju.py\", line 998, in wait\n    raise TimeoutError(f'wait timed out after {timeout}s\\n{status}')\nTimeoutError: wait timed out after 600s\nStatus(\n  model=ModelStatus(\n    name='testing',\n    type='caas',\n    controller='github-pr-8beda-microk8s',\n    cloud='microk8s',\n    version='4.0-rc1',\n    region='localhost',\n    model_status=StatusInfo(current='available', since='12 Nov 2025 16:30:02Z'),\n  ),\n  machines={},\n  apps={\n    'flask-k8s': AppStatus(\n      charm='local:flask-k8s-0',\n      charm_origin='local',\n      charm_name='flask-k8s',\n      charm_rev=0,\n      exposed=False,\n      base=FormattedBase(name='ubuntu', channel='22.04'),\n      scale=1,\n      provider_id='c6953d0f-7abd-446c-bdfb-606a90ed8653',\n      life='alive',\n      app_status=StatusInfo(current='active', since='12 Nov 2025 16:20:30Z'),\n      relations={\n        'ingress': [\n          AppStatusRelation(related_app='traefik-public', interface='ingress', scope='global'),\n        ],\n        'secret-storage': [\n          AppStatusRelation(related_app='flask-k8s', interface='secret-storage', scope='global'),\n        ],\n      },\n      units={\n        'flask-k8s/0': UnitStatus(\n          workload_status=StatusInfo(current='active', since='12 Nov 2025 16:20:30Z'),\n          juju_status=StatusInfo(current='idle', since='12 Nov 2025 16:20:30Z', version='4.0-rc1'),\n          leader=True,\n          open_ports=['8000/tcp'],\n          address='10.1.50.148',\n          provider_id='flask-k8s-0',\n        ),\n      },\n      endpoint_bindings={\n        '': 'alpha',\n        'grafana-dashboard': 'alpha',\n        'http-proxy': 'alpha',\n        'ingress': 'alpha',\n        'juju-info': 'alpha',\n        'logging': 'alpha',\n        'metrics-endpoint': 'alpha',\n        'mongodb': 'alpha',\n        'mysql': 'alpha',\n        'oidc': 'alpha',\n        'openfga': 'alpha',\n        'postgresql': 'alpha',\n        'rabbitmq': 'alpha',\n        'redis': 'alpha',\n        's3': 'alpha',\n        'saml': 'alpha',\n        'secret-storage': 'alpha',\n        'smtp': 'alpha',\n        'tracing': 'alpha',\n      },\n    ),\n    'hydra': AppStatus(\n      charm='hydra',\n      charm_origin='charmhub',\n      charm_name='hydra',\n      charm_rev=339,\n      exposed=False,\n      base=FormattedBase(name='ubuntu', channel='22.04'),\n      charm_channel='latest/edge',\n      scale=1,\n      provider_id='1640a84b-5f0f-4b38-bb0c-527da7185473',\n      life='alive',\n      app_status=StatusInfo(current='active', since='12 Nov 2025 16:19:53Z'),\n      relations={\n        'admin-ingress': [\n          AppStatusRelation(related_app='traefik-admin', interface='ingress', scope='global'),\n        ],\n        'hydra': [\n          AppStatusRelation(related_app='hydra', interface='hydra_peers', scope='global'),\n        ],\n        'hydra-endpoint-info': [\n          AppStatusRelation(related_app='identity-platform-login-ui-operator', interface='hydra_endpoints', scope='global'),\n          AppStatusRelation(related_app='kratos', interface='hydra_endpoints', scope='global'),\n        ],\n        'pg-database': [\n          AppStatusRelation(related_app='postgresql-k8s', interface='postgresql_client', scope='global'),\n        ],\n        'public-ingress': [\n          AppStatusRelation(related_app='traefik-public', interface='ingress', scope='global'),\n        ],\n        'ui-endpoint-info': [\n          AppStatusRelation(related_app='identity-platform-login-ui-operator', interface='login_ui_endpoints', scope='global'),\n        ],\n      },\n      units={\n        'hydra/0': UnitStatus(\n          workload_status=StatusInfo(current='active', since='12 Nov 2025 16:21:54Z'),\n          juju_status=StatusInfo(current='idle', since='12 Nov 2025 16:21:54Z', version='4.0-rc1'),\n          leader=True,\n          open_ports=['4444/tcp', '4445/tcp'],\n          address='10.1.50.138',\n          provider_id='hydra-0',\n        ),\n      },\n      version='v2.3.0',\n      endpoint_bindings={\n        '': 'alpha',\n        'admin-ingress': 'alpha',\n        'grafana-dashboard': 'alpha',\n        'hydra': 'alpha',\n        'hydra-endpoint-info': 'alpha',\n        'internal-ingress': 'alpha',\n        'juju-info': 'alpha',\n        'logging': 'alpha',\n        'metrics-endpoint': 'alpha',\n        'oauth': 'alpha',\n        'pg-database': 'alpha',\n        'public-ingress': 'alpha',\n        'tracing': 'alpha',\n        'ui-endpoint-info': 'alpha',\n      },\n    ),\n    'identity-platform-login-ui-operator': AppStatus(\n      charm='identity-platform-login-ui-operator',\n      charm_origin='charmhub',\n      charm_name='identity-platform-login-ui-operator',\n      charm_rev=146,\n      exposed=False,\n      base=FormattedBase(name='ubuntu', channel='22.04'),\n      charm_channel='latest/edge',\n      scale=1,\n      provider_id='86e3743c-04d0-4e9c-b6d8-57634708395b',\n      life='alive',\n      app_status=StatusInfo(current='active', since='12 Nov 2025 16:19:50Z'),\n      relations={\n        'hydra-endpoint-info': [\n          AppStatusRelation(related_app='hydra', interface='hydra_endpoints', scope='global'),\n        ],\n        'identity-platform-login-ui': [\n          AppStatusRelation(related_app='identity-platform-login-ui-operator', interface='identity_platform_login_ui_peers', scope='global'),\n        ],\n        'ingress': [\n          AppStatusRelation(related_app='traefik-public', interface='ingress', scope='global'),\n        ],\n        'kratos-info': [\n          AppStatusRelation(related_app='kratos', interface='kratos_info', scope='global'),\n        ],\n        'ui-endpoint-info': [\n          AppStatusRelation(related_app='hydra', interface='login_ui_endpoints', scope='global'),\n          AppStatusRelation(related_app='kratos', interface='login_ui_endpoints', scope='global'),\n        ],\n      },\n      units={\n        'identity-platform-login-ui-operator/0': UnitStatus(\n          workload_status=StatusInfo(current='active', since='12 Nov 2025 16:20:28Z'),\n          juju_status=StatusInfo(current='idle', since='12 Nov 2025 16:20:29Z', version='4.0-rc1'),\n          leader=True,\n          address='10.1.50.145',\n          provider_id='identity-platform-login-ui-operator-0',\n        ),\n      },\n      version='0.21.2',\n      endpoint_bindings={\n        '': 'alpha',\n        'grafana-dashboard': 'alpha',\n        'hydra-endpoint-info': 'alpha',\n        'identity-platform-login-ui': 'alpha',\n        'ingress': 'alpha',\n        'juju-info': 'alpha',\n        'kratos-info': 'alpha',\n        'logging': 'alpha',\n        'metrics-endpoint': 'alpha',\n        'receive-ca-cert': 'alpha',\n        'tracing': 'alpha',\n        'ui-endpoint-info': 'alpha',\n      },\n    ),\n    'kratos': AppStatus(\n      charm='kratos',\n      charm_origin='charmhub',\n      charm_name='kratos',\n      charm_rev=500,\n      exposed=False,\n      base=FormattedBase(name='ubuntu', channel='22.04'),\n      charm_channel='latest/edge',\n      scale=1,\n      provider_id='ee51037f-05ac-4942-b277-b8c5dcae2a50',\n      life='alive',\n      app_status=StatusInfo(current='active', since='12 Nov 2025 16:20:00Z'),\n      relations={\n        'admin-ingress': [\n          AppStatusRelation(related_app='traefik-admin', interface='ingress', scope='global'),\n        ],\n        'hydra-endpoint-info': [\n          AppStatusRelation(related_app='hydra', interface='hydra_endpoints', scope='global'),\n        ],\n        'kratos-info': [\n          AppStatusRelation(related_app='identity-platform-login-ui-operator', interface='kratos_info', scope='global'),\n        ],\n        'kratos-peers': [\n          AppStatusRelation(related_app='kratos', interface='kratos-peers', scope='global'),\n        ],\n        'pg-database': [\n          AppStatusRelation(related_app='postgresql-k8s', interface='postgresql_client', scope='global'),\n        ],\n        'public-ingress': [\n          AppStatusRelation(related_app='traefik-public', interface='ingress', scope='global'),\n        ],\n        'ui-endpoint-info': [\n          AppStatusRelation(related_app='identity-platform-login-ui-operator', interface='login_ui_endpoints', scope='global'),\n        ],\n      },\n      units={\n        'kratos/0': UnitStatus(\n          workload_status=StatusInfo(current='active', since='12 Nov 2025 16:25:37Z'),\n          juju_status=StatusInfo(current='idle', since='12 Nov 2025 16:22:11Z', version='4.0-rc1'),\n          leader=True,\n          address='10.1.50.149',\n          provider_id='kratos-0',\n        ),\n      },\n      version='v1.3.1',\n      endpoint_bindings={\n        '': 'alpha',\n        'admin-ingress': 'alpha',\n        'grafana-dashboard': 'alpha',\n        'hydra-endpoint-info': 'alpha',\n        'internal-ingress': 'alpha',\n        'juju-info': 'alpha',\n        'kratos-external-idp': 'alpha',\n        'kratos-info': 'alpha',\n        'kratos-peers': 'alpha',\n        'logging': 'alpha',\n        'metrics-endpoint': 'alpha',\n        'pg-database': 'alpha',\n        'public-ingress': 'alpha',\n        'receive-ca-cert': 'alpha',\n        'smtp': 'alpha',\n        'tracing': 'alpha',\n        'ui-endpoint-info': 'alpha',\n      },\n    ),\n    'kratos-external-idp-integrator': AppStatus(\n      charm='kratos-external-idp-integrator',\n      charm_origin='charmhub',\n      charm_name='kratos-external-idp-integrator',\n      charm_rev=245,\n      exposed=False,\n      base=FormattedBase(name='ubuntu', channel='22.04'),\n      charm_channel='latest/edge',\n      life='dying',\n      app_status=StatusInfo(current='waiting', message='installing agent', since='12 Nov 2025 16:17:37Z'),\n      units={\n        'kratos-external-idp-integrator/0': UnitStatus(\n          workload_status=StatusInfo(current='waiting', message='installing agent', since='12 Nov 2025 16:17:37Z'),\n          juju_status=StatusInfo(current='allocating', since='12 Nov 2025 16:17:37Z'),\n        ),\n      },\n      endpoint_bindings={'': 'alpha', 'juju-info': 'alpha', 'kratos-external-idp': 'alpha'},\n    ),\n    'postgresql-k8s': AppStatus(\n      charm='postgresql-k8s',\n      charm_origin='charmhub',\n      charm_name='postgresql-k8s',\n      charm_rev=495,\n      exposed=False,\n      base=FormattedBase(name='ubuntu', channel='22.04'),\n      charm_channel='14/stable',\n      scale=1,\n      provider_id='aee8cb4b-ccb2-45af-9f95-3bdf98951508',\n      life='alive',\n      app_status=StatusInfo(current='active', since='12 Nov 2025 16:27:53Z'),\n      relations={\n        'database': [\n          AppStatusRelation(related_app='hydra', interface='postgresql_client', scope='global'),\n          AppStatusRelation(related_app='kratos', interface='postgresql_client', scope='global'),\n        ],\n        'database-peers': [\n          AppStatusRelation(related_app='postgresql-k8s', interface='postgresql_peers', scope='global'),\n        ],\n        'restart': [\n          AppStatusRelation(related_app='postgresql-k8s', interface='rolling_op', scope='global'),\n        ],\n        'upgrade': [\n          AppStatusRelation(related_app='postgresql-k8s', interface='upgrade', scope='global'),\n        ],\n      },\n      units={\n        'postgresql-k8s/0': UnitStatus(\n          workload_status=StatusInfo(current='active', message='Primary', since='12 Nov 2025 16:28:25Z'),\n          juju_status=StatusInfo(current='idle', since='12 Nov 2025 16:22:06Z', version='4.0-rc1'),\n          leader=True,\n          open_ports=['5432/tcp', '8008/tcp'],\n          address='10.1.50.142',\n          provider_id='postgresql-k8s-0',\n        ),\n      },\n      version='14.15',\n      endpoint_bindings={\n        '': 'alpha',\n        'certificates': 'alpha',\n        'database': 'alpha',\n        'database-peers': 'alpha',\n        'db': 'alpha',\n        'db-admin': 'alpha',\n        'grafana-dashboard': 'alpha',\n        'juju-info': 'alpha',\n        'logging': 'alpha',\n        'metrics-endpoint': 'alpha',\n        'replication': 'alpha',\n        'replication-offer': 'alpha',\n        'restart': 'alpha',\n        's3-parameters': 'alpha',\n        'tracing': 'alpha',\n        'upgrade': 'alpha',\n      },\n    ),\n    'self-signed-certificates': AppStatus(\n      charm='self-signed-certificates',\n      charm_origin='charmhub',\n      charm_name='self-signed-certificates',\n      charm_rev=155,\n      exposed=False,\n      base=FormattedBase(name='ubuntu', channel='22.04'),\n      charm_channel='latest/stable',\n      scale=1,\n      provider_id='3a7e3392-a109-437a-b723-a2469720bba3',\n      life='alive',\n      app_status=StatusInfo(current='active', since='12 Nov 2025 16:19:35Z'),\n      relations={\n        'certificates': [\n          AppStatusRelation(related_app='traefik-admin', interface='tls-certificates', scope='global'),\n          AppStatusRelation(related_app='traefik-public', interface='tls-certificates', scope='global'),\n        ],\n      },\n      units={\n        'self-signed-certificates/0': UnitStatus(\n          workload_status=StatusInfo(current='active', since='12 Nov 2025 16:29:10Z'),\n          juju_status=StatusInfo(current='idle', since='12 Nov 2025 16:20:01Z', version='4.0-rc1'),\n          leader=True,\n          address='10.1.50.139',\n          provider_id='self-signed-certificates-0',\n        ),\n      },\n      endpoint_bindings={'': 'alpha', 'certificates': 'alpha', 'juju-info': 'alpha', 'send-ca-cert': 'alpha', 'tracing': 'alpha'},\n    ),\n    'traefik-admin': AppStatus(\n      charm='traefik-k8s',\n      charm_origin='charmhub',\n      charm_name='traefik-k8s',\n      charm_rev=176,\n      exposed=False,\n      base=FormattedBase(name='ubuntu', channel='20.04'),\n      charm_channel='latest/stable',\n      scale=1,\n      provider_id='7d94b3d0-b9fd-428d-8cd8-20443044b807',\n      life='alive',\n      app_status=StatusInfo(current='active', since='12 Nov 2025 16:20:04Z'),\n      relations={\n        'certificates': [\n          AppStatusRelation(related_app='self-signed-certificates', interface='tls-certificates', scope='global'),\n        ],\n        'ingress': [\n          AppStatusRelation(related_app='hydra', interface='ingress', scope='global'),\n          AppStatusRelation(related_app='kratos', interface='ingress', scope='global'),\n        ],\n        'peers': [\n          AppStatusRelation(related_app='traefik-admin', interface='traefik_peers', scope='global'),\n        ],\n      },\n      units={\n        'traefik-admin/0': UnitStatus(\n          workload_status=StatusInfo(current='active', since='12 Nov 2025 16:29:26Z'),\n          juju_status=StatusInfo(current='idle', since='12 Nov 2025 16:20:15Z', version='4.0-rc1'),\n          leader=True,\n          address='10.1.50.147',\n          provider_id='traefik-admin-0',\n        ),\n      },\n      version='v2.11.0',\n      endpoint_bindings={\n        '': 'alpha',\n        'certificates': 'alpha',\n        'experimental-forward-auth': 'alpha',\n        'grafana-dashboard': 'alpha',\n        'ingress': 'alpha',\n        'ingress-per-unit': 'alpha',\n        'juju-info': 'alpha',\n        'logging': 'alpha',\n        'metrics-endpoint': 'alpha',\n        'peers': 'alpha',\n        'receive-ca-cert': 'alpha',\n        'tracing': 'alpha',\n        'traefik-route': 'alpha',\n      },\n    ),\n    'traefik-public': AppStatus(\n      charm='traefik-k8s',\n      charm_origin='charmhub',\n      charm_name='traefik-k8s',\n      charm_rev=176,\n      exposed=False,\n      base=FormattedBase(name='ubuntu', channel='20.04'),\n      charm_channel='latest/stable',\n      scale=1,\n      provider_id='efc2b54c-f3a0-4962-ac6e-a27a72ac7c1d',\n      life='alive',\n      app_status=StatusInfo(current='active', since='12 Nov 2025 16:20:16Z'),\n      relations={\n        'certificates': [\n          AppStatusRelation(related_app='self-signed-certificates', interface='tls-certificates', scope='global'),\n        ],\n        'ingress': [\n          AppStatusRelation(related_app='flask-k8s', interface='ingress', scope='global'),\n          AppStatusRelation(related_app='hydra', interface='ingress', scope='global'),\n          AppStatusRelation(related_app='identity-platform-login-ui-operator', interface='ingress', scope='global'),\n          AppStatusRelation(related_app='kratos', interface='ingress', scope='global'),\n        ],\n        'peers': [\n          AppStatusRelation(related_app='traefik-public', interface='traefik_peers', scope='global'),\n        ],\n      },\n      units={\n        'traefik-public/0': UnitStatus(\n          workload_status=StatusInfo(current='active', since='12 Nov 2025 16:29:00Z'),\n          juju_status=StatusInfo(current='idle', since='12 Nov 2025 16:20:34Z', version='4.0-rc1'),\n          leader=True,\n          address='10.1.50.144',\n          provider_id='traefik-public-0',\n        ),\n      },\n      version='v2.11.0',\n      endpoint_bindings={\n        '': 'alpha',\n        'certificates': 'alpha',\n        'experimental-forward-auth': 'alpha',\n        'grafana-dashboard': 'alpha',\n        'ingress': 'alpha',\n        'ingress-per-unit': 'alpha',\n        'juju-info': 'alpha',\n        'logging': 'alpha',\n        'metrics-endpoint': 'alpha',\n        'peers': 'alpha',\n        'receive-ca-cert': 'alpha',\n        'tracing': 'alpha',\n        'traefik-route': 'alpha',\n      },\n    ),\n  },\n  storage=CombinedStorage(\n    storage={\n      'configurations/1': StorageInfo(\n        kind='filesystem',\n        status=EntityStatus(current='attached', since='12 Nov 2025 16:19:11Z'),\n        persistent=False,\n        life='alive',\n        attachments=StorageAttachments(\n          units={\n            'traefik-admin/0': UnitStorageAttachment(location='/var/lib/juju/storage/572c96b1-fad9-4f6d-84f6-1c13d3f3a3ef'),\n          },\n        ),\n      ),\n      'configurations/2': StorageInfo(\n        kind='filesystem',\n        status=EntityStatus(current='attached', since='12 Nov 2025 16:19:10Z'),\n        persistent=False,\n        life='alive',\n        attachments=StorageAttachments(\n          units={\n            'traefik-public/0': UnitStorageAttachment(location='/var/lib/juju/storage/2e32ca13-95d1-46e2-8d3a-af5ed0e7dfb2'),\n          },\n        ),\n      ),\n      'pgdata/0': StorageInfo(\n        kind='filesystem',\n        status=EntityStatus(current='attached', since='12 Nov 2025 16:19:10Z'),\n        persistent=False,\n        life='alive',\n        attachments=StorageAttachments(\n          units={\n            'postgresql-k8s/0': UnitStorageAttachment(location='/var/lib/postgresql/data'),\n          },\n        ),\n      ),\n    },\n    filesystems={\n      '0': FilesystemInfo(\n        size=1024,\n        provider_id='pvc-a1f2fef7-fcba-43ec-a523-fc63b40d6125',\n        storage='pgdata/0',\n        attachments=FilesystemAttachments(\n          containers={\n            'postgresql-k8s/0': FilesystemAttachment(mount_point='/var/lib/postgresql/data', read_only=False, life='alive'),\n          },\n          units={\n            'postgresql-k8s/0': UnitStorageAttachment(location='/var/lib/postgresql/data'),\n          },\n        ),\n        life='alive',\n        status=EntityStatus(current='attached', since='12 Nov 2025 16:19:10Z'),\n      ),\n      '1': FilesystemInfo(\n        size=1024,\n        provider_id='pvc-2822dbba-89b3-42c8-a2e9-9a9b8f363ad7',\n        storage='configurations/1',\n        attachments=FilesystemAttachments(\n          containers={\n            'traefik-admin/0': FilesystemAttachment(mount_point='/var/lib/juju/storage/572c96b1-fad9-4f6d-84f6-1c13d3f3a3ef', read_only=False, life='alive'),\n          },\n          units={\n            'traefik-admin/0': UnitStorageAttachment(location='/var/lib/juju/storage/572c96b1-fad9-4f6d-84f6-1c13d3f3a3ef'),\n          },\n        ),\n        life='alive',\n        status=EntityStatus(current='attached', since='12 Nov 2025 16:19:11Z'),\n      ),\n      '2': FilesystemInfo(\n        size=1024,\n        provider_id='pvc-06b4e5fc-3fda-42c5-b6cb-6950947efc50',\n        storage='configurations/2',\n        attachments=FilesystemAttachments(\n          containers={\n            'traefik-public/0': FilesystemAttachment(mount_point='/var/lib/juju/storage/2e32ca13-95d1-46e2-8d3a-af5ed0e7dfb2', read_only=False, life='alive'),\n          },\n          units={\n            'traefik-public/0': UnitStorageAttachment(location='/var/lib/juju/storage/2e32ca13-95d1-46e2-8d3a-af5ed0e7dfb2'),\n          },\n        ),\n        life='alive',\n        status=EntityStatus(current='attached', since='12 Nov 2025 16:19:10Z'),\n      ),\n    },\n  ),\n  controller=ControllerStatus(timestamp='16:30:02Z'),\n)","steps":[],"attachments":[{"uid":"10f5738b528451a9","name":"log","source":"10f5738b528451a9.txt","type":"text/plain","size":152190}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"http::0","time":{"start":1762965007101,"stop":1762965007101,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail::0","time":{"start":1762965007101,"stop":1762965007101,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"flask_app::0","time":{"start":1762965007102,"stop":1762965007102,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser_context_manager::0","time":{"start":1762965007102,"stop":1762965007102,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"juju::0","time":{"start":1762965007103,"stop":1762965007345,"duration":242},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"parentSuite","value":"tests.integration.integrations"},{"name":"suite","value":"test_oauth"},{"name":"host","value":"runnervmfg25i"},{"name":"thread","value":"24638-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.integrations.test_oauth"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"app_fixture","value":"'flask_app'"},{"name":"endpoint","value":"'login'"}],"links":[],"hidden":true,"retry":true,"extra":{"categories":[],"tags":[]},"source":"9bb0aa7899b4dcbe.json","parameterValues":["'flask_app'","'login'"]}