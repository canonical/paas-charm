{"uid":"b06f0688a3f2c975","name":"test_saml_integration[flask_app-8000]","fullName":"tests.integration.integrations.test_saml#test_saml_integration","historyId":"af790f93ba0bef23d31247a7081a15e4","time":{"start":1762964278767,"stop":1762964356826,"duration":78059},"description":"\n    arrange: Integrate the Charm with saml-integrator, with a real SP.\n    act: Call the endpoint to get env variables.\n    assert: Valid Saml env variables should be in the workload.\n    ","descriptionHtml":"<pre><code>arrange: Integrate the Charm with saml-integrator, with a real SP.\nact: Call the endpoint to get env variables.\nassert: Valid Saml env variables should be in the workload.\n</code></pre>\n","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":3,"retriesStatusChange":true,"beforeStages":[{"name":"juju","time":{"start":1762964278765,"stop":1762964278765,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"s3_credentials","time":{"start":1762964278766,"stop":1762964278766,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"minio_app_name","time":{"start":1762964278766,"stop":1762964278766,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"s3_configuration","time":{"start":1762964278766,"stop":1762964278766,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1762964278766,"stop":1762964278766,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"tmp_path_factory","time":{"start":1762964278767,"stop":1762964278767,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"flask_app","time":{"start":1762964278767,"stop":1762964321129,"duration":42362},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"pytestconfig","time":{"start":1762964278767,"stop":1762964278767,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"\n    arrange: Integrate the Charm with saml-integrator, with a real SP.\n    act: Call the endpoint to get env variables.\n    assert: Valid Saml env variables should be in the workload.\n    ","status":"passed","steps":[],"attachments":[{"uid":"d1e69b607ca220df","name":"log","source":"d1e69b607ca220df.txt","type":"text/plain","size":22512}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"flask_app::0","time":{"start":1762964356827,"stop":1762964356827,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail::0","time":{"start":1762964356827,"stop":1762964356827,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"juju::0","time":{"start":1762964356828,"stop":1762964356828,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"parentSuite","value":"tests.integration.integrations"},{"name":"suite","value":"test_saml"},{"name":"host","value":"runnervmfg25i"},{"name":"thread","value":"27752-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.integrations.test_saml"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"app_fixture","value":"'flask_app'"},{"name":"port","value":"8000"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"b69def175261206e","status":"broken","statusDetails":"TimeoutError: wait timed out after 600s\nStatus(\n  model=ModelStatus(\n    name='testing',\n    type='caas',\n    controller='github-pr-8beda-microk8s',\n    cloud='microk8s',\n    version='4.0-rc1',\n    region='localhost',\n    model_status=StatusInfo(current='available', since='12 Nov 2025 16:27:54Z'),\n  ),\n  machines={},\n  apps={\n    'flask-k8s': AppStatus(\n      charm='local:flask-k8s-0',\n      charm_origin='local',\n      charm_name='flask-k8s',\n      charm_rev=0,\n      exposed=False,\n      base=FormattedBase(name='ubuntu', channel='22.04'),\n      scale=1,\n      provider_id='5a138e29-e8e9-4a2b-9820-49c69acd0898',\n      life='alive',\n      app_status=StatusInfo(current='active', since='12 Nov 2025 16:17:47Z'),\n      relations={\n        'secret-storage': [\n          AppStatusRelation(related_app='flask-k8s', interface='secret-storage', scope='global'),\n        ],\n      },\n      units={\n        'flask-k8s/0': UnitStatus(\n          workload_status=StatusInfo(current='active', since='12 Nov 2025 16:17:47Z'),\n          juju_status=StatusInfo(current='idle', since='12 Nov 2025 16:17:47Z', version='4.0-rc1'),\n          leader=True,\n          open_ports=['8000/tcp'],\n          address='10.1.50.138',\n          provider_id='flask-k8s-0',\n        ),\n      },\n      endpoint_bindings={\n        '': 'alpha',\n        'grafana-dashboard': 'alpha',\n        'http-proxy': 'alpha',\n        'ingress': 'alpha',\n        'juju-info': 'alpha',\n        'logging': 'alpha',\n        'metrics-endpoint': 'alpha',\n        'mongodb': 'alpha',\n        'mysql': 'alpha',\n        'oidc': 'alpha',\n        'openfga': 'alpha',\n        'postgresql': 'alpha',\n        'rabbitmq': 'alpha',\n        'redis': 'alpha',\n        's3': 'alpha',\n        'saml': 'alpha',\n        'secret-storage': 'alpha',\n        'smtp': 'alpha',\n        'tracing': 'alpha',\n      },\n    ),\n    'saml-integrator': AppStatus(\n      charm='saml-integrator',\n      charm_origin='charmhub',\n      charm_name='saml-integrator',\n      charm_rev=107,\n      exposed=False,\n      base=FormattedBase(name='ubuntu', channel='22.04'),\n      charm_channel='latest/edge',\n      scale=1,\n      provider_id='5b80a0cb-0703-48bc-b895-2cbaccdf5bf8',\n      life='alive',\n      app_status=StatusInfo(current='active', since='12 Nov 2025 16:18:09Z'),\n      units={\n        'saml-integrator/0': UnitStatus(\n          workload_status=StatusInfo(current='blocked', message='invalid configuration: entity_id', since='12 Nov 2025 16:23:57Z'),\n          juju_status=StatusInfo(current='idle', since='12 Nov 2025 16:18:09Z', version='4.0-rc1'),\n          leader=True,\n          address='10.1.50.140',\n          provider_id='saml-integrator-0',\n        ),\n      },\n      endpoint_bindings={'': 'alpha', 'juju-info': 'alpha', 'saml': 'alpha'},\n    ),\n  },\n  controller=ControllerStatus(timestamp='16:27:54Z'),\n)","time":{"start":1762964238710,"stop":1762964875825,"duration":637115}},{"uid":"7d8a8ef82e22587f","status":"unknown","time":{}},{"uid":"3e829a080d56a6ab","status":"unknown","time":{}}],"categories":[],"history":{"statistic":{"failed":0,"broken":0,"skipped":0,"passed":5,"unknown":0,"total":5},"items":[{"uid":"d372bbe2f3b17665","reportUrl":"../1139//#testresult/d372bbe2f3b17665","status":"passed","time":{"start":1761901826472,"stop":1761901902441,"duration":75969}},{"uid":"4ee218e28ab87be9","reportUrl":"../1137//#testresult/4ee218e28ab87be9","status":"passed","time":{"start":1761298197823,"stop":1761298271516,"duration":73693}},{"uid":"6517f085f0728e04","reportUrl":"../1121//#testresult/6517f085f0728e04","status":"passed","time":{"start":1761047021563,"stop":1761047100209,"duration":78646}},{"uid":"b94b4fd1d0705bbb","reportUrl":"../1120//#testresult/b94b4fd1d0705bbb","status":"passed","time":{"start":1761043141289,"stop":1761043223936,"duration":82647}}]},"tags":[]},"source":"b06f0688a3f2c975.json","parameterValues":["'flask_app'","8000"]}