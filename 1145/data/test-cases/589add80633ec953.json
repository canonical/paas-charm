{"uid":"589add80633ec953","name":"test_non_root_db_migration[FastAPI non-root]","fullName":"tests.integration.general.test_non_root_db_migration#test_non_root_db_migration","historyId":"256ed1594a6f3025a2960c90dc21eb3f","time":{"start":1763120386948,"stop":1763120432802,"duration":45854},"description":"\n    arrange: build and deploy the non-root charm.\n    act: deploy the database and relate it to the charm.\n    assert: requesting the charm should return a correct response indicate\n        the database migration script has been executed and only executed once.\n    ","descriptionHtml":"<pre><code>arrange: build and deploy the non-root charm.\nact: deploy the database and relate it to the charm.\nassert: requesting the charm should return a correct response indicate\n    the database migration script has been executed and only executed once.\n</code></pre>\n","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":1,"retriesStatusChange":true,"beforeStages":[{"name":"juju","time":{"start":1763119900678,"stop":1763119900678,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"tmp_path_factory","time":{"start":1763119900680,"stop":1763119900680,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"pytestconfig","time":{"start":1763119900680,"stop":1763119900680,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1763120386947,"stop":1763120386947,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"fastapi_app_image","time":{"start":1763120386948,"stop":1763120386948,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"fastapi_non_root_app","time":{"start":1763120386948,"stop":1763120421682,"duration":34734},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"\n    arrange: build and deploy the non-root charm.\n    act: deploy the database and relate it to the charm.\n    assert: requesting the charm should return a correct response indicate\n        the database migration script has been executed and only executed once.\n    ","status":"passed","steps":[],"attachments":[{"uid":"10473e31d337e6a5","name":"log","source":"10473e31d337e6a5.txt","type":"text/plain","size":39791}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"abort_on_fail::0","time":{"start":1763120432804,"stop":1763120432804,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"fastapi_non_root_app::0","time":{"start":1763120472498,"stop":1763120472498,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"juju::0","time":{"start":1763120472501,"stop":1763120472501,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"parentSuite","value":"tests.integration.general"},{"name":"suite","value":"test_non_root_db_migration"},{"name":"host","value":"runnervmfxdz0"},{"name":"thread","value":"26738-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.general.test_non_root_db_migration"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"app_name","value":"'fastapi-k8s'"},{"name":"endpoint","value":"'table/users'"},{"name":"non_root_app_fixture","value":"'fastapi_non_root_app'"},{"name":"port","value":"8080"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"c6bfed38b6c5476a","status":"unknown","time":{}}],"categories":[],"history":{"statistic":{"failed":0,"broken":2,"skipped":0,"passed":6,"unknown":0,"total":8},"items":[{"uid":"fc302dfd3856d64e","reportUrl":"../1144//#testresult/fc302dfd3856d64e","status":"passed","time":{"start":1763118916710,"stop":1763118967312,"duration":50602}},{"uid":"840f9f03ae2e74ba","reportUrl":"../1143//#testresult/840f9f03ae2e74ba","status":"passed","time":{"start":1763118693678,"stop":1763118741316,"duration":47638}},{"uid":"d9c0497531989dc","reportUrl":"../1140//#testresult/d9c0497531989dc","status":"passed","time":{"start":1762964839970,"stop":1762964878801,"duration":38831}},{"uid":"143bda16ee6e5700","reportUrl":"../1139//#testresult/143bda16ee6e5700","status":"passed","time":{"start":1761902243615,"stop":1761902292608,"duration":48993}},{"uid":"6ea14afee3bfd08a","reportUrl":"../1137//#testresult/6ea14afee3bfd08a","status":"passed","time":{"start":1761298297893,"stop":1761298337220,"duration":39327}},{"uid":"43294a48da42410a","reportUrl":"../1121//#testresult/43294a48da42410a","status":"broken","statusDetails":"TimeoutError: wait timed out after 600s\nStatus(\n  model=ModelStatus(\n    name='testing',\n    type='caas',\n    controller='github-pr-aadc8-microk8s',\n    cloud='microk8s',\n    version='3.6.11',\n    region='localhost',\n    model_status=StatusInfo(current='available', since='21 Oct 2025 11:42:43Z'),\n  ),\n  machines={},\n  apps={\n    'django-k8s': AppStatus(\n      charm='local:django-k8s-0',\n      charm_origin='local',\n      charm_name='django-k8s',\n      charm_rev=0,\n      exposed=False,\n      base=FormattedBase(name='ubuntu', channel='22.04'),\n      scale=1,\n      provider_id='e01cfcce-6efb-416a-975d-11e455cb5e61',\n      address='10.152.183.81',\n      app_status=StatusInfo(current='active', since='21 Oct 2025 11:47:30Z'),\n      relations={\n        'postgresql': [\n          AppStatusRelation(related_app='postgresql-k8s', interface='postgresql_client', scope='global'),\n        ],\n        'secret-storage': [\n          AppStatusRelation(related_app='django-k8s', interface='secret-storage', scope='global'),\n        ],\n      },\n      units={\n        'django-k8s/0': UnitStatus(\n          workload_status=StatusInfo(current='active', since='21 Oct 2025 11:47:30Z'),\n          juju_status=StatusInfo(current='idle', since='21 Oct 2025 11:47:31Z', version='3.6.11'),\n          leader=True,\n          address='10.1.110.142',\n          provider_id='django-k8s-0',\n        ),\n      },\n      endpoint_bindings={\n        '': 'alpha',\n        'grafana-dashboard': 'alpha',\n        'http-proxy': 'alpha',\n        'ingress': 'alpha',\n        'logging': 'alpha',\n        'metrics-endpoint': 'alpha',\n        'oidc': 'alpha',\n        'openfga': 'alpha',\n        'postgresql': 'alpha',\n        'secret-storage': 'alpha',\n        'smtp': 'alpha',\n        'tracing': 'alpha',\n      },\n    ),\n    'expressjs-k8s': AppStatus(\n      charm='local:expressjs-k8s-0',\n      charm_origin='local',\n      charm_name='expressjs-k8s',\n      charm_rev=0,\n      exposed=False,\n      base=FormattedBase(name='ubuntu', channel='24.04'),\n      scale=1,\n      provider_id='a890b39b-dea4-4cd8-a164-f78e61aafddd',\n      address='10.152.183.136',\n      app_status=StatusInfo(current='active', since='21 Oct 2025 11:46:05Z'),\n      relations={\n        'postgresql': [\n          AppStatusRelation(related_app='postgresql-k8s', interface='postgresql_client', scope='global'),\n        ],\n        'secret-storage': [\n          AppStatusRelation(related_app='expressjs-k8s', interface='secret-storage', scope='global'),\n        ],\n      },\n      units={\n        'expressjs-k8s/0': UnitStatus(\n          workload_status=StatusInfo(current='active', since='21 Oct 2025 11:46:05Z'),\n          juju_status=StatusInfo(current='idle', since='21 Oct 2025 11:46:06Z', version='3.6.11'),\n          leader=True,\n          address='10.1.110.138',\n          provider_id='expressjs-k8s-0',\n        ),\n      },\n      endpoint_bindings={\n        '': 'alpha',\n        'grafana-dashboard': 'alpha',\n        'http-proxy': 'alpha',\n        'ingress': 'alpha',\n        'logging': 'alpha',\n        'metrics-endpoint': 'alpha',\n        'oidc': 'alpha',\n        'openfga': 'alpha',\n        'postgresql': 'alpha',\n        'secret-storage': 'alpha',\n        'smtp': 'alpha',\n        'tracing': 'alpha',\n      },\n    ),\n    'fastapi-k8s': AppStatus(\n      charm='local:fastapi-k8s-0',\n      charm_origin='local',\n      charm_name='fastapi-k8s',\n      charm_rev=0,\n      exposed=False,\n      base=FormattedBase(name='ubuntu', channel='24.04'),\n      scale=1,\n      provider_id='0afc19d7-a158-4945-b148-550673834483',\n      address='10.152.183.195',\n      app_status=StatusInfo(\n        current='blocked',\n        message=\"database migration command ['bash', '-eo', 'pipefail', 'migrate.sh'] failed, will retry in next update-status\",\n        since='21 Oct 2025 11:57:24Z',\n      ),\n      relations={\n        'postgresql': [\n          AppStatusRelation(related_app='postgresql-k8s', interface='postgresql_client', scope='global'),\n        ],\n        'secret-storage': [\n          AppStatusRelation(related_app='fastapi-k8s', interface='secret-storage', scope='global'),\n        ],\n      },\n      units={\n        'fastapi-k8s/0': UnitStatus(\n          workload_status=StatusInfo(\n            current='blocked',\n            message=\"database migration command ['bash', '-eo', 'pipefail', 'migrate.sh'] failed, will retry in next update-status\",\n            since='21 Oct 2025 11:57:24Z',\n          ),\n          juju_status=StatusInfo(current='idle', since='21 Oct 2025 11:48:17Z', version='3.6.11'),\n          leader=True,\n          address='10.1.110.143',\n          provider_id='fastapi-k8s-0',\n        ),\n      },\n      endpoint_bindings={\n        '': 'alpha',\n        'grafana-dashboard': 'alpha',\n        'http-proxy': 'alpha',\n        'ingress': 'alpha',\n        'logging': 'alpha',\n        'metrics-endpoint': 'alpha',\n        'oidc': 'alpha',\n        'openfga': 'alpha',\n        'postgresql': 'alpha',\n        'secret-storage': 'alpha',\n        'smtp': 'alpha',\n        'tracing': 'alpha',\n      },\n    ),\n    'flask-k8s': AppStatus(\n      charm='local:flask-k8s-0',\n      charm_origin='local',\n      charm_name='flask-k8s',\n      charm_rev=0,\n      exposed=False,\n      base=FormattedBase(name='ubuntu', channel='22.04'),\n      scale=1,\n      provider_id='283f1e65-0cfa-4aeb-a5bd-dd1d76ad2b93',\n      address='10.152.183.108',\n      app_status=StatusInfo(current='active', since='21 Oct 2025 11:46:47Z'),\n      relations={\n        'postgresql': [\n          AppStatusRelation(related_app='postgresql-k8s', interface='postgresql_client', scope='global'),\n        ],\n        'secret-storage': [\n          AppStatusRelation(related_app='flask-k8s', interface='secret-storage', scope='global'),\n        ],\n      },\n      units={\n        'flask-k8s/0': UnitStatus(\n          workload_status=StatusInfo(current='active', since='21 Oct 2025 11:46:47Z'),\n          juju_status=StatusInfo(current='idle', since='21 Oct 2025 11:46:48Z', version='3.6.11'),\n          leader=True,\n          address='10.1.110.141',\n          provider_id='flask-k8s-0',\n        ),\n      },\n      endpoint_bindings={\n        '': 'alpha',\n        'grafana-dashboard': 'alpha',\n        'http-proxy': 'alpha',\n        'ingress': 'alpha',\n        'logging': 'alpha',\n        'metrics-endpoint': 'alpha',\n        'mongodb': 'alpha',\n        'mysql': 'alpha',\n        'oidc': 'alpha',\n        'openfga': 'alpha',\n        'postgresql': 'alpha',\n        'rabbitmq': 'alpha',\n        'redis': 'alpha',\n        's3': 'alpha',\n        'saml': 'alpha',\n        'secret-storage': 'alpha',\n        'smtp': 'alpha',\n        'tracing': 'alpha',\n      },\n    ),\n    'postgresql-k8s': AppStatus(\n      charm='postgresql-k8s',\n      charm_origin='charmhub',\n      charm_name='postgresql-k8s',\n      charm_rev=684,\n      exposed=False,\n      base=FormattedBase(name='ubuntu', channel='22.04'),\n      charm_channel='14/edge',\n      scale=1,\n      provider_id='fd29cec6-d177-4db0-9615-c7fdbf365a53',\n      address='10.152.183.151',\n      app_status=StatusInfo(current='active', since='21 Oct 2025 11:46:05Z'),\n      relations={\n        'database': [\n          AppStatusRelation(related_app='django-k8s', interface='postgresql_client', scope='global'),\n          AppStatusRelation(related_app='expressjs-k8s', interface='postgresql_client', scope='global'),\n          AppStatusRelation(related_app='fastapi-k8s', interface='postgresql_client', scope='global'),\n          AppStatusRelation(related_app='flask-k8s', interface='postgresql_client', scope='global'),\n        ],\n        'database-peers': [\n          AppStatusRelation(related_app='postgresql-k8s', interface='postgresql_peers', scope='global'),\n        ],\n        'restart': [\n          AppStatusRelation(related_app='postgresql-k8s', interface='rolling_op', scope='global'),\n        ],\n        'upgrade': [\n          AppStatusRelation(related_app='postgresql-k8s', interface='upgrade', scope='global'),\n        ],\n      },\n      units={\n        'postgresql-k8s/0': UnitStatus(\n          workload_status=StatusInfo(current='active', message='Primary', since='21 Oct 2025 11:46:00Z'),\n          juju_status=StatusInfo(current='idle', since='21 Oct 2025 11:53:29Z', version='3.6.11'),\n          leader=True,\n          address='10.1.110.140',\n          provider_id='postgresql-k8s-0',\n        ),\n      },\n      version='14.19',\n      endpoint_bindings={\n        '': 'alpha',\n        'certificates': 'alpha',\n        'database': 'alpha',\n        'database-peers': 'alpha',\n        'db': 'alpha',\n        'db-admin': 'alpha',\n        'grafana-dashboard': 'alpha',\n        'ldap': 'alpha',\n        'logging': 'alpha',\n        'metrics-endpoint': 'alpha',\n        'receive-ca-cert': 'alpha',\n        'replication': 'alpha',\n        'replication-offer': 'alpha',\n        'restart': 'alpha',\n        's3-parameters': 'alpha',\n        'tracing': 'alpha',\n        'upgrade': 'alpha',\n      },\n    ),\n  },\n  storage=CombinedStorage(\n    storage={\n      'pgdata/0': StorageInfo(\n        kind='filesystem',\n        status=EntityStatus(current='attached', since='21 Oct 2025 11:53:29Z'),\n        persistent=False,\n        life='alive',\n        attachments=StorageAttachments(\n          units={\n            'postgresql-k8s/0': UnitStorageAttachment(life='alive'),\n          },\n        ),\n      ),\n    },\n    filesystems={\n      '0': FilesystemInfo(\n        size=1024,\n        provider_id='c47bf271-422e-450e-acde-1213abc969b1',\n        volume='0',\n        storage='pgdata/0',\n        attachments=FilesystemAttachments(\n          containers={\n            'postgresql-k8s/0': FilesystemAttachment(mount_point='/var/lib/postgresql/data', read_only=False, life='alive'),\n          },\n          units={\n            'postgresql-k8s/0': UnitStorageAttachment(life='alive'),\n          },\n        ),\n        pool='kubernetes',\n        life='alive',\n        status=EntityStatus(current='attached', since='21 Oct 2025 11:53:29Z'),\n      ),\n    },\n    volumes={\n      '0': VolumeInfo(\n        size=1024,\n        persistent=True,\n        provider_id='pvc-c47bf271-422e-450e-acde-1213abc969b1',\n        storage='pgdata/0',\n        attachments=VolumeAttachments(\n          containers={\n            'postgresql-k8s/0': VolumeAttachment(read_only=False, life='alive'),\n          },\n          units={\n            'postgresql-k8s/0': UnitStorageAttachment(life='alive'),\n          },\n        ),\n        pool='kubernetes',\n        life='alive',\n        status=EntityStatus(current='attached', since='21 Oct 2025 11:45:11Z'),\n      ),\n    },\n  ),\n  controller=ControllerStatus(timestamp='11:57:49Z'),\n)","time":{"start":1761047263547,"stop":1761047870895,"duration":607348}},{"uid":"1d20aa5dcf2dc03a","reportUrl":"../1120//#testresult/1d20aa5dcf2dc03a","status":"broken","statusDetails":"TimeoutError: wait timed out after 600s\nStatus(\n  model=ModelStatus(\n    name='testing',\n    type='caas',\n    controller='github-pr-67728-microk8s',\n    cloud='microk8s',\n    version='3.6.11',\n    region='localhost',\n    model_status=StatusInfo(current='available', since='21 Oct 2025 10:34:49Z'),\n  ),\n  machines={},\n  apps={\n    'django-k8s': AppStatus(\n      charm='local:django-k8s-0',\n      charm_origin='local',\n      charm_name='django-k8s',\n      charm_rev=0,\n      exposed=False,\n      base=FormattedBase(name='ubuntu', channel='22.04'),\n      scale=1,\n      provider_id='6fee727c-96d9-4d3e-8cc4-ef4bd0ac1e6f',\n      address='10.152.183.98',\n      app_status=StatusInfo(current='active', since='21 Oct 2025 10:39:18Z'),\n      relations={\n        'postgresql': [\n          AppStatusRelation(related_app='postgresql-k8s', interface='postgresql_client', scope='global'),\n        ],\n        'secret-storage': [\n          AppStatusRelation(related_app='django-k8s', interface='secret-storage', scope='global'),\n        ],\n      },\n      units={\n        'django-k8s/0': UnitStatus(\n          workload_status=StatusInfo(current='active', since='21 Oct 2025 10:39:18Z'),\n          juju_status=StatusInfo(current='idle', since='21 Oct 2025 10:39:17Z', version='3.6.11'),\n          leader=True,\n          address='10.1.110.142',\n          provider_id='django-k8s-0',\n        ),\n      },\n      endpoint_bindings={\n        '': 'alpha',\n        'grafana-dashboard': 'alpha',\n        'http-proxy': 'alpha',\n        'ingress': 'alpha',\n        'logging': 'alpha',\n        'metrics-endpoint': 'alpha',\n        'oidc': 'alpha',\n        'openfga': 'alpha',\n        'postgresql': 'alpha',\n        'secret-storage': 'alpha',\n        'smtp': 'alpha',\n        'tracing': 'alpha',\n      },\n    ),\n    'expressjs-k8s': AppStatus(\n      charm='local:expressjs-k8s-0',\n      charm_origin='local',\n      charm_name='expressjs-k8s',\n      charm_rev=0,\n      exposed=False,\n      base=FormattedBase(name='ubuntu', channel='24.04'),\n      scale=1,\n      provider_id='36e91f7f-a2bf-430c-b5fd-93e06ec40e23',\n      address='10.152.183.136',\n      app_status=StatusInfo(current='active', since='21 Oct 2025 10:37:51Z'),\n      relations={\n        'postgresql': [\n          AppStatusRelation(related_app='postgresql-k8s', interface='postgresql_client', scope='global'),\n        ],\n        'secret-storage': [\n          AppStatusRelation(related_app='expressjs-k8s', interface='secret-storage', scope='global'),\n        ],\n      },\n      units={\n        'expressjs-k8s/0': UnitStatus(\n          workload_status=StatusInfo(current='active', since='21 Oct 2025 10:37:51Z'),\n          juju_status=StatusInfo(current='idle', since='21 Oct 2025 10:37:53Z', version='3.6.11'),\n          leader=True,\n          address='10.1.110.138',\n          provider_id='expressjs-k8s-0',\n        ),\n      },\n      endpoint_bindings={\n        '': 'alpha',\n        'grafana-dashboard': 'alpha',\n        'http-proxy': 'alpha',\n        'ingress': 'alpha',\n        'logging': 'alpha',\n        'metrics-endpoint': 'alpha',\n        'oidc': 'alpha',\n        'openfga': 'alpha',\n        'postgresql': 'alpha',\n        'secret-storage': 'alpha',\n        'smtp': 'alpha',\n        'tracing': 'alpha',\n      },\n    ),\n    'fastapi-k8s': AppStatus(\n      charm='local:fastapi-k8s-0',\n      charm_origin='local',\n      charm_name='fastapi-k8s',\n      charm_rev=0,\n      exposed=False,\n      base=FormattedBase(name='ubuntu', channel='24.04'),\n      scale=1,\n      provider_id='d94996d7-a442-43fa-a9e0-c3ae06271d68',\n      address='10.152.183.150',\n      app_status=StatusInfo(\n        current='blocked',\n        message=\"database migration command ['bash', '-eo', 'pipefail', 'migrate.sh'] failed, will retry in next update-status\",\n        since='21 Oct 2025 10:48:42Z',\n      ),\n      relations={\n        'postgresql': [\n          AppStatusRelation(related_app='postgresql-k8s', interface='postgresql_client', scope='global'),\n        ],\n        'secret-storage': [\n          AppStatusRelation(related_app='fastapi-k8s', interface='secret-storage', scope='global'),\n        ],\n      },\n      units={\n        'fastapi-k8s/0': UnitStatus(\n          workload_status=StatusInfo(\n            current='blocked',\n            message=\"database migration command ['bash', '-eo', 'pipefail', 'migrate.sh'] failed, will retry in next update-status\",\n            since='21 Oct 2025 10:48:42Z',\n          ),\n          juju_status=StatusInfo(current='idle', since='21 Oct 2025 10:40:01Z', version='3.6.11'),\n          leader=True,\n          address='10.1.110.143',\n          provider_id='fastapi-k8s-0',\n        ),\n      },\n      endpoint_bindings={\n        '': 'alpha',\n        'grafana-dashboard': 'alpha',\n        'http-proxy': 'alpha',\n        'ingress': 'alpha',\n        'logging': 'alpha',\n        'metrics-endpoint': 'alpha',\n        'oidc': 'alpha',\n        'openfga': 'alpha',\n        'postgresql': 'alpha',\n        'secret-storage': 'alpha',\n        'smtp': 'alpha',\n        'tracing': 'alpha',\n      },\n    ),\n    'flask-k8s': AppStatus(\n      charm='local:flask-k8s-0',\n      charm_origin='local',\n      charm_name='flask-k8s',\n      charm_rev=0,\n      exposed=False,\n      base=FormattedBase(name='ubuntu', channel='22.04'),\n      scale=1,\n      provider_id='85b964e2-ad0f-44f0-87d7-9a20625d541c',\n      address='10.152.183.52',\n      app_status=StatusInfo(current='active', since='21 Oct 2025 10:38:36Z'),\n      relations={\n        'postgresql': [\n          AppStatusRelation(related_app='postgresql-k8s', interface='postgresql_client', scope='global'),\n        ],\n        'secret-storage': [\n          AppStatusRelation(related_app='flask-k8s', interface='secret-storage', scope='global'),\n        ],\n      },\n      units={\n        'flask-k8s/0': UnitStatus(\n          workload_status=StatusInfo(current='active', since='21 Oct 2025 10:38:36Z'),\n          juju_status=StatusInfo(current='idle', since='21 Oct 2025 10:38:36Z', version='3.6.11'),\n          leader=True,\n          address='10.1.110.141',\n          provider_id='flask-k8s-0',\n        ),\n      },\n      endpoint_bindings={\n        '': 'alpha',\n        'grafana-dashboard': 'alpha',\n        'http-proxy': 'alpha',\n        'ingress': 'alpha',\n        'logging': 'alpha',\n        'metrics-endpoint': 'alpha',\n        'mongodb': 'alpha',\n        'mysql': 'alpha',\n        'oidc': 'alpha',\n        'openfga': 'alpha',\n        'postgresql': 'alpha',\n        'rabbitmq': 'alpha',\n        'redis': 'alpha',\n        's3': 'alpha',\n        'saml': 'alpha',\n        'secret-storage': 'alpha',\n        'smtp': 'alpha',\n        'tracing': 'alpha',\n      },\n    ),\n    'postgresql-k8s': AppStatus(\n      charm='postgresql-k8s',\n      charm_origin='charmhub',\n      charm_name='postgresql-k8s',\n      charm_rev=684,\n      exposed=False,\n      base=FormattedBase(name='ubuntu', channel='22.04'),\n      charm_channel='14/edge',\n      scale=1,\n      provider_id='7bf9f9d6-df85-4bd8-86c2-c85f2c459ab5',\n      address='10.152.183.172',\n      app_status=StatusInfo(current='active', since='21 Oct 2025 10:37:49Z'),\n      relations={\n        'database': [\n          AppStatusRelation(related_app='django-k8s', interface='postgresql_client', scope='global'),\n          AppStatusRelation(related_app='expressjs-k8s', interface='postgresql_client', scope='global'),\n          AppStatusRelation(related_app='fastapi-k8s', interface='postgresql_client', scope='global'),\n          AppStatusRelation(related_app='flask-k8s', interface='postgresql_client', scope='global'),\n        ],\n        'database-peers': [\n          AppStatusRelation(related_app='postgresql-k8s', interface='postgresql_peers', scope='global'),\n        ],\n        'restart': [\n          AppStatusRelation(related_app='postgresql-k8s', interface='rolling_op', scope='global'),\n        ],\n        'upgrade': [\n          AppStatusRelation(related_app='postgresql-k8s', interface='upgrade', scope='global'),\n        ],\n      },\n      units={\n        'postgresql-k8s/0': UnitStatus(\n          workload_status=StatusInfo(current='active', message='Primary', since='21 Oct 2025 10:37:46Z'),\n          juju_status=StatusInfo(current='idle', since='21 Oct 2025 10:45:21Z', version='3.6.11'),\n          leader=True,\n          address='10.1.110.140',\n          provider_id='postgresql-k8s-0',\n        ),\n      },\n      version='14.19',\n      endpoint_bindings={\n        '': 'alpha',\n        'certificates': 'alpha',\n        'database': 'alpha',\n        'database-peers': 'alpha',\n        'db': 'alpha',\n        'db-admin': 'alpha',\n        'grafana-dashboard': 'alpha',\n        'ldap': 'alpha',\n        'logging': 'alpha',\n        'metrics-endpoint': 'alpha',\n        'receive-ca-cert': 'alpha',\n        'replication': 'alpha',\n        'replication-offer': 'alpha',\n        'restart': 'alpha',\n        's3-parameters': 'alpha',\n        'tracing': 'alpha',\n        'upgrade': 'alpha',\n      },\n    ),\n  },\n  storage=CombinedStorage(\n    storage={\n      'pgdata/0': StorageInfo(\n        kind='filesystem',\n        status=EntityStatus(current='attached', since='21 Oct 2025 10:45:11Z'),\n        persistent=False,\n        life='alive',\n        attachments=StorageAttachments(\n          units={\n            'postgresql-k8s/0': UnitStorageAttachment(life='alive'),\n          },\n        ),\n      ),\n    },\n    filesystems={\n      '0': FilesystemInfo(\n        size=1024,\n        provider_id='f7d9cbbf-d752-42c2-921e-5af4fc7b2a67',\n        volume='0',\n        storage='pgdata/0',\n        attachments=FilesystemAttachments(\n          containers={\n            'postgresql-k8s/0': FilesystemAttachment(mount_point='/var/lib/postgresql/data', read_only=False, life='alive'),\n          },\n          units={\n            'postgresql-k8s/0': UnitStorageAttachment(life='alive'),\n          },\n        ),\n        pool='kubernetes',\n        life='alive',\n        status=EntityStatus(current='attached', since='21 Oct 2025 10:45:11Z'),\n      ),\n    },\n    volumes={\n      '0': VolumeInfo(\n        size=1024,\n        persistent=True,\n        provider_id='pvc-f7d9cbbf-d752-42c2-921e-5af4fc7b2a67',\n        storage='pgdata/0',\n        attachments=VolumeAttachments(\n          containers={\n            'postgresql-k8s/0': VolumeAttachment(read_only=False, life='alive'),\n          },\n          units={\n            'postgresql-k8s/0': UnitStorageAttachment(life='alive'),\n          },\n        ),\n        pool='kubernetes',\n        life='alive',\n        status=EntityStatus(current='attached', since='21 Oct 2025 10:36:33Z'),\n      ),\n    },\n  ),\n  controller=ControllerStatus(timestamp='10:49:36Z'),\n)","time":{"start":1761043171433,"stop":1761043777391,"duration":605958}}]},"tags":[]},"source":"589add80633ec953.json","parameterValues":["'fastapi-k8s'","'table/users'","'fastapi_non_root_app'","8080"]}