{"uid":"977d0748fa0a5861","name":"test_smtp_integrations[fastapi_app-8080]","fullName":"tests.integration.integrations.test_smtp#test_smtp_integrations","historyId":"2ceabf626cdb732c1b578ddd8c48d15a","time":{"start":1763124369970,"stop":1763124419908,"duration":49938},"description":"\n    arrange: Build and deploy the charm. Integrate the charm with the smtp-integrator.\n    act: Send an email from the charm.\n    assert: The mailcatcher should have received the email.\n    ","descriptionHtml":"<pre><code>arrange: Build and deploy the charm. Integrate the charm with the smtp-integrator.\nact: Send an email from the charm.\nassert: The mailcatcher should have received the email.\n</code></pre>\n","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":1,"retriesStatusChange":true,"beforeStages":[{"name":"juju","time":{"start":1763124097331,"stop":1763124097331,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"pytestconfig","time":{"start":1763124097332,"stop":1763124097332,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"load_kube_config","time":{"start":1763124097332,"stop":1763124097337,"duration":5},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"mailcatcher","time":{"start":1763124097337,"stop":1763124101656,"duration":4319},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"tmp_path_factory","time":{"start":1763124101658,"stop":1763124101658,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1763124369969,"stop":1763124369969,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"fastapi_app","time":{"start":1763124369970,"stop":1763124410744,"duration":40774},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"http","time":{"start":1763124369970,"stop":1763124369970,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"\n    arrange: Build and deploy the charm. Integrate the charm with the smtp-integrator.\n    act: Send an email from the charm.\n    assert: The mailcatcher should have received the email.\n    ","status":"passed","steps":[],"attachments":[{"uid":"795bd3a97c04a2a8","name":"log","source":"795bd3a97c04a2a8.txt","type":"text/plain","size":76441}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"http::0","time":{"start":1763124419908,"stop":1763124419909,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail::0","time":{"start":1763124419909,"stop":1763124419909,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"fastapi_app::0","time":{"start":1763124459502,"stop":1763124459502,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"juju::0","time":{"start":1763124459505,"stop":1763124459505,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"parentSuite","value":"tests.integration.integrations"},{"name":"suite","value":"test_smtp"},{"name":"host","value":"runnervmfxdz0"},{"name":"thread","value":"26065-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.integrations.test_smtp"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"app_fixture","value":"'fastapi_app'"},{"name":"port","value":"8080"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"fa807f3ea36914b2","status":"unknown","time":{}}],"categories":[],"history":{"statistic":{"failed":0,"broken":2,"skipped":0,"passed":8,"unknown":0,"total":10},"items":[{"uid":"b8b99475bd32033","reportUrl":"../1147//#testresult/b8b99475bd32033","status":"passed","time":{"start":1763120497712,"stop":1763120541418,"duration":43706}},{"uid":"3c64853ca26d2909","reportUrl":"../1145//#testresult/3c64853ca26d2909","status":"passed","time":{"start":1763120454852,"stop":1763120508005,"duration":53153}},{"uid":"1ec292de5eff06e3","reportUrl":"../1144//#testresult/1ec292de5eff06e3","status":"passed","time":{"start":1763119070489,"stop":1763119116604,"duration":46115}},{"uid":"548e0f270677faa0","reportUrl":"../1143//#testresult/548e0f270677faa0","status":"passed","time":{"start":1763118779892,"stop":1763118829075,"duration":49183}},{"uid":"88a87d009f7162ca","reportUrl":"../1140//#testresult/88a87d009f7162ca","status":"passed","time":{"start":1762964733465,"stop":1762964767219,"duration":33754}},{"uid":"9e7c8e107b6d2fd3","reportUrl":"../1139//#testresult/9e7c8e107b6d2fd3","status":"passed","time":{"start":1761902379994,"stop":1761902432472,"duration":52478}},{"uid":"b8e026069b1a3016","reportUrl":"../1137//#testresult/b8e026069b1a3016","status":"passed","time":{"start":1761298349283,"stop":1761298389944,"duration":40661}},{"uid":"dbc92929187f555a","reportUrl":"../1121//#testresult/dbc92929187f555a","status":"broken","statusDetails":"TimeoutError: wait timed out after 600s\nStatus(\n  model=ModelStatus(\n    name='testing',\n    type='caas',\n    controller='github-pr-aadc8-microk8s',\n    cloud='microk8s',\n    version='3.6.11',\n    region='localhost',\n    model_status=StatusInfo(current='available', since='21 Oct 2025 11:42:50Z'),\n  ),\n  machines={},\n  apps={\n    'django-k8s': AppStatus(\n      charm='local:django-k8s-0',\n      charm_origin='local',\n      charm_name='django-k8s',\n      charm_rev=0,\n      exposed=False,\n      base=FormattedBase(name='ubuntu', channel='22.04'),\n      scale=1,\n      provider_id='c2f9c798-9bd4-42ef-ab93-6c1209a18fdb',\n      address='10.152.183.31',\n      app_status=StatusInfo(current='active', since='21 Oct 2025 11:49:47Z'),\n      relations={\n        'postgresql': [\n          AppStatusRelation(related_app='postgresql-k8s', interface='postgresql_client', scope='global'),\n        ],\n        'secret-storage': [\n          AppStatusRelation(related_app='django-k8s', interface='secret-storage', scope='global'),\n        ],\n        'smtp': [\n          AppStatusRelation(related_app='smtp-integrator', interface='smtp', scope='global'),\n        ],\n      },\n      units={\n        'django-k8s/0': UnitStatus(\n          workload_status=StatusInfo(current='active', since='21 Oct 2025 11:49:47Z'),\n          juju_status=StatusInfo(current='idle', since='21 Oct 2025 11:49:47Z', version='3.6.11'),\n          leader=True,\n          address='10.1.110.141',\n          provider_id='django-k8s-0',\n        ),\n      },\n      endpoint_bindings={\n        '': 'alpha',\n        'grafana-dashboard': 'alpha',\n        'http-proxy': 'alpha',\n        'ingress': 'alpha',\n        'logging': 'alpha',\n        'metrics-endpoint': 'alpha',\n        'oidc': 'alpha',\n        'openfga': 'alpha',\n        'postgresql': 'alpha',\n        'secret-storage': 'alpha',\n        'smtp': 'alpha',\n        'tracing': 'alpha',\n      },\n    ),\n    'expressjs-k8s': AppStatus(\n      charm='local:expressjs-k8s-0',\n      charm_origin='local',\n      charm_name='expressjs-k8s',\n      charm_rev=0,\n      exposed=False,\n      base=FormattedBase(name='ubuntu', channel='24.04'),\n      scale=1,\n      provider_id='2be6eab6-5670-43eb-8aa4-8e710640857d',\n      address='10.152.183.239',\n      app_status=StatusInfo(current='active', since='21 Oct 2025 11:51:32Z'),\n      relations={\n        'postgresql': [\n          AppStatusRelation(related_app='postgresql-k8s', interface='postgresql_client', scope='global'),\n        ],\n        'secret-storage': [\n          AppStatusRelation(related_app='expressjs-k8s', interface='secret-storage', scope='global'),\n        ],\n        'smtp': [\n          AppStatusRelation(related_app='smtp-integrator', interface='smtp', scope='global'),\n        ],\n      },\n      units={\n        'expressjs-k8s/0': UnitStatus(\n          workload_status=StatusInfo(current='active', since='21 Oct 2025 11:51:32Z'),\n          juju_status=StatusInfo(current='idle', since='21 Oct 2025 11:51:32Z', version='3.6.11'),\n          leader=True,\n          address='10.1.110.145',\n          provider_id='expressjs-k8s-0',\n        ),\n      },\n      endpoint_bindings={\n        '': 'alpha',\n        'grafana-dashboard': 'alpha',\n        'http-proxy': 'alpha',\n        'ingress': 'alpha',\n        'logging': 'alpha',\n        'metrics-endpoint': 'alpha',\n        'oidc': 'alpha',\n        'openfga': 'alpha',\n        'postgresql': 'alpha',\n        'secret-storage': 'alpha',\n        'smtp': 'alpha',\n        'tracing': 'alpha',\n      },\n    ),\n    'fastapi-k8s': AppStatus(\n      charm='local:fastapi-k8s-0',\n      charm_origin='local',\n      charm_name='fastapi-k8s',\n      charm_rev=0,\n      exposed=False,\n      base=FormattedBase(name='ubuntu', channel='24.04'),\n      scale=1,\n      provider_id='cb56a2c1-c59d-4543-b0ee-3fa1bbaa823d',\n      address='10.152.183.109',\n      app_status=StatusInfo(\n        current='blocked',\n        message=\"database migration command ['bash', '-eo', 'pipefail', 'migrate.sh'] failed, will retry in next update-status\",\n        since='21 Oct 2025 11:57:05Z',\n      ),\n      relations={\n        'postgresql': [\n          AppStatusRelation(related_app='postgresql-k8s', interface='postgresql_client', scope='global'),\n        ],\n        'secret-storage': [\n          AppStatusRelation(related_app='fastapi-k8s', interface='secret-storage', scope='global'),\n        ],\n      },\n      units={\n        'fastapi-k8s/0': UnitStatus(\n          workload_status=StatusInfo(\n            current='blocked',\n            message=\"database migration command ['bash', '-eo', 'pipefail', 'migrate.sh'] failed, will retry in next update-status\",\n            since='21 Oct 2025 11:57:05Z',\n          ),\n          juju_status=StatusInfo(current='idle', since='21 Oct 2025 11:52:04Z', version='3.6.11'),\n          leader=True,\n          address='10.1.110.146',\n          provider_id='fastapi-k8s-0',\n        ),\n      },\n      endpoint_bindings={\n        '': 'alpha',\n        'grafana-dashboard': 'alpha',\n        'http-proxy': 'alpha',\n        'ingress': 'alpha',\n        'logging': 'alpha',\n        'metrics-endpoint': 'alpha',\n        'oidc': 'alpha',\n        'openfga': 'alpha',\n        'postgresql': 'alpha',\n        'secret-storage': 'alpha',\n        'smtp': 'alpha',\n        'tracing': 'alpha',\n      },\n    ),\n    'flask-k8s': AppStatus(\n      charm='local:flask-k8s-0',\n      charm_origin='local',\n      charm_name='flask-k8s',\n      charm_rev=0,\n      exposed=False,\n      base=FormattedBase(name='ubuntu', channel='22.04'),\n      scale=1,\n      provider_id='8cff418c-86f2-4df5-96fe-024072509021',\n      address='10.152.183.233',\n      app_status=StatusInfo(current='active', since='21 Oct 2025 11:48:04Z'),\n      relations={\n        'secret-storage': [\n          AppStatusRelation(related_app='flask-k8s', interface='secret-storage', scope='global'),\n        ],\n        'smtp': [\n          AppStatusRelation(related_app='smtp-integrator', interface='smtp', scope='global'),\n        ],\n      },\n      units={\n        'flask-k8s/0': UnitStatus(\n          workload_status=StatusInfo(current='active', since='21 Oct 2025 11:48:04Z'),\n          juju_status=StatusInfo(current='idle', since='21 Oct 2025 11:48:05Z', version='3.6.11'),\n          leader=True,\n          address='10.1.110.139',\n          provider_id='flask-k8s-0',\n        ),\n      },\n      endpoint_bindings={\n        '': 'alpha',\n        'grafana-dashboard': 'alpha',\n        'http-proxy': 'alpha',\n        'ingress': 'alpha',\n        'logging': 'alpha',\n        'metrics-endpoint': 'alpha',\n        'mongodb': 'alpha',\n        'mysql': 'alpha',\n        'oidc': 'alpha',\n        'openfga': 'alpha',\n        'postgresql': 'alpha',\n        'rabbitmq': 'alpha',\n        'redis': 'alpha',\n        's3': 'alpha',\n        'saml': 'alpha',\n        'secret-storage': 'alpha',\n        'smtp': 'alpha',\n        'tracing': 'alpha',\n      },\n    ),\n    'postgresql-k8s': AppStatus(\n      charm='postgresql-k8s',\n      charm_origin='charmhub',\n      charm_name='postgresql-k8s',\n      charm_rev=684,\n      exposed=False,\n      base=FormattedBase(name='ubuntu', channel='22.04'),\n      charm_channel='14/edge',\n      scale=1,\n      provider_id='ce28820c-ede9-4c4a-8624-5fe56d9f4d21',\n      address='10.152.183.43',\n      app_status=StatusInfo(current='active', since='21 Oct 2025 11:49:26Z'),\n      relations={\n        'database': [\n          AppStatusRelation(related_app='django-k8s', interface='postgresql_client', scope='global'),\n          AppStatusRelation(related_app='expressjs-k8s', interface='postgresql_client', scope='global'),\n          AppStatusRelation(related_app='fastapi-k8s', interface='postgresql_client', scope='global'),\n          AppStatusRelation(related_app='spring-boot-k8s', interface='postgresql_client', scope='global'),\n        ],\n        'database-peers': [\n          AppStatusRelation(related_app='postgresql-k8s', interface='postgresql_peers', scope='global'),\n        ],\n        'restart': [\n          AppStatusRelation(related_app='postgresql-k8s', interface='rolling_op', scope='global'),\n        ],\n        'upgrade': [\n          AppStatusRelation(related_app='postgresql-k8s', interface='upgrade', scope='global'),\n        ],\n      },\n      units={\n        'postgresql-k8s/0': UnitStatus(\n          workload_status=StatusInfo(current='active', message='Primary', since='21 Oct 2025 11:49:29Z'),\n          juju_status=StatusInfo(current='idle', since='21 Oct 2025 11:57:29Z', version='3.6.11'),\n          leader=True,\n          address='10.1.110.143',\n          provider_id='postgresql-k8s-0',\n        ),\n      },\n      version='14.19',\n      endpoint_bindings={\n        '': 'alpha',\n        'certificates': 'alpha',\n        'database': 'alpha',\n        'database-peers': 'alpha',\n        'db': 'alpha',\n        'db-admin': 'alpha',\n        'grafana-dashboard': 'alpha',\n        'ldap': 'alpha',\n        'logging': 'alpha',\n        'metrics-endpoint': 'alpha',\n        'receive-ca-cert': 'alpha',\n        'replication': 'alpha',\n        'replication-offer': 'alpha',\n        'restart': 'alpha',\n        's3-parameters': 'alpha',\n        'tracing': 'alpha',\n        'upgrade': 'alpha',\n      },\n    ),\n    'smtp-integrator': AppStatus(\n      charm='smtp-integrator',\n      charm_origin='charmhub',\n      charm_name='smtp-integrator',\n      charm_rev=98,\n      exposed=False,\n      base=FormattedBase(name='ubuntu', channel='22.04'),\n      charm_channel='latest/edge',\n      scale=1,\n      provider_id='2b1e31e3-e4f4-4251-803d-93f622fec4ac',\n      address='10.152.183.90',\n      app_status=StatusInfo(current='active', since='21 Oct 2025 11:47:50Z'),\n      relations={\n        'smtp': [\n          AppStatusRelation(related_app='django-k8s', interface='smtp', scope='global'),\n          AppStatusRelation(related_app='expressjs-k8s', interface='smtp', scope='global'),\n          AppStatusRelation(related_app='flask-k8s', interface='smtp', scope='global'),\n          AppStatusRelation(related_app='spring-boot-k8s', interface='smtp', scope='global'),\n        ],\n        'smtp-peers': [\n          AppStatusRelation(related_app='smtp-integrator', interface='smtp-instance', scope='global'),\n        ],\n      },\n      units={\n        'smtp-integrator/0': UnitStatus(\n          workload_status=StatusInfo(current='active', since='21 Oct 2025 11:47:50Z'),\n          juju_status=StatusInfo(current='idle', since='21 Oct 2025 11:51:30Z', version='3.6.11'),\n          leader=True,\n          address='10.1.110.140',\n          provider_id='smtp-integrator-0',\n        ),\n      },\n      endpoint_bindings={'': 'alpha', 'smtp': 'alpha', 'smtp-legacy': 'alpha', 'smtp-peers': 'alpha'},\n    ),\n    'spring-boot-k8s': AppStatus(\n      charm='local:spring-boot-k8s-0',\n      charm_origin='local',\n      charm_name='spring-boot-k8s',\n      charm_rev=0,\n      exposed=False,\n      base=FormattedBase(name='ubuntu', channel='24.04'),\n      scale=1,\n      provider_id='e96c7c98-6d28-4d06-8aaf-871013009938',\n      address='10.152.183.215',\n      app_status=StatusInfo(current='active', since='21 Oct 2025 11:50:36Z'),\n      relations={\n        'postgresql': [\n          AppStatusRelation(related_app='postgresql-k8s', interface='postgresql_client', scope='global'),\n        ],\n        'secret-storage': [\n          AppStatusRelation(related_app='spring-boot-k8s', interface='secret-storage', scope='global'),\n        ],\n        'smtp': [\n          AppStatusRelation(related_app='smtp-integrator', interface='smtp', scope='global'),\n        ],\n      },\n      units={\n        'spring-boot-k8s/0': UnitStatus(\n          workload_status=StatusInfo(current='active', since='21 Oct 2025 11:50:36Z'),\n          juju_status=StatusInfo(current='idle', since='21 Oct 2025 11:50:36Z', version='3.6.11'),\n          leader=True,\n          address='10.1.110.144',\n          provider_id='spring-boot-k8s-0',\n        ),\n      },\n      endpoint_bindings={\n        '': 'alpha',\n        'grafana-dashboard': 'alpha',\n        'http-proxy': 'alpha',\n        'ingress': 'alpha',\n        'logging': 'alpha',\n        'metrics-endpoint': 'alpha',\n        'mongodb': 'alpha',\n        'mysql': 'alpha',\n        'oidc': 'alpha',\n        'openfga': 'alpha',\n        'postgresql': 'alpha',\n        'rabbitmq': 'alpha',\n        'redis': 'alpha',\n        's3': 'alpha',\n        'saml': 'alpha',\n        'secret-storage': 'alpha',\n        'smtp': 'alpha',\n        'tracing': 'alpha',\n      },\n    ),\n  },\n  storage=CombinedStorage(\n    storage={\n      'pgdata/0': StorageInfo(\n        kind='filesystem',\n        status=EntityStatus(current='attached', since='21 Oct 2025 11:57:19Z'),\n        persistent=False,\n        life='alive',\n        attachments=StorageAttachments(\n          units={\n            'postgresql-k8s/0': UnitStorageAttachment(life='alive'),\n          },\n        ),\n      ),\n    },\n    filesystems={\n      '0': FilesystemInfo(\n        size=1024,\n        provider_id='592b66d3-0535-4625-a546-43825b61d3d6',\n        volume='0',\n        storage='pgdata/0',\n        attachments=FilesystemAttachments(\n          containers={\n            'postgresql-k8s/0': FilesystemAttachment(mount_point='/var/lib/postgresql/data', read_only=False, life='alive'),\n          },\n          units={\n            'postgresql-k8s/0': UnitStorageAttachment(life='alive'),\n          },\n        ),\n        pool='kubernetes',\n        life='alive',\n        status=EntityStatus(current='attached', since='21 Oct 2025 11:57:19Z'),\n      ),\n    },\n    volumes={\n      '0': VolumeInfo(\n        size=1024,\n        persistent=True,\n        provider_id='pvc-592b66d3-0535-4625-a546-43825b61d3d6',\n        storage='pgdata/0',\n        attachments=VolumeAttachments(\n          containers={\n            'postgresql-k8s/0': VolumeAttachment(read_only=False, life='alive'),\n          },\n          units={\n            'postgresql-k8s/0': UnitStorageAttachment(life='alive'),\n          },\n        ),\n        pool='kubernetes',\n        life='alive',\n        status=EntityStatus(current='attached', since='21 Oct 2025 11:48:42Z'),\n      ),\n    },\n  ),\n  controller=ControllerStatus(timestamp='12:01:37Z'),\n)","time":{"start":1761047493859,"stop":1761048099029,"duration":605170}},{"uid":"7c324b91e09eb055","reportUrl":"../1120//#testresult/7c324b91e09eb055","status":"broken","statusDetails":"TimeoutError: wait timed out after 600s\nStatus(\n  model=ModelStatus(\n    name='testing',\n    type='caas',\n    controller='github-pr-67728-microk8s',\n    cloud='microk8s',\n    version='3.6.11',\n    region='localhost',\n    model_status=StatusInfo(current='available', since='21 Oct 2025 10:34:35Z'),\n  ),\n  machines={},\n  apps={\n    'django-k8s': AppStatus(\n      charm='local:django-k8s-0',\n      charm_origin='local',\n      charm_name='django-k8s',\n      charm_rev=0,\n      exposed=False,\n      base=FormattedBase(name='ubuntu', channel='22.04'),\n      scale=1,\n      provider_id='6af55899-4682-4013-b667-30891339848a',\n      address='10.152.183.210',\n      app_status=StatusInfo(current='active', since='21 Oct 2025 10:40:00Z'),\n      relations={\n        'postgresql': [\n          AppStatusRelation(related_app='postgresql-k8s', interface='postgresql_client', scope='global'),\n        ],\n        'secret-storage': [\n          AppStatusRelation(related_app='django-k8s', interface='secret-storage', scope='global'),\n        ],\n        'smtp': [\n          AppStatusRelation(related_app='smtp-integrator', interface='smtp', scope='global'),\n        ],\n      },\n      units={\n        'django-k8s/0': UnitStatus(\n          workload_status=StatusInfo(current='active', since='21 Oct 2025 10:40:00Z'),\n          juju_status=StatusInfo(current='idle', since='21 Oct 2025 10:40:01Z', version='3.6.11'),\n          leader=True,\n          address='10.1.110.141',\n          provider_id='django-k8s-0',\n        ),\n      },\n      endpoint_bindings={\n        '': 'alpha',\n        'grafana-dashboard': 'alpha',\n        'http-proxy': 'alpha',\n        'ingress': 'alpha',\n        'logging': 'alpha',\n        'metrics-endpoint': 'alpha',\n        'oidc': 'alpha',\n        'openfga': 'alpha',\n        'postgresql': 'alpha',\n        'secret-storage': 'alpha',\n        'smtp': 'alpha',\n        'tracing': 'alpha',\n      },\n    ),\n    'expressjs-k8s': AppStatus(\n      charm='local:expressjs-k8s-0',\n      charm_origin='local',\n      charm_name='expressjs-k8s',\n      charm_rev=0,\n      exposed=False,\n      base=FormattedBase(name='ubuntu', channel='24.04'),\n      scale=1,\n      provider_id='e48fd878-1147-42e8-bb12-0c862f4f3b8b',\n      address='10.152.183.187',\n      app_status=StatusInfo(current='active', since='21 Oct 2025 10:41:50Z'),\n      relations={\n        'postgresql': [\n          AppStatusRelation(related_app='postgresql-k8s', interface='postgresql_client', scope='global'),\n        ],\n        'secret-storage': [\n          AppStatusRelation(related_app='expressjs-k8s', interface='secret-storage', scope='global'),\n        ],\n        'smtp': [\n          AppStatusRelation(related_app='smtp-integrator', interface='smtp', scope='global'),\n        ],\n      },\n      units={\n        'expressjs-k8s/0': UnitStatus(\n          workload_status=StatusInfo(current='active', since='21 Oct 2025 10:41:50Z'),\n          juju_status=StatusInfo(current='idle', since='21 Oct 2025 10:41:50Z', version='3.6.11'),\n          leader=True,\n          address='10.1.110.145',\n          provider_id='expressjs-k8s-0',\n        ),\n      },\n      endpoint_bindings={\n        '': 'alpha',\n        'grafana-dashboard': 'alpha',\n        'http-proxy': 'alpha',\n        'ingress': 'alpha',\n        'logging': 'alpha',\n        'metrics-endpoint': 'alpha',\n        'oidc': 'alpha',\n        'openfga': 'alpha',\n        'postgresql': 'alpha',\n        'secret-storage': 'alpha',\n        'smtp': 'alpha',\n        'tracing': 'alpha',\n      },\n    ),\n    'fastapi-k8s': AppStatus(\n      charm='local:fastapi-k8s-0',\n      charm_origin='local',\n      charm_name='fastapi-k8s',\n      charm_rev=0,\n      exposed=False,\n      base=FormattedBase(name='ubuntu', channel='24.04'),\n      scale=1,\n      provider_id='6fe27fd7-db20-42f5-aaec-fd3c39b02ebb',\n      address='10.152.183.182',\n      app_status=StatusInfo(\n        current='blocked',\n        message=\"database migration command ['bash', '-eo', 'pipefail', 'migrate.sh'] failed, will retry in next update-status\",\n        since='21 Oct 2025 10:51:23Z',\n      ),\n      relations={\n        'postgresql': [\n          AppStatusRelation(related_app='postgresql-k8s', interface='postgresql_client', scope='global'),\n        ],\n        'secret-storage': [\n          AppStatusRelation(related_app='fastapi-k8s', interface='secret-storage', scope='global'),\n        ],\n      },\n      units={\n        'fastapi-k8s/0': UnitStatus(\n          workload_status=StatusInfo(\n            current='blocked',\n            message=\"database migration command ['bash', '-eo', 'pipefail', 'migrate.sh'] failed, will retry in next update-status\",\n            since='21 Oct 2025 10:51:23Z',\n          ),\n          juju_status=StatusInfo(current='idle', since='21 Oct 2025 10:42:22Z', version='3.6.11'),\n          leader=True,\n          address='10.1.110.146',\n          provider_id='fastapi-k8s-0',\n        ),\n      },\n      endpoint_bindings={\n        '': 'alpha',\n        'grafana-dashboard': 'alpha',\n        'http-proxy': 'alpha',\n        'ingress': 'alpha',\n        'logging': 'alpha',\n        'metrics-endpoint': 'alpha',\n        'oidc': 'alpha',\n        'openfga': 'alpha',\n        'postgresql': 'alpha',\n        'secret-storage': 'alpha',\n        'smtp': 'alpha',\n        'tracing': 'alpha',\n      },\n    ),\n    'flask-k8s': AppStatus(\n      charm='local:flask-k8s-0',\n      charm_origin='local',\n      charm_name='flask-k8s',\n      charm_rev=0,\n      exposed=False,\n      base=FormattedBase(name='ubuntu', channel='22.04'),\n      scale=1,\n      provider_id='c1dc9cf9-e595-4586-b919-f321416b899a',\n      address='10.152.183.127',\n      app_status=StatusInfo(current='active', since='21 Oct 2025 10:38:15Z'),\n      relations={\n        'secret-storage': [\n          AppStatusRelation(related_app='flask-k8s', interface='secret-storage', scope='global'),\n        ],\n        'smtp': [\n          AppStatusRelation(related_app='smtp-integrator', interface='smtp', scope='global'),\n        ],\n      },\n      units={\n        'flask-k8s/0': UnitStatus(\n          workload_status=StatusInfo(current='active', since='21 Oct 2025 10:38:15Z'),\n          juju_status=StatusInfo(current='idle', since='21 Oct 2025 10:38:15Z', version='3.6.11'),\n          leader=True,\n          address='10.1.110.139',\n          provider_id='flask-k8s-0',\n        ),\n      },\n      endpoint_bindings={\n        '': 'alpha',\n        'grafana-dashboard': 'alpha',\n        'http-proxy': 'alpha',\n        'ingress': 'alpha',\n        'logging': 'alpha',\n        'metrics-endpoint': 'alpha',\n        'mongodb': 'alpha',\n        'mysql': 'alpha',\n        'oidc': 'alpha',\n        'openfga': 'alpha',\n        'postgresql': 'alpha',\n        'rabbitmq': 'alpha',\n        'redis': 'alpha',\n        's3': 'alpha',\n        'saml': 'alpha',\n        'secret-storage': 'alpha',\n        'smtp': 'alpha',\n        'tracing': 'alpha',\n      },\n    ),\n    'postgresql-k8s': AppStatus(\n      charm='postgresql-k8s',\n      charm_origin='charmhub',\n      charm_name='postgresql-k8s',\n      charm_rev=684,\n      exposed=False,\n      base=FormattedBase(name='ubuntu', channel='22.04'),\n      charm_channel='14/edge',\n      scale=1,\n      provider_id='221f3795-1675-433f-9401-370619b407d1',\n      address='10.152.183.94',\n      app_status=StatusInfo(current='active', since='21 Oct 2025 10:39:47Z'),\n      relations={\n        'database': [\n          AppStatusRelation(related_app='django-k8s', interface='postgresql_client', scope='global'),\n          AppStatusRelation(related_app='expressjs-k8s', interface='postgresql_client', scope='global'),\n          AppStatusRelation(related_app='fastapi-k8s', interface='postgresql_client', scope='global'),\n          AppStatusRelation(related_app='spring-boot-k8s', interface='postgresql_client', scope='global'),\n        ],\n        'database-peers': [\n          AppStatusRelation(related_app='postgresql-k8s', interface='postgresql_peers', scope='global'),\n        ],\n        'restart': [\n          AppStatusRelation(related_app='postgresql-k8s', interface='rolling_op', scope='global'),\n        ],\n        'upgrade': [\n          AppStatusRelation(related_app='postgresql-k8s', interface='upgrade', scope='global'),\n        ],\n      },\n      units={\n        'postgresql-k8s/0': UnitStatus(\n          workload_status=StatusInfo(current='active', message='Primary', since='21 Oct 2025 10:39:42Z'),\n          juju_status=StatusInfo(current='idle', since='21 Oct 2025 10:47:44Z', version='3.6.11'),\n          leader=True,\n          address='10.1.110.143',\n          provider_id='postgresql-k8s-0',\n        ),\n      },\n      version='14.19',\n      endpoint_bindings={\n        '': 'alpha',\n        'certificates': 'alpha',\n        'database': 'alpha',\n        'database-peers': 'alpha',\n        'db': 'alpha',\n        'db-admin': 'alpha',\n        'grafana-dashboard': 'alpha',\n        'ldap': 'alpha',\n        'logging': 'alpha',\n        'metrics-endpoint': 'alpha',\n        'receive-ca-cert': 'alpha',\n        'replication': 'alpha',\n        'replication-offer': 'alpha',\n        'restart': 'alpha',\n        's3-parameters': 'alpha',\n        'tracing': 'alpha',\n        'upgrade': 'alpha',\n      },\n    ),\n    'smtp-integrator': AppStatus(\n      charm='smtp-integrator',\n      charm_origin='charmhub',\n      charm_name='smtp-integrator',\n      charm_rev=98,\n      exposed=False,\n      base=FormattedBase(name='ubuntu', channel='22.04'),\n      charm_channel='latest/edge',\n      scale=1,\n      provider_id='a5a67a2a-37ef-41c4-9345-decd9d64a2e2',\n      address='10.152.183.96',\n      app_status=StatusInfo(current='active', since='21 Oct 2025 10:38:01Z'),\n      relations={\n        'smtp': [\n          AppStatusRelation(related_app='django-k8s', interface='smtp', scope='global'),\n          AppStatusRelation(related_app='expressjs-k8s', interface='smtp', scope='global'),\n          AppStatusRelation(related_app='flask-k8s', interface='smtp', scope='global'),\n          AppStatusRelation(related_app='spring-boot-k8s', interface='smtp', scope='global'),\n        ],\n        'smtp-peers': [\n          AppStatusRelation(related_app='smtp-integrator', interface='smtp-instance', scope='global'),\n        ],\n      },\n      units={\n        'smtp-integrator/0': UnitStatus(\n          workload_status=StatusInfo(current='active', since='21 Oct 2025 10:38:01Z'),\n          juju_status=StatusInfo(current='idle', since='21 Oct 2025 10:41:47Z', version='3.6.11'),\n          leader=True,\n          address='10.1.110.140',\n          provider_id='smtp-integrator-0',\n        ),\n      },\n      endpoint_bindings={'': 'alpha', 'smtp': 'alpha', 'smtp-legacy': 'alpha', 'smtp-peers': 'alpha'},\n    ),\n    'spring-boot-k8s': AppStatus(\n      charm='local:spring-boot-k8s-0',\n      charm_origin='local',\n      charm_name='spring-boot-k8s',\n      charm_rev=0,\n      exposed=False,\n      base=FormattedBase(name='ubuntu', channel='24.04'),\n      scale=1,\n      provider_id='f9cc35ed-e482-4d2a-a17e-43e47dd2e549',\n      address='10.152.183.211',\n      app_status=StatusInfo(current='active', since='21 Oct 2025 10:40:54Z'),\n      relations={\n        'postgresql': [\n          AppStatusRelation(related_app='postgresql-k8s', interface='postgresql_client', scope='global'),\n        ],\n        'secret-storage': [\n          AppStatusRelation(related_app='spring-boot-k8s', interface='secret-storage', scope='global'),\n        ],\n        'smtp': [\n          AppStatusRelation(related_app='smtp-integrator', interface='smtp', scope='global'),\n        ],\n      },\n      units={\n        'spring-boot-k8s/0': UnitStatus(\n          workload_status=StatusInfo(current='active', since='21 Oct 2025 10:40:54Z'),\n          juju_status=StatusInfo(current='idle', since='21 Oct 2025 10:40:54Z', version='3.6.11'),\n          leader=True,\n          address='10.1.110.144',\n          provider_id='spring-boot-k8s-0',\n        ),\n      },\n      endpoint_bindings={\n        '': 'alpha',\n        'grafana-dashboard': 'alpha',\n        'http-proxy': 'alpha',\n        'ingress': 'alpha',\n        'logging': 'alpha',\n        'metrics-endpoint': 'alpha',\n        'mongodb': 'alpha',\n        'mysql': 'alpha',\n        'oidc': 'alpha',\n        'openfga': 'alpha',\n        'postgresql': 'alpha',\n        'rabbitmq': 'alpha',\n        'redis': 'alpha',\n        's3': 'alpha',\n        'saml': 'alpha',\n        'secret-storage': 'alpha',\n        'smtp': 'alpha',\n        'tracing': 'alpha',\n      },\n    ),\n  },\n  storage=CombinedStorage(\n    storage={\n      'pgdata/0': StorageInfo(\n        kind='filesystem',\n        status=EntityStatus(current='attached', since='21 Oct 2025 10:47:34Z'),\n        persistent=False,\n        life='alive',\n        attachments=StorageAttachments(\n          units={\n            'postgresql-k8s/0': UnitStorageAttachment(life='alive'),\n          },\n        ),\n      ),\n    },\n    filesystems={\n      '0': FilesystemInfo(\n        size=1024,\n        provider_id='eb83a121-80de-4cc9-a946-349d1ba2eae7',\n        volume='0',\n        storage='pgdata/0',\n        attachments=FilesystemAttachments(\n          containers={\n            'postgresql-k8s/0': FilesystemAttachment(mount_point='/var/lib/postgresql/data', read_only=False, life='alive'),\n          },\n          units={\n            'postgresql-k8s/0': UnitStorageAttachment(life='alive'),\n          },\n        ),\n        pool='kubernetes',\n        life='alive',\n        status=EntityStatus(current='attached', since='21 Oct 2025 10:47:34Z'),\n      ),\n    },\n    volumes={\n      '0': VolumeInfo(\n        size=1024,\n        persistent=True,\n        provider_id='pvc-eb83a121-80de-4cc9-a946-349d1ba2eae7',\n        storage='pgdata/0',\n        attachments=VolumeAttachments(\n          containers={\n            'postgresql-k8s/0': VolumeAttachment(read_only=False, life='alive'),\n          },\n          units={\n            'postgresql-k8s/0': UnitStorageAttachment(life='alive'),\n          },\n        ),\n        pool='kubernetes',\n        life='alive',\n        status=EntityStatus(current='attached', since='21 Oct 2025 10:38:56Z'),\n      ),\n    },\n  ),\n  controller=ControllerStatus(timestamp='10:51:55Z'),\n)","time":{"start":1761043311786,"stop":1761043916784,"duration":604998}}]},"tags":[]},"source":"977d0748fa0a5861.json","parameterValues":["'fastapi_app'","8080"]}