15:16:57 [32mINFO[0m cli: juju status --model testing --format json
15:16:57 [32mINFO[0m cli: juju bootstrap lxd localhost
15:18:38 [32mINFO[0m cli: juju switch github-pr-e032f-microk8s:testing
15:18:38 [32mINFO[0m cli: juju status --model testing --format json
15:18:38 [32mINFO[0m cli: juju status --model testing --format json
15:18:39 [32mINFO[0m cli: juju switch localhost:
15:18:39 [32mINFO[0m cli: juju add-model --no-switch testing
15:18:39 [32mINFO[0m cli: juju switch github-pr-e032f-microk8s:testing
15:18:39 [32mINFO[0m cli: juju status --model testing --format json
15:18:39 [32mINFO[0m cli: juju switch localhost:testing
15:18:40 [32mINFO[0m cli: juju status --model testing --format json
15:18:40 [32mINFO[0m cli: juju deploy --model testing squid-forward-proxy --channel edge --config hostname=proxy.example.com
15:18:42 [32mINFO[0m cli: juju offer squid-forward-proxy:http-proxy
15:18:42 [32mINFO[0m wait: status changed:
+ .model.name = 'testing'
+ .model.type = 'iaas'
+ .model.controller = 'localhost'
+ .model.cloud = 'localhost'
+ .model.version = '3.6.13'
+ .model.region = 'localhost'
+ .model.model_status.current = 'available'
+ .machines['0'].juju_status.current = 'pending'
+ .machines['0'].instance_id = 'pending'
+ .machines['0'].machine_status.current = 'pending'
+ .machines['0'].modification_status.current = 'idle'
+ .machines['0'].base.name = 'ubuntu'
+ .machines['0'].base.channel = '24.04'
+ .machines['0'].constraints = 'arch=amd64'
+ .apps['squid-forward-proxy'].charm = 'squid-forward-proxy'
+ .apps['squid-forward-proxy'].charm_origin = 'charmhub'
+ .apps['squid-forward-proxy'].charm_name = 'squid-forward-proxy'
+ .apps['squid-forward-proxy'].charm_rev = 35
+ .apps['squid-forward-proxy'].exposed = False
+ .apps['squid-forward-proxy'].base.name = 'ubuntu'
+ .apps['squid-forward-proxy'].base.channel = '24.04'
+ .apps['squid-forward-proxy'].charm_channel = 'latest/edge'
+ .apps['squid-forward-proxy'].app_status.current = 'waiting'
+ .apps['squid-forward-proxy'].app_status.message = 'waiting for machine'
+ .apps['squid-forward-proxy'].relations['squid-peer'][0].related_app = 'squid-forward-proxy'
+ .apps['squid-forward-proxy'].relations['squid-peer'][0].interface = 'squid_peer'
+ .apps['squid-forward-proxy'].relations['squid-peer'][0].scope = 'global'
+ .apps['squid-forward-proxy'].units['squid-forward-proxy/0'].workload_status.current = 'waiting'
+ .apps['squid-forward-proxy'].units['squid-forward-proxy/0'].workload_status.message = 'waiting for machine'
+ .apps['squid-forward-proxy'].units['squid-forward-proxy/0'].juju_status.current = 'allocating'
+ .apps['squid-forward-proxy'].units['squid-forward-proxy/0'].machine = '0'
+ .apps['squid-forward-proxy'].endpoint_bindings[''] = 'alpha'
+ .apps['squid-forward-proxy'].endpoint_bindings['cos-agent'] = 'alpha'
+ .apps['squid-forward-proxy'].endpoint_bindings['http-proxy'] = 'alpha'
+ .apps['squid-forward-proxy'].endpoint_bindings['squid-peer'] = 'alpha'
+ .offers['squid-forward-proxy'].app = 'squid-forward-proxy'
+ .offers['squid-forward-proxy'].endpoints['http-proxy'].interface = 'http_proxy'
+ .offers['squid-forward-proxy'].endpoints['http-proxy'].role = 'provider'
+ .offers['squid-forward-proxy'].charm = 'ch:amd64/squid-forward-proxy-35'
15:18:53 [32mINFO[0m wait: status changed:
- .machines['0'].instance_id = 'pending'
- .machines['0'].machine_status.current = 'pending'
- .machines['0'].modification_status.current = 'idle'
+ .machines['0'].instance_id = 'juju-0619e6-0'
+ .machines['0'].machine_status.current = 'running'
+ .machines['0'].machine_status.message = 'Running'
+ .machines['0'].modification_status.current = 'applied'
+ .machines['0'].hardware = 'arch=amd64 cores=0 mem=0M availability-zone=runnervmymu0l virt-type=container'
15:19:03 [32mINFO[0m wait: status changed:
+ .machines['0'].dns_name = '10.254.128.133'
+ .machines['0'].ip_addresses[0] = '10.254.128.133'
+ .apps['squid-forward-proxy'].units['squid-forward-proxy/0'].public_address = '10.254.128.133'
15:19:44 [32mINFO[0m wait: status changed:
- .machines['0'].juju_status.current = 'pending'
+ .machines['0'].juju_status.current = 'started'
+ .machines['0'].juju_status.version = '3.6.13'
+ .machines['0'].hostname = 'juju-0619e6-0'
+ .machines['0'].network_interfaces['eth0'].ip_addresses[0] = '10.254.128.133'
+ .machines['0'].network_interfaces['eth0'].mac_address = '00:16:3e:50:08:95'
+ .machines['0'].network_interfaces['eth0'].is_up = True
+ .machines['0'].network_interfaces['eth0'].gateway = '10.254.128.1'
+ .machines['0'].network_interfaces['eth0'].space = 'alpha'
- .apps['squid-forward-proxy'].app_status.current = 'waiting'
- .apps['squid-forward-proxy'].app_status.message = 'waiting for machine'
+ .apps['squid-forward-proxy'].app_status.current = 'maintenance'
+ .apps['squid-forward-proxy'].app_status.message = 'installing squid'
- .apps['squid-forward-proxy'].units['squid-forward-proxy/0'].workload_status.current = 'waiting'
- .apps['squid-forward-proxy'].units['squid-forward-proxy/0'].workload_status.message = 'waiting for machine'
- .apps['squid-forward-proxy'].units['squid-forward-proxy/0'].juju_status.current = 'allocating'
+ .apps['squid-forward-proxy'].units['squid-forward-proxy/0'].workload_status.current = 'maintenance'
+ .apps['squid-forward-proxy'].units['squid-forward-proxy/0'].workload_status.message = 'installing squid'
+ .apps['squid-forward-proxy'].units['squid-forward-proxy/0'].juju_status.current = 'executing'
+ .apps['squid-forward-proxy'].units['squid-forward-proxy/0'].juju_status.message = 'running install hook'
+ .apps['squid-forward-proxy'].units['squid-forward-proxy/0'].juju_status.version = '3.6.13'
+ .apps['squid-forward-proxy'].units['squid-forward-proxy/0'].leader = True
15:19:54 [32mINFO[0m wait: status changed:
- .apps['squid-forward-proxy'].app_status.current = 'maintenance'
- .apps['squid-forward-proxy'].app_status.message = 'installing squid'
+ .apps['squid-forward-proxy'].app_status.current = 'active'
+ .apps['squid-forward-proxy'].app_status.message = 'ready: 0'
- .apps['squid-forward-proxy'].units['squid-forward-proxy/0'].workload_status.current = 'maintenance'
- .apps['squid-forward-proxy'].units['squid-forward-proxy/0'].workload_status.message = 'installing squid'
+ .apps['squid-forward-proxy'].units['squid-forward-proxy/0'].workload_status.current = 'active'
+ .apps['squid-forward-proxy'].units['squid-forward-proxy/0'].workload_status.message = 'ready: 0'
- .apps['squid-forward-proxy'].units['squid-forward-proxy/0'].juju_status.message = 'running install hook'
+ .apps['squid-forward-proxy'].units['squid-forward-proxy/0'].juju_status.message = 'running squid-peer-relation-changed hook'
+ .apps['squid-forward-proxy'].units['squid-forward-proxy/0'].open_ports[0] = '3128/tcp'
15:20:04 [32mINFO[0m wait: status changed:
- .apps['squid-forward-proxy'].units['squid-forward-proxy/0'].juju_status.current = 'executing'
- .apps['squid-forward-proxy'].units['squid-forward-proxy/0'].juju_status.message = 'running squid-peer-relation-changed hook'
+ .apps['squid-forward-proxy'].units['squid-forward-proxy/0'].juju_status.current = 'idle'
15:20:14 [32mINFO[0m cli: juju switch github-pr-e032f-microk8s:testing
15:20:14 [32mINFO[0m cli: juju consume localhost:admin/testing.squid-forward-proxy
15:20:15 [32mINFO[0m cli: juju status --model testing --format json
15:20:15 [32mINFO[0m cli: juju deploy --model testing http-proxy-configurator --channel latest/edge --config http-proxy-auth=none --config http-proxy-domains=www.example.com
15:20:17 [32mINFO[0m cli: juju integrate --model testing http-proxy-configurator squid-forward-proxy
15:20:17 [32mINFO[0m wait: status changed:
+ .model.name = 'testing'
+ .model.type = 'caas'
+ .model.controller = 'github-pr-e032f-microk8s'
+ .model.cloud = 'microk8s'
+ .model.version = '3.6.13'
+ .model.region = 'localhost'
+ .model.model_status.current = 'available'
+ .apps['http-proxy-configurator'].charm = 'http-proxy-configurator'
+ .apps['http-proxy-configurator'].charm_origin = 'charmhub'
+ .apps['http-proxy-configurator'].charm_name = 'http-proxy-configurator'
+ .apps['http-proxy-configurator'].charm_rev = 13
+ .apps['http-proxy-configurator'].exposed = False
+ .apps['http-proxy-configurator'].base.name = 'ubuntu'
+ .apps['http-proxy-configurator'].base.channel = '24.04'
+ .apps['http-proxy-configurator'].charm_channel = 'latest/edge'
+ .apps['http-proxy-configurator'].scale = 1
+ .apps['http-proxy-configurator'].app_status.current = 'waiting'
+ .apps['http-proxy-configurator'].app_status.message = 'installing agent'
+ .apps['http-proxy-configurator'].relations['http-proxy'][0].related_app = 'squid-forward-proxy'
+ .apps['http-proxy-configurator'].relations['http-proxy'][0].interface = 'http_proxy'
+ .apps['http-proxy-configurator'].units['http-proxy-configurator/0'].workload_status.current = 'waiting'
+ .apps['http-proxy-configurator'].units['http-proxy-configurator/0'].workload_status.message = 'installing agent'
+ .apps['http-proxy-configurator'].units['http-proxy-configurator/0'].juju_status.current = 'allocating'
+ .apps['http-proxy-configurator'].endpoint_bindings[''] = 'alpha'
+ .apps['http-proxy-configurator'].endpoint_bindings['delegate-http-proxy'] = 'alpha'
+ .apps['http-proxy-configurator'].endpoint_bindings['http-proxy'] = 'alpha'
+ .app_endpoints['squid-forward-proxy'].url = 'localhost:admin/testing.squid-forward-proxy'
+ .app_endpoints['squid-forward-proxy'].endpoints['http-proxy'].interface = 'http_proxy'
+ .app_endpoints['squid-forward-proxy'].endpoints['http-proxy'].role = 'provider'
+ .app_endpoints['squid-forward-proxy'].app_status.current = 'active'
+ .app_endpoints['squid-forward-proxy'].app_status.message = 'ready: 0'
+ .app_endpoints['squid-forward-proxy'].relations['http-proxy'][0] = 'http-proxy-configurator'
15:20:27 [32mINFO[0m wait: status changed:
- .apps['http-proxy-configurator'].app_status.current = 'waiting'
- .apps['http-proxy-configurator'].app_status.message = 'installing agent'
+ .apps['http-proxy-configurator'].provider_id = '2e2537d3-9068-4a05-8cda-c1409660b6e5'
+ .apps['http-proxy-configurator'].address = '10.152.183.21'
+ .apps['http-proxy-configurator'].app_status.current = 'maintenance'
+ .apps['http-proxy-configurator'].app_status.message = 'installing charm software'
- .apps['http-proxy-configurator'].units['http-proxy-configurator/0'].workload_status.current = 'waiting'
- .apps['http-proxy-configurator'].units['http-proxy-configurator/0'].workload_status.message = 'installing agent'
- .apps['http-proxy-configurator'].units['http-proxy-configurator/0'].juju_status.current = 'allocating'
+ .apps['http-proxy-configurator'].units['http-proxy-configurator/0'].workload_status.current = 'maintenance'
+ .apps['http-proxy-configurator'].units['http-proxy-configurator/0'].workload_status.message = 'installing charm software'
+ .apps['http-proxy-configurator'].units['http-proxy-configurator/0'].juju_status.current = 'executing'
+ .apps['http-proxy-configurator'].units['http-proxy-configurator/0'].juju_status.message = 'running leader-elected hook'
+ .apps['http-proxy-configurator'].units['http-proxy-configurator/0'].juju_status.version = '3.6.13'
+ .apps['http-proxy-configurator'].units['http-proxy-configurator/0'].leader = True
+ .apps['http-proxy-configurator'].units['http-proxy-configurator/0'].address = '10.1.12.140'
+ .apps['http-proxy-configurator'].units['http-proxy-configurator/0'].provider_id = 'http-proxy-configurator-0'
15:20:38 [32mINFO[0m wait: status changed:
- .apps['http-proxy-configurator'].app_status.current = 'maintenance'
- .apps['http-proxy-configurator'].app_status.message = 'installing charm software'
+ .apps['http-proxy-configurator'].app_status.current = 'waiting'
+ .apps['http-proxy-configurator'].app_status.message = 'installing agent'
- .apps['http-proxy-configurator'].units['http-proxy-configurator/0'].workload_status.current = 'maintenance'
- .apps['http-proxy-configurator'].units['http-proxy-configurator/0'].workload_status.message = 'installing charm software'
- .apps['http-proxy-configurator'].units['http-proxy-configurator/0'].juju_status.current = 'executing'
- .apps['http-proxy-configurator'].units['http-proxy-configurator/0'].juju_status.message = 'running leader-elected hook'
+ .apps['http-proxy-configurator'].units['http-proxy-configurator/0'].workload_status.current = 'active'
+ .apps['http-proxy-configurator'].units['http-proxy-configurator/0'].juju_status.current = 'idle'
- .app_endpoints['squid-forward-proxy'].app_status.message = 'ready: 0'
+ .app_endpoints['squid-forward-proxy'].app_status.message = 'ready: 1'
15:20:48 [32mINFO[0m wait: status changed:
- .apps['http-proxy-configurator'].app_status.current = 'waiting'
- .apps['http-proxy-configurator'].app_status.message = 'installing agent'
+ .apps['http-proxy-configurator'].app_status.current = 'active'
15:21:08 [32mINFO[0m cli: juju deploy --model testing /home/runner/work/paas-charm/paas-charm/flask-k8s_ubuntu-22.04-amd64.charm --resource flask-app-image=ghcr.io/canonical/test-flask:ac29e1faf47d5a93c86a5a026bb1906edc2b2fff-_0.1_amd64
15:21:12 [32mINFO[0m wait: status changed:
+ .model.name = 'testing'
+ .model.type = 'caas'
+ .model.controller = 'github-pr-e032f-microk8s'
+ .model.cloud = 'microk8s'
+ .model.version = '3.6.13'
+ .model.region = 'localhost'
+ .model.model_status.current = 'available'
+ .apps['flask-k8s'].charm = 'local:flask-k8s-0'
+ .apps['flask-k8s'].charm_origin = 'local'
+ .apps['flask-k8s'].charm_name = 'flask-k8s'
+ .apps['flask-k8s'].charm_rev = 0
+ .apps['flask-k8s'].exposed = False
+ .apps['flask-k8s'].base.name = 'ubuntu'
+ .apps['flask-k8s'].base.channel = '22.04'
+ .apps['flask-k8s'].scale = 1
+ .apps['flask-k8s'].app_status.current = 'waiting'
+ .apps['flask-k8s'].app_status.message = 'installing agent'
+ .apps['flask-k8s'].relations['secret-storage'][0].related_app = 'flask-k8s'
+ .apps['flask-k8s'].relations['secret-storage'][0].interface = 'secret-storage'
+ .apps['flask-k8s'].relations['secret-storage'][0].scope = 'global'
+ .apps['flask-k8s'].units['flask-k8s/0'].workload_status.current = 'waiting'
+ .apps['flask-k8s'].units['flask-k8s/0'].workload_status.message = 'installing agent'
+ .apps['flask-k8s'].units['flask-k8s/0'].juju_status.current = 'allocating'
+ .apps['flask-k8s'].endpoint_bindings[''] = 'alpha'
+ .apps['flask-k8s'].endpoint_bindings['grafana-dashboard'] = 'alpha'
+ .apps['flask-k8s'].endpoint_bindings['http-proxy'] = 'alpha'
+ .apps['flask-k8s'].endpoint_bindings['ingress'] = 'alpha'
+ .apps['flask-k8s'].endpoint_bindings['logging'] = 'alpha'
+ .apps['flask-k8s'].endpoint_bindings['metrics-endpoint'] = 'alpha'
+ .apps['flask-k8s'].endpoint_bindings['mongodb'] = 'alpha'
+ .apps['flask-k8s'].endpoint_bindings['mysql'] = 'alpha'
+ .apps['flask-k8s'].endpoint_bindings['oidc'] = 'alpha'
+ .apps['flask-k8s'].endpoint_bindings['openfga'] = 'alpha'
+ .apps['flask-k8s'].endpoint_bindings['postgresql'] = 'alpha'
+ .apps['flask-k8s'].endpoint_bindings['rabbitmq'] = 'alpha'
+ .apps['flask-k8s'].endpoint_bindings['redis'] = 'alpha'
+ .apps['flask-k8s'].endpoint_bindings['s3'] = 'alpha'
+ .apps['flask-k8s'].endpoint_bindings['saml'] = 'alpha'
+ .apps['flask-k8s'].endpoint_bindings['secret-storage'] = 'alpha'
+ .apps['flask-k8s'].endpoint_bindings['smtp'] = 'alpha'
+ .apps['flask-k8s'].endpoint_bindings['tracing'] = 'alpha'
+ .apps['http-proxy-configurator'].charm = 'http-proxy-configurator'
+ .apps['http-proxy-configurator'].charm_origin = 'charmhub'
+ .apps['http-proxy-configurator'].charm_name = 'http-proxy-configurator'
+ .apps['http-proxy-configurator'].charm_rev = 13
+ .apps['http-proxy-configurator'].exposed = False
+ .apps['http-proxy-configurator'].base.name = 'ubuntu'
+ .apps['http-proxy-configurator'].base.channel = '24.04'
+ .apps['http-proxy-configurator'].charm_channel = 'latest/edge'
+ .apps['http-proxy-configurator'].scale = 1
+ .apps['http-proxy-configurator'].provider_id = '2e2537d3-9068-4a05-8cda-c1409660b6e5'
+ .apps['http-proxy-configurator'].address = '10.152.183.21'
+ .apps['http-proxy-configurator'].app_status.current = 'active'
+ .apps['http-proxy-configurator'].relations['http-proxy'][0].related_app = 'squid-forward-proxy'
+ .apps['http-proxy-configurator'].relations['http-proxy'][0].interface = 'http_proxy'
+ .apps['http-proxy-configurator'].units['http-proxy-configurator/0'].workload_status.current = 'active'
+ .apps['http-proxy-configurator'].units['http-proxy-configurator/0'].juju_status.current = 'idle'
+ .apps['http-proxy-configurator'].units['http-proxy-configurator/0'].juju_status.version = '3.6.13'
+ .apps['http-proxy-configurator'].units['http-proxy-configurator/0'].leader = True
+ .apps['http-proxy-configurator'].units['http-proxy-configurator/0'].address = '10.1.12.140'
+ .apps['http-proxy-configurator'].units['http-proxy-configurator/0'].provider_id = 'http-proxy-configurator-0'
+ .apps['http-proxy-configurator'].endpoint_bindings[''] = 'alpha'
+ .apps['http-proxy-configurator'].endpoint_bindings['delegate-http-proxy'] = 'alpha'
+ .apps['http-proxy-configurator'].endpoint_bindings['http-proxy'] = 'alpha'
+ .app_endpoints['squid-forward-proxy'].url = 'localhost:admin/testing.squid-forward-proxy'
+ .app_endpoints['squid-forward-proxy'].endpoints['http-proxy'].interface = 'http_proxy'
+ .app_endpoints['squid-forward-proxy'].endpoints['http-proxy'].role = 'provider'
+ .app_endpoints['squid-forward-proxy'].app_status.current = 'active'
+ .app_endpoints['squid-forward-proxy'].app_status.message = 'ready: 1'
+ .app_endpoints['squid-forward-proxy'].relations['http-proxy'][0] = 'http-proxy-configurator'
15:21:15 [32mINFO[0m wait: status changed:
+ .apps['flask-k8s'].provider_id = '7d7b9fbc-9d81-4667-b359-3738aff7fd7a'
+ .apps['flask-k8s'].address = '10.152.183.33'
15:21:18 [32mINFO[0m wait: status changed:
+ .apps['flask-k8s'].units['flask-k8s/0'].provider_id = 'flask-k8s-0'
15:21:19 [32mINFO[0m wait: status changed:
+ .apps['flask-k8s'].units['flask-k8s/0'].address = '10.1.12.141'
15:21:24 [32mINFO[0m wait: status changed:
- .apps['flask-k8s'].app_status.message = 'installing agent'
+ .apps['flask-k8s'].app_status.message = 'agent initialising'
- .apps['flask-k8s'].units['flask-k8s/0'].workload_status.message = 'installing agent'
+ .apps['flask-k8s'].units['flask-k8s/0'].workload_status.message = 'agent initialising'
+ .apps['flask-k8s'].units['flask-k8s/0'].juju_status.version = '3.6.13'
+ .apps['flask-k8s'].units['flask-k8s/0'].leader = True
15:21:26 [32mINFO[0m wait: status changed:
- .apps['flask-k8s'].app_status.current = 'waiting'
- .apps['flask-k8s'].app_status.message = 'agent initialising'
+ .apps['flask-k8s'].app_status.current = 'maintenance'
+ .apps['flask-k8s'].app_status.message = 'installing charm software'
- .apps['flask-k8s'].units['flask-k8s/0'].workload_status.current = 'waiting'
- .apps['flask-k8s'].units['flask-k8s/0'].workload_status.message = 'agent initialising'
- .apps['flask-k8s'].units['flask-k8s/0'].juju_status.current = 'allocating'
+ .apps['flask-k8s'].units['flask-k8s/0'].workload_status.current = 'maintenance'
+ .apps['flask-k8s'].units['flask-k8s/0'].workload_status.message = 'installing charm software'
+ .apps['flask-k8s'].units['flask-k8s/0'].juju_status.current = 'executing'
+ .apps['flask-k8s'].units['flask-k8s/0'].juju_status.message = 'running install hook'
15:21:28 [32mINFO[0m wait: status changed:
- .apps['flask-k8s'].units['flask-k8s/0'].juju_status.message = 'running install hook'
+ .apps['flask-k8s'].units['flask-k8s/0'].juju_status.message = 'running secret-storage-relation-created hook'
15:21:29 [32mINFO[0m wait: status changed:
- .apps['flask-k8s'].units['flask-k8s/0'].juju_status.message = 'running secret-storage-relation-created hook'
+ .apps['flask-k8s'].units['flask-k8s/0'].juju_status.message = 'running config-changed hook'
15:21:30 [32mINFO[0m wait: status changed:
- .apps['flask-k8s'].app_status.current = 'maintenance'
- .apps['flask-k8s'].app_status.message = 'installing charm software'
+ .apps['flask-k8s'].app_status.current = 'waiting'
+ .apps['flask-k8s'].app_status.message = 'Waiting for pebble ready'
- .apps['flask-k8s'].units['flask-k8s/0'].workload_status.current = 'maintenance'
- .apps['flask-k8s'].units['flask-k8s/0'].workload_status.message = 'installing charm software'
+ .apps['flask-k8s'].units['flask-k8s/0'].workload_status.current = 'waiting'
+ .apps['flask-k8s'].units['flask-k8s/0'].workload_status.message = 'Waiting for pebble ready'
- .apps['flask-k8s'].units['flask-k8s/0'].juju_status.message = 'running config-changed hook'
+ .apps['flask-k8s'].units['flask-k8s/0'].juju_status.message = 'running start hook'
15:21:32 [32mINFO[0m wait: status changed:
- .apps['flask-k8s'].units['flask-k8s/0'].juju_status.message = 'running start hook'
+ .apps['flask-k8s'].units['flask-k8s/0'].juju_status.message = 'running flask-app-pebble-ready hook'
15:21:33 [32mINFO[0m wait: status changed:
- .apps['flask-k8s'].app_status.current = 'waiting'
- .apps['flask-k8s'].app_status.message = 'Waiting for pebble ready'
+ .apps['flask-k8s'].app_status.current = 'maintenance'
+ .apps['flask-k8s'].app_status.message = 'Preparing service for restart'
- .apps['flask-k8s'].units['flask-k8s/0'].workload_status.current = 'waiting'
- .apps['flask-k8s'].units['flask-k8s/0'].workload_status.message = 'Waiting for pebble ready'
- .apps['flask-k8s'].units['flask-k8s/0'].juju_status.current = 'executing'
- .apps['flask-k8s'].units['flask-k8s/0'].juju_status.message = 'running flask-app-pebble-ready hook'
+ .apps['flask-k8s'].units['flask-k8s/0'].workload_status.current = 'maintenance'
+ .apps['flask-k8s'].units['flask-k8s/0'].workload_status.message = 'Preparing service for restart'
+ .apps['flask-k8s'].units['flask-k8s/0'].juju_status.current = 'idle'
15:21:34 [32mINFO[0m wait: status changed:
- .apps['flask-k8s'].app_status.current = 'maintenance'
- .apps['flask-k8s'].app_status.message = 'Preparing service for restart'
+ .apps['flask-k8s'].app_status.current = 'waiting'
+ .apps['flask-k8s'].app_status.message = 'installing agent'
- .apps['flask-k8s'].units['flask-k8s/0'].workload_status.current = 'maintenance'
- .apps['flask-k8s'].units['flask-k8s/0'].workload_status.message = 'Preparing service for restart'
+ .apps['flask-k8s'].units['flask-k8s/0'].workload_status.current = 'active'
15:21:35 [32mINFO[0m wait: status changed:
- .apps['flask-k8s'].app_status.current = 'waiting'
- .apps['flask-k8s'].app_status.message = 'installing agent'
+ .apps['flask-k8s'].app_status.current = 'maintenance'
+ .apps['flask-k8s'].app_status.message = 'Preparing service for restart'
- .apps['flask-k8s'].units['flask-k8s/0'].workload_status.current = 'active'
+ .apps['flask-k8s'].units['flask-k8s/0'].workload_status.current = 'maintenance'
+ .apps['flask-k8s'].units['flask-k8s/0'].workload_status.message = 'Preparing service for restart'
15:21:37 [32mINFO[0m wait: status changed:
- .apps['flask-k8s'].app_status.current = 'maintenance'
- .apps['flask-k8s'].app_status.message = 'Preparing service for restart'
+ .apps['flask-k8s'].app_status.current = 'waiting'
+ .apps['flask-k8s'].app_status.message = 'installing agent'
- .apps['flask-k8s'].units['flask-k8s/0'].workload_status.current = 'maintenance'
- .apps['flask-k8s'].units['flask-k8s/0'].workload_status.message = 'Preparing service for restart'
+ .apps['flask-k8s'].units['flask-k8s/0'].workload_status.current = 'active'
15:21:46 [32mINFO[0m wait: status changed:
- .apps['flask-k8s'].app_status.current = 'waiting'
- .apps['flask-k8s'].app_status.message = 'installing agent'
+ .apps['flask-k8s'].app_status.current = 'active'
15:21:49 [32mINFO[0m cli: juju integrate --model testing flask-k8s http-proxy-configurator
15:21:49 [32mINFO[0m wait: status changed:
+ .model.name = 'testing'
+ .model.type = 'caas'
+ .model.controller = 'github-pr-e032f-microk8s'
+ .model.cloud = 'microk8s'
+ .model.version = '3.6.13'
+ .model.region = 'localhost'
+ .model.model_status.current = 'available'
+ .apps['flask-k8s'].charm = 'local:flask-k8s-0'
+ .apps['flask-k8s'].charm_origin = 'local'
+ .apps['flask-k8s'].charm_name = 'flask-k8s'
+ .apps['flask-k8s'].charm_rev = 0
+ .apps['flask-k8s'].exposed = False
+ .apps['flask-k8s'].base.name = 'ubuntu'
+ .apps['flask-k8s'].base.channel = '22.04'
+ .apps['flask-k8s'].scale = 1
+ .apps['flask-k8s'].provider_id = '7d7b9fbc-9d81-4667-b359-3738aff7fd7a'
+ .apps['flask-k8s'].address = '10.152.183.33'
+ .apps['flask-k8s'].app_status.current = 'active'
+ .apps['flask-k8s'].relations['http-proxy'][0].related_app = 'http-proxy-configurator'
+ .apps['flask-k8s'].relations['http-proxy'][0].interface = 'http_proxy'
+ .apps['flask-k8s'].relations['http-proxy'][0].scope = 'global'
+ .apps['flask-k8s'].relations['secret-storage'][0].related_app = 'flask-k8s'
+ .apps['flask-k8s'].relations['secret-storage'][0].interface = 'secret-storage'
+ .apps['flask-k8s'].relations['secret-storage'][0].scope = 'global'
+ .apps['flask-k8s'].units['flask-k8s/0'].workload_status.current = 'active'
+ .apps['flask-k8s'].units['flask-k8s/0'].juju_status.current = 'executing'
+ .apps['flask-k8s'].units['flask-k8s/0'].juju_status.message = 'running http-proxy-relation-created hook'
+ .apps['flask-k8s'].units['flask-k8s/0'].juju_status.version = '3.6.13'
+ .apps['flask-k8s'].units['flask-k8s/0'].leader = True
+ .apps['flask-k8s'].units['flask-k8s/0'].address = '10.1.12.141'
+ .apps['flask-k8s'].units['flask-k8s/0'].provider_id = 'flask-k8s-0'
+ .apps['flask-k8s'].endpoint_bindings[''] = 'alpha'
+ .apps['flask-k8s'].endpoint_bindings['grafana-dashboard'] = 'alpha'
+ .apps['flask-k8s'].endpoint_bindings['http-proxy'] = 'alpha'
+ .apps['flask-k8s'].endpoint_bindings['ingress'] = 'alpha'
+ .apps['flask-k8s'].endpoint_bindings['logging'] = 'alpha'
+ .apps['flask-k8s'].endpoint_bindings['metrics-endpoint'] = 'alpha'
+ .apps['flask-k8s'].endpoint_bindings['mongodb'] = 'alpha'
+ .apps['flask-k8s'].endpoint_bindings['mysql'] = 'alpha'
+ .apps['flask-k8s'].endpoint_bindings['oidc'] = 'alpha'
+ .apps['flask-k8s'].endpoint_bindings['openfga'] = 'alpha'
+ .apps['flask-k8s'].endpoint_bindings['postgresql'] = 'alpha'
+ .apps['flask-k8s'].endpoint_bindings['rabbitmq'] = 'alpha'
+ .apps['flask-k8s'].endpoint_bindings['redis'] = 'alpha'
+ .apps['flask-k8s'].endpoint_bindings['s3'] = 'alpha'
+ .apps['flask-k8s'].endpoint_bindings['saml'] = 'alpha'
+ .apps['flask-k8s'].endpoint_bindings['secret-storage'] = 'alpha'
+ .apps['flask-k8s'].endpoint_bindings['smtp'] = 'alpha'
+ .apps['flask-k8s'].endpoint_bindings['tracing'] = 'alpha'
+ .apps['http-proxy-configurator'].charm = 'http-proxy-configurator'
+ .apps['http-proxy-configurator'].charm_origin = 'charmhub'
+ .apps['http-proxy-configurator'].charm_name = 'http-proxy-configurator'
+ .apps['http-proxy-configurator'].charm_rev = 13
+ .apps['http-proxy-configurator'].exposed = False
+ .apps['http-proxy-configurator'].base.name = 'ubuntu'
+ .apps['http-proxy-configurator'].base.channel = '24.04'
+ .apps['http-proxy-configurator'].charm_channel = 'latest/edge'
+ .apps['http-proxy-configurator'].scale = 1
+ .apps['http-proxy-configurator'].provider_id = '2e2537d3-9068-4a05-8cda-c1409660b6e5'
+ .apps['http-proxy-configurator'].address = '10.152.183.21'
+ .apps['http-proxy-configurator'].app_status.current = 'active'
+ .apps['http-proxy-configurator'].relations['delegate-http-proxy'][0].related_app = 'flask-k8s'
+ .apps['http-proxy-configurator'].relations['delegate-http-proxy'][0].interface = 'http_proxy'
+ .apps['http-proxy-configurator'].relations['delegate-http-proxy'][0].scope = 'global'
+ .apps['http-proxy-configurator'].relations['http-proxy'][0].related_app = 'squid-forward-proxy'
+ .apps['http-proxy-configurator'].relations['http-proxy'][0].interface = 'http_proxy'
+ .apps['http-proxy-configurator'].units['http-proxy-configurator/0'].workload_status.current = 'active'
+ .apps['http-proxy-configurator'].units['http-proxy-configurator/0'].juju_status.current = 'executing'
+ .apps['http-proxy-configurator'].units['http-proxy-configurator/0'].juju_status.message = 'running delegate-http-proxy-relation-created hook'
+ .apps['http-proxy-configurator'].units['http-proxy-configurator/0'].juju_status.version = '3.6.13'
+ .apps['http-proxy-configurator'].units['http-proxy-configurator/0'].leader = True
+ .apps['http-proxy-configurator'].units['http-proxy-configurator/0'].address = '10.1.12.140'
+ .apps['http-proxy-configurator'].units['http-proxy-configurator/0'].provider_id = 'http-proxy-configurator-0'
+ .apps['http-proxy-configurator'].endpoint_bindings[''] = 'alpha'
+ .apps['http-proxy-configurator'].endpoint_bindings['delegate-http-proxy'] = 'alpha'
+ .apps['http-proxy-configurator'].endpoint_bindings['http-proxy'] = 'alpha'
+ .app_endpoints['squid-forward-proxy'].url = 'localhost:admin/testing.squid-forward-proxy'
+ .app_endpoints['squid-forward-proxy'].endpoints['http-proxy'].interface = 'http_proxy'
+ .app_endpoints['squid-forward-proxy'].endpoints['http-proxy'].role = 'provider'
+ .app_endpoints['squid-forward-proxy'].app_status.current = 'active'
+ .app_endpoints['squid-forward-proxy'].app_status.message = 'ready: 1'
+ .app_endpoints['squid-forward-proxy'].relations['http-proxy'][0] = 'http-proxy-configurator'
15:21:59 [32mINFO[0m wait: status changed:
- .apps['flask-k8s'].app_status.current = 'active'
+ .apps['flask-k8s'].app_status.current = 'waiting'
+ .apps['flask-k8s'].app_status.message = 'installing agent'
- .apps['flask-k8s'].units['flask-k8s/0'].juju_status.current = 'executing'
- .apps['flask-k8s'].units['flask-k8s/0'].juju_status.message = 'running http-proxy-relation-created hook'
+ .apps['flask-k8s'].units['flask-k8s/0'].juju_status.current = 'idle'
- .apps['http-proxy-configurator'].units['http-proxy-configurator/0'].juju_status.current = 'executing'
- .apps['http-proxy-configurator'].units['http-proxy-configurator/0'].juju_status.message = 'running delegate-http-proxy-relation-created hook'
+ .apps['http-proxy-configurator'].units['http-proxy-configurator/0'].juju_status.current = 'idle'
15:22:10 [32mINFO[0m wait: status changed:
- .apps['flask-k8s'].app_status.current = 'waiting'
- .apps['flask-k8s'].app_status.message = 'installing agent'
+ .apps['flask-k8s'].app_status.current = 'active'
15:22:30 [32mINFO[0m cli: juju status --model testing --format json
15:22:30 [32mINFO[0m cli: juju remove-relation --model testing flask-k8s http-proxy-configurator