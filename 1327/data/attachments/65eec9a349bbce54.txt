15:18:01 [32mINFO[0m cli: juju status --model testing --format json
15:18:01 [32mINFO[0m cli: juju bootstrap lxd localhost
15:19:41 [32mINFO[0m cli: juju switch github-pr-8e884-microk8s:testing
15:19:41 [32mINFO[0m cli: juju status --model testing --format json
15:19:41 [32mINFO[0m cli: juju status --model testing --format json
15:19:41 [32mINFO[0m cli: juju switch localhost:
15:19:41 [32mINFO[0m cli: juju add-model --no-switch testing
15:19:42 [32mINFO[0m cli: juju switch github-pr-8e884-microk8s:testing
15:19:42 [32mINFO[0m cli: juju status --model testing --format json
15:19:42 [32mINFO[0m cli: juju switch localhost:testing
15:19:42 [32mINFO[0m cli: juju status --model testing --format json
15:19:42 [32mINFO[0m cli: juju deploy --model testing squid-forward-proxy --channel edge --config hostname=proxy.example.com
15:19:44 [32mINFO[0m cli: juju offer squid-forward-proxy:http-proxy
15:19:44 [32mINFO[0m wait: status changed:
+ .model.name = 'testing'
+ .model.type = 'iaas'
+ .model.controller = 'localhost'
+ .model.cloud = 'localhost'
+ .model.version = '3.6.14'
+ .model.region = 'localhost'
+ .model.model_status.current = 'available'
+ .machines['0'].juju_status.current = 'pending'
+ .machines['0'].instance_id = 'pending'
+ .machines['0'].machine_status.current = 'pending'
+ .machines['0'].modification_status.current = 'idle'
+ .machines['0'].base.name = 'ubuntu'
+ .machines['0'].base.channel = '24.04'
+ .machines['0'].constraints = 'arch=amd64'
+ .apps['squid-forward-proxy'].charm = 'squid-forward-proxy'
+ .apps['squid-forward-proxy'].charm_origin = 'charmhub'
+ .apps['squid-forward-proxy'].charm_name = 'squid-forward-proxy'
+ .apps['squid-forward-proxy'].charm_rev = 35
+ .apps['squid-forward-proxy'].exposed = False
+ .apps['squid-forward-proxy'].base.name = 'ubuntu'
+ .apps['squid-forward-proxy'].base.channel = '24.04'
+ .apps['squid-forward-proxy'].charm_channel = 'latest/edge'
+ .apps['squid-forward-proxy'].app_status.current = 'waiting'
+ .apps['squid-forward-proxy'].app_status.message = 'waiting for machine'
+ .apps['squid-forward-proxy'].relations['squid-peer'][0].related_app = 'squid-forward-proxy'
+ .apps['squid-forward-proxy'].relations['squid-peer'][0].interface = 'squid_peer'
+ .apps['squid-forward-proxy'].relations['squid-peer'][0].scope = 'global'
+ .apps['squid-forward-proxy'].units['squid-forward-proxy/0'].workload_status.current = 'waiting'
+ .apps['squid-forward-proxy'].units['squid-forward-proxy/0'].workload_status.message = 'waiting for machine'
+ .apps['squid-forward-proxy'].units['squid-forward-proxy/0'].juju_status.current = 'allocating'
+ .apps['squid-forward-proxy'].units['squid-forward-proxy/0'].machine = '0'
+ .apps['squid-forward-proxy'].endpoint_bindings[''] = 'alpha'
+ .apps['squid-forward-proxy'].endpoint_bindings['cos-agent'] = 'alpha'
+ .apps['squid-forward-proxy'].endpoint_bindings['http-proxy'] = 'alpha'
+ .apps['squid-forward-proxy'].endpoint_bindings['squid-peer'] = 'alpha'
+ .offers['squid-forward-proxy'].app = 'squid-forward-proxy'
+ .offers['squid-forward-proxy'].endpoints['http-proxy'].interface = 'http_proxy'
+ .offers['squid-forward-proxy'].endpoints['http-proxy'].role = 'provider'
+ .offers['squid-forward-proxy'].charm = 'ch:amd64/squid-forward-proxy-35'
15:19:55 [32mINFO[0m wait: status changed:
- .machines['0'].machine_status.current = 'pending'
+ .machines['0'].machine_status.current = 'allocating'
+ .machines['0'].machine_status.message = 'Creating container'
15:20:05 [32mINFO[0m wait: status changed:
- .machines['0'].instance_id = 'pending'
- .machines['0'].machine_status.current = 'allocating'
- .machines['0'].machine_status.message = 'Creating container'
- .machines['0'].modification_status.current = 'idle'
+ .machines['0'].dns_name = '10.66.209.27'
+ .machines['0'].ip_addresses[0] = '10.66.209.27'
+ .machines['0'].instance_id = 'juju-ae3605-0'
+ .machines['0'].machine_status.current = 'running'
+ .machines['0'].machine_status.message = 'Running'
+ .machines['0'].modification_status.current = 'applied'
+ .machines['0'].hardware = 'arch=amd64 cores=0 mem=0M availability-zone=runnervmkj6or virt-type=container'
+ .apps['squid-forward-proxy'].units['squid-forward-proxy/0'].public_address = '10.66.209.27'
15:20:46 [32mINFO[0m wait: status changed:
- .machines['0'].juju_status.current = 'pending'
+ .machines['0'].juju_status.current = 'started'
+ .machines['0'].juju_status.version = '3.6.14'
+ .machines['0'].hostname = 'juju-ae3605-0'
+ .machines['0'].network_interfaces['eth0'].ip_addresses[0] = '10.66.209.27'
+ .machines['0'].network_interfaces['eth0'].mac_address = '00:16:3e:10:ef:4e'
+ .machines['0'].network_interfaces['eth0'].is_up = True
+ .machines['0'].network_interfaces['eth0'].gateway = '10.66.209.1'
+ .machines['0'].network_interfaces['eth0'].space = 'alpha'
- .apps['squid-forward-proxy'].app_status.current = 'waiting'
- .apps['squid-forward-proxy'].app_status.message = 'waiting for machine'
+ .apps['squid-forward-proxy'].app_status.current = 'maintenance'
+ .apps['squid-forward-proxy'].app_status.message = 'installing squid'
- .apps['squid-forward-proxy'].units['squid-forward-proxy/0'].workload_status.current = 'waiting'
- .apps['squid-forward-proxy'].units['squid-forward-proxy/0'].workload_status.message = 'waiting for machine'
- .apps['squid-forward-proxy'].units['squid-forward-proxy/0'].juju_status.current = 'allocating'
+ .apps['squid-forward-proxy'].units['squid-forward-proxy/0'].workload_status.current = 'maintenance'
+ .apps['squid-forward-proxy'].units['squid-forward-proxy/0'].workload_status.message = 'installing squid'
+ .apps['squid-forward-proxy'].units['squid-forward-proxy/0'].juju_status.current = 'executing'
+ .apps['squid-forward-proxy'].units['squid-forward-proxy/0'].juju_status.message = 'running install hook'
+ .apps['squid-forward-proxy'].units['squid-forward-proxy/0'].juju_status.version = '3.6.14'
+ .apps['squid-forward-proxy'].units['squid-forward-proxy/0'].leader = True
15:21:06 [32mINFO[0m wait: status changed:
- .apps['squid-forward-proxy'].app_status.current = 'maintenance'
- .apps['squid-forward-proxy'].app_status.message = 'installing squid'
+ .apps['squid-forward-proxy'].app_status.current = 'active'
+ .apps['squid-forward-proxy'].app_status.message = 'ready: 0'
- .apps['squid-forward-proxy'].units['squid-forward-proxy/0'].workload_status.current = 'maintenance'
- .apps['squid-forward-proxy'].units['squid-forward-proxy/0'].workload_status.message = 'installing squid'
- .apps['squid-forward-proxy'].units['squid-forward-proxy/0'].juju_status.current = 'executing'
- .apps['squid-forward-proxy'].units['squid-forward-proxy/0'].juju_status.message = 'running install hook'
+ .apps['squid-forward-proxy'].units['squid-forward-proxy/0'].workload_status.current = 'active'
+ .apps['squid-forward-proxy'].units['squid-forward-proxy/0'].workload_status.message = 'ready: 0'
+ .apps['squid-forward-proxy'].units['squid-forward-proxy/0'].juju_status.current = 'idle'
+ .apps['squid-forward-proxy'].units['squid-forward-proxy/0'].open_ports[0] = '3128/tcp'
15:21:26 [32mINFO[0m cli: juju switch github-pr-8e884-microk8s:testing
15:21:27 [32mINFO[0m cli: juju consume localhost:admin/testing.squid-forward-proxy
15:21:27 [32mINFO[0m cli: juju status --model testing --format json
15:21:27 [32mINFO[0m cli: juju deploy --model testing http-proxy-configurator --channel latest/edge --config http-proxy-auth=none --config http-proxy-domains=www.example.com
15:21:29 [32mINFO[0m cli: juju integrate --model testing http-proxy-configurator squid-forward-proxy
15:21:29 [32mINFO[0m wait: status changed:
+ .model.name = 'testing'
+ .model.type = 'caas'
+ .model.controller = 'github-pr-8e884-microk8s'
+ .model.cloud = 'microk8s'
+ .model.version = '3.6.14'
+ .model.region = 'localhost'
+ .model.model_status.current = 'available'
+ .apps['http-proxy-configurator'].charm = 'http-proxy-configurator'
+ .apps['http-proxy-configurator'].charm_origin = 'charmhub'
+ .apps['http-proxy-configurator'].charm_name = 'http-proxy-configurator'
+ .apps['http-proxy-configurator'].charm_rev = 13
+ .apps['http-proxy-configurator'].exposed = False
+ .apps['http-proxy-configurator'].base.name = 'ubuntu'
+ .apps['http-proxy-configurator'].base.channel = '24.04'
+ .apps['http-proxy-configurator'].charm_channel = 'latest/edge'
+ .apps['http-proxy-configurator'].scale = 1
+ .apps['http-proxy-configurator'].app_status.current = 'waiting'
+ .apps['http-proxy-configurator'].app_status.message = 'installing agent'
+ .apps['http-proxy-configurator'].relations['http-proxy'][0].related_app = 'squid-forward-proxy'
+ .apps['http-proxy-configurator'].relations['http-proxy'][0].interface = 'http_proxy'
+ .apps['http-proxy-configurator'].units['http-proxy-configurator/0'].workload_status.current = 'waiting'
+ .apps['http-proxy-configurator'].units['http-proxy-configurator/0'].workload_status.message = 'installing agent'
+ .apps['http-proxy-configurator'].units['http-proxy-configurator/0'].juju_status.current = 'allocating'
+ .apps['http-proxy-configurator'].endpoint_bindings[''] = 'alpha'
+ .apps['http-proxy-configurator'].endpoint_bindings['delegate-http-proxy'] = 'alpha'
+ .apps['http-proxy-configurator'].endpoint_bindings['http-proxy'] = 'alpha'
+ .app_endpoints['squid-forward-proxy'].url = 'localhost:admin/testing.squid-forward-proxy'
+ .app_endpoints['squid-forward-proxy'].endpoints['http-proxy'].interface = 'http_proxy'
+ .app_endpoints['squid-forward-proxy'].endpoints['http-proxy'].role = 'provider'
+ .app_endpoints['squid-forward-proxy'].app_status.current = 'active'
+ .app_endpoints['squid-forward-proxy'].app_status.message = 'ready: 0'
+ .app_endpoints['squid-forward-proxy'].relations['http-proxy'][0] = 'http-proxy-configurator'
15:21:39 [32mINFO[0m wait: status changed:
- .apps['http-proxy-configurator'].app_status.current = 'waiting'
- .apps['http-proxy-configurator'].app_status.message = 'installing agent'
+ .apps['http-proxy-configurator'].provider_id = '12a963dc-be50-48c5-a772-42dbb07d932d'
+ .apps['http-proxy-configurator'].address = '10.152.183.138'
+ .apps['http-proxy-configurator'].app_status.current = 'maintenance'
+ .apps['http-proxy-configurator'].app_status.message = 'installing charm software'
- .apps['http-proxy-configurator'].units['http-proxy-configurator/0'].workload_status.current = 'waiting'
- .apps['http-proxy-configurator'].units['http-proxy-configurator/0'].workload_status.message = 'installing agent'
- .apps['http-proxy-configurator'].units['http-proxy-configurator/0'].juju_status.current = 'allocating'
+ .apps['http-proxy-configurator'].units['http-proxy-configurator/0'].workload_status.current = 'maintenance'
+ .apps['http-proxy-configurator'].units['http-proxy-configurator/0'].workload_status.message = 'installing charm software'
+ .apps['http-proxy-configurator'].units['http-proxy-configurator/0'].juju_status.current = 'executing'
+ .apps['http-proxy-configurator'].units['http-proxy-configurator/0'].juju_status.message = 'running install hook'
+ .apps['http-proxy-configurator'].units['http-proxy-configurator/0'].juju_status.version = '3.6.14'
+ .apps['http-proxy-configurator'].units['http-proxy-configurator/0'].leader = True
+ .apps['http-proxy-configurator'].units['http-proxy-configurator/0'].address = '10.1.100.204'
+ .apps['http-proxy-configurator'].units['http-proxy-configurator/0'].provider_id = 'http-proxy-configurator-0'
15:21:50 [32mINFO[0m wait: status changed:
- .apps['http-proxy-configurator'].app_status.current = 'maintenance'
- .apps['http-proxy-configurator'].app_status.message = 'installing charm software'
+ .apps['http-proxy-configurator'].app_status.current = 'waiting'
+ .apps['http-proxy-configurator'].app_status.message = 'installing agent'
- .apps['http-proxy-configurator'].units['http-proxy-configurator/0'].workload_status.current = 'maintenance'
- .apps['http-proxy-configurator'].units['http-proxy-configurator/0'].workload_status.message = 'installing charm software'
- .apps['http-proxy-configurator'].units['http-proxy-configurator/0'].juju_status.current = 'executing'
- .apps['http-proxy-configurator'].units['http-proxy-configurator/0'].juju_status.message = 'running install hook'
+ .apps['http-proxy-configurator'].units['http-proxy-configurator/0'].workload_status.current = 'active'
+ .apps['http-proxy-configurator'].units['http-proxy-configurator/0'].juju_status.current = 'idle'
- .app_endpoints['squid-forward-proxy'].app_status.message = 'ready: 0'
+ .app_endpoints['squid-forward-proxy'].app_status.message = 'ready: 1'
15:22:00 [32mINFO[0m wait: status changed:
- .apps['http-proxy-configurator'].app_status.current = 'waiting'
- .apps['http-proxy-configurator'].app_status.message = 'installing agent'
+ .apps['http-proxy-configurator'].app_status.current = 'active'
15:22:20 [32mINFO[0m cli: juju deploy --model testing /home/runner/work/paas-charm/paas-charm/flask-k8s_ubuntu-22.04-amd64.charm flask-k8s --resource flask-app-image=ghcr.io/canonical/test-flask:ac29e1faf47d5a93c86a5a026bb1906edc2b2fff-_0.1_amd64
15:22:24 [32mINFO[0m wait: status changed:
+ .model.name = 'testing'
+ .model.type = 'caas'
+ .model.controller = 'github-pr-8e884-microk8s'
+ .model.cloud = 'microk8s'
+ .model.version = '3.6.14'
+ .model.region = 'localhost'
+ .model.model_status.current = 'available'
+ .apps['flask-k8s'].charm = 'local:flask-k8s-0'
+ .apps['flask-k8s'].charm_origin = 'local'
+ .apps['flask-k8s'].charm_name = 'flask-k8s'
+ .apps['flask-k8s'].charm_rev = 0
+ .apps['flask-k8s'].exposed = False
+ .apps['flask-k8s'].base.name = 'ubuntu'
+ .apps['flask-k8s'].base.channel = '22.04'
+ .apps['flask-k8s'].scale = 1
+ .apps['flask-k8s'].app_status.current = 'waiting'
+ .apps['flask-k8s'].app_status.message = 'installing agent'
+ .apps['flask-k8s'].relations['secret-storage'][0].related_app = 'flask-k8s'
+ .apps['flask-k8s'].relations['secret-storage'][0].interface = 'secret-storage'
+ .apps['flask-k8s'].relations['secret-storage'][0].scope = 'global'
+ .apps['flask-k8s'].units['flask-k8s/0'].workload_status.current = 'waiting'
+ .apps['flask-k8s'].units['flask-k8s/0'].workload_status.message = 'installing agent'
+ .apps['flask-k8s'].units['flask-k8s/0'].juju_status.current = 'allocating'
+ .apps['flask-k8s'].endpoint_bindings[''] = 'alpha'
+ .apps['flask-k8s'].endpoint_bindings['grafana-dashboard'] = 'alpha'
+ .apps['flask-k8s'].endpoint_bindings['http-proxy'] = 'alpha'
+ .apps['flask-k8s'].endpoint_bindings['ingress'] = 'alpha'
+ .apps['flask-k8s'].endpoint_bindings['logging'] = 'alpha'
+ .apps['flask-k8s'].endpoint_bindings['metrics-endpoint'] = 'alpha'
+ .apps['flask-k8s'].endpoint_bindings['mongodb'] = 'alpha'
+ .apps['flask-k8s'].endpoint_bindings['mysql'] = 'alpha'
+ .apps['flask-k8s'].endpoint_bindings['oidc'] = 'alpha'
+ .apps['flask-k8s'].endpoint_bindings['openfga'] = 'alpha'
+ .apps['flask-k8s'].endpoint_bindings['postgresql'] = 'alpha'
+ .apps['flask-k8s'].endpoint_bindings['rabbitmq'] = 'alpha'
+ .apps['flask-k8s'].endpoint_bindings['redis'] = 'alpha'
+ .apps['flask-k8s'].endpoint_bindings['s3'] = 'alpha'
+ .apps['flask-k8s'].endpoint_bindings['saml'] = 'alpha'
+ .apps['flask-k8s'].endpoint_bindings['secret-storage'] = 'alpha'
+ .apps['flask-k8s'].endpoint_bindings['smtp'] = 'alpha'
+ .apps['flask-k8s'].endpoint_bindings['tracing'] = 'alpha'
+ .apps['http-proxy-configurator'].charm = 'http-proxy-configurator'
+ .apps['http-proxy-configurator'].charm_origin = 'charmhub'
+ .apps['http-proxy-configurator'].charm_name = 'http-proxy-configurator'
+ .apps['http-proxy-configurator'].charm_rev = 13
+ .apps['http-proxy-configurator'].exposed = False
+ .apps['http-proxy-configurator'].base.name = 'ubuntu'
+ .apps['http-proxy-configurator'].base.channel = '24.04'
+ .apps['http-proxy-configurator'].charm_channel = 'latest/edge'
+ .apps['http-proxy-configurator'].scale = 1
+ .apps['http-proxy-configurator'].provider_id = '12a963dc-be50-48c5-a772-42dbb07d932d'
+ .apps['http-proxy-configurator'].address = '10.152.183.138'
+ .apps['http-proxy-configurator'].app_status.current = 'active'
+ .apps['http-proxy-configurator'].relations['http-proxy'][0].related_app = 'squid-forward-proxy'
+ .apps['http-proxy-configurator'].relations['http-proxy'][0].interface = 'http_proxy'
+ .apps['http-proxy-configurator'].units['http-proxy-configurator/0'].workload_status.current = 'active'
+ .apps['http-proxy-configurator'].units['http-proxy-configurator/0'].juju_status.current = 'idle'
+ .apps['http-proxy-configurator'].units['http-proxy-configurator/0'].juju_status.version = '3.6.14'
+ .apps['http-proxy-configurator'].units['http-proxy-configurator/0'].leader = True
+ .apps['http-proxy-configurator'].units['http-proxy-configurator/0'].address = '10.1.100.204'
+ .apps['http-proxy-configurator'].units['http-proxy-configurator/0'].provider_id = 'http-proxy-configurator-0'
+ .apps['http-proxy-configurator'].endpoint_bindings[''] = 'alpha'
+ .apps['http-proxy-configurator'].endpoint_bindings['delegate-http-proxy'] = 'alpha'
+ .apps['http-proxy-configurator'].endpoint_bindings['http-proxy'] = 'alpha'
+ .app_endpoints['squid-forward-proxy'].url = 'localhost:admin/testing.squid-forward-proxy'
+ .app_endpoints['squid-forward-proxy'].endpoints['http-proxy'].interface = 'http_proxy'
+ .app_endpoints['squid-forward-proxy'].endpoints['http-proxy'].role = 'provider'
+ .app_endpoints['squid-forward-proxy'].app_status.current = 'active'
+ .app_endpoints['squid-forward-proxy'].app_status.message = 'ready: 1'
+ .app_endpoints['squid-forward-proxy'].relations['http-proxy'][0] = 'http-proxy-configurator'
15:22:28 [32mINFO[0m wait: status changed:
+ .apps['flask-k8s'].provider_id = '8e5e38e9-4402-4387-97f6-4161c40dd09a'
+ .apps['flask-k8s'].address = '10.152.183.92'
15:22:29 [32mINFO[0m wait: status changed:
+ .apps['flask-k8s'].units['flask-k8s/0'].provider_id = 'flask-k8s-0'
15:22:30 [32mINFO[0m wait: status changed:
+ .apps['flask-k8s'].units['flask-k8s/0'].address = '10.1.100.205'
15:22:34 [32mINFO[0m wait: status changed:
- .apps['flask-k8s'].app_status.message = 'installing agent'
+ .apps['flask-k8s'].app_status.message = 'agent initialising'
- .apps['flask-k8s'].units['flask-k8s/0'].workload_status.message = 'installing agent'
+ .apps['flask-k8s'].units['flask-k8s/0'].workload_status.message = 'agent initialising'
+ .apps['flask-k8s'].units['flask-k8s/0'].juju_status.version = '3.6.14'
+ .apps['flask-k8s'].units['flask-k8s/0'].leader = True
15:22:38 [32mINFO[0m wait: status changed:
- .apps['flask-k8s'].app_status.current = 'waiting'
- .apps['flask-k8s'].app_status.message = 'agent initialising'
+ .apps['flask-k8s'].app_status.current = 'maintenance'
+ .apps['flask-k8s'].app_status.message = 'installing charm software'
- .apps['flask-k8s'].units['flask-k8s/0'].workload_status.current = 'waiting'
- .apps['flask-k8s'].units['flask-k8s/0'].workload_status.message = 'agent initialising'
- .apps['flask-k8s'].units['flask-k8s/0'].juju_status.current = 'allocating'
+ .apps['flask-k8s'].units['flask-k8s/0'].workload_status.current = 'maintenance'
+ .apps['flask-k8s'].units['flask-k8s/0'].workload_status.message = 'installing charm software'
+ .apps['flask-k8s'].units['flask-k8s/0'].juju_status.current = 'executing'
+ .apps['flask-k8s'].units['flask-k8s/0'].juju_status.message = 'running install hook'
15:22:39 [32mINFO[0m wait: status changed:
- .apps['flask-k8s'].units['flask-k8s/0'].juju_status.message = 'running install hook'
+ .apps['flask-k8s'].units['flask-k8s/0'].juju_status.message = 'running secret-storage-relation-created hook'
15:22:40 [32mINFO[0m wait: status changed:
- .apps['flask-k8s'].units['flask-k8s/0'].juju_status.message = 'running secret-storage-relation-created hook'
+ .apps['flask-k8s'].units['flask-k8s/0'].juju_status.message = 'running config-changed hook'
15:22:42 [32mINFO[0m wait: status changed:
- .apps['flask-k8s'].app_status.message = 'installing charm software'
+ .apps['flask-k8s'].app_status.message = 'Preparing service for restart'
- .apps['flask-k8s'].units['flask-k8s/0'].workload_status.message = 'installing charm software'
+ .apps['flask-k8s'].units['flask-k8s/0'].workload_status.message = 'Preparing service for restart'
15:22:43 [32mINFO[0m wait: status changed:
- .apps['flask-k8s'].app_status.current = 'maintenance'
- .apps['flask-k8s'].app_status.message = 'Preparing service for restart'
+ .apps['flask-k8s'].app_status.current = 'waiting'
+ .apps['flask-k8s'].app_status.message = 'installing agent'
- .apps['flask-k8s'].units['flask-k8s/0'].workload_status.current = 'maintenance'
- .apps['flask-k8s'].units['flask-k8s/0'].workload_status.message = 'Preparing service for restart'
- .apps['flask-k8s'].units['flask-k8s/0'].juju_status.current = 'executing'
- .apps['flask-k8s'].units['flask-k8s/0'].juju_status.message = 'running config-changed hook'
+ .apps['flask-k8s'].units['flask-k8s/0'].workload_status.current = 'active'
+ .apps['flask-k8s'].units['flask-k8s/0'].juju_status.current = 'idle'
15:22:44 [32mINFO[0m wait: status changed:
- .apps['flask-k8s'].app_status.current = 'waiting'
- .apps['flask-k8s'].app_status.message = 'installing agent'
+ .apps['flask-k8s'].app_status.current = 'active'
15:22:46 [32mINFO[0m wait: status changed:
- .apps['flask-k8s'].app_status.current = 'active'
+ .apps['flask-k8s'].app_status.current = 'maintenance'
+ .apps['flask-k8s'].app_status.message = 'Preparing service for restart'
- .apps['flask-k8s'].units['flask-k8s/0'].workload_status.current = 'active'
- .apps['flask-k8s'].units['flask-k8s/0'].juju_status.current = 'idle'
+ .apps['flask-k8s'].units['flask-k8s/0'].workload_status.current = 'maintenance'
+ .apps['flask-k8s'].units['flask-k8s/0'].workload_status.message = 'Preparing service for restart'
+ .apps['flask-k8s'].units['flask-k8s/0'].juju_status.current = 'executing'
+ .apps['flask-k8s'].units['flask-k8s/0'].juju_status.message = 'running flask-app-pebble-ready hook'
15:22:47 [32mINFO[0m wait: status changed:
- .apps['flask-k8s'].app_status.current = 'maintenance'
- .apps['flask-k8s'].app_status.message = 'Preparing service for restart'
+ .apps['flask-k8s'].app_status.current = 'active'
- .apps['flask-k8s'].units['flask-k8s/0'].workload_status.current = 'maintenance'
- .apps['flask-k8s'].units['flask-k8s/0'].workload_status.message = 'Preparing service for restart'
+ .apps['flask-k8s'].units['flask-k8s/0'].workload_status.current = 'active'
- .apps['flask-k8s'].units['flask-k8s/0'].juju_status.message = 'running flask-app-pebble-ready hook'
+ .apps['flask-k8s'].units['flask-k8s/0'].juju_status.message = 'running secret-storage-relation-changed hook'
15:22:49 [32mINFO[0m wait: status changed:
- .apps['flask-k8s'].units['flask-k8s/0'].juju_status.current = 'executing'
- .apps['flask-k8s'].units['flask-k8s/0'].juju_status.message = 'running secret-storage-relation-changed hook'
+ .apps['flask-k8s'].units['flask-k8s/0'].juju_status.current = 'idle'
15:22:49 [32mINFO[0m cli: juju integrate --model testing flask-k8s http-proxy-configurator
15:22:50 [32mINFO[0m wait: status changed:
+ .model.name = 'testing'
+ .model.type = 'caas'
+ .model.controller = 'github-pr-8e884-microk8s'
+ .model.cloud = 'microk8s'
+ .model.version = '3.6.14'
+ .model.region = 'localhost'
+ .model.model_status.current = 'available'
+ .apps['flask-k8s'].charm = 'local:flask-k8s-0'
+ .apps['flask-k8s'].charm_origin = 'local'
+ .apps['flask-k8s'].charm_name = 'flask-k8s'
+ .apps['flask-k8s'].charm_rev = 0
+ .apps['flask-k8s'].exposed = False
+ .apps['flask-k8s'].base.name = 'ubuntu'
+ .apps['flask-k8s'].base.channel = '22.04'
+ .apps['flask-k8s'].scale = 1
+ .apps['flask-k8s'].provider_id = '8e5e38e9-4402-4387-97f6-4161c40dd09a'
+ .apps['flask-k8s'].address = '10.152.183.92'
+ .apps['flask-k8s'].app_status.current = 'active'
+ .apps['flask-k8s'].relations['http-proxy'][0].related_app = 'http-proxy-configurator'
+ .apps['flask-k8s'].relations['http-proxy'][0].interface = 'http_proxy'
+ .apps['flask-k8s'].relations['http-proxy'][0].scope = 'global'
+ .apps['flask-k8s'].relations['secret-storage'][0].related_app = 'flask-k8s'
+ .apps['flask-k8s'].relations['secret-storage'][0].interface = 'secret-storage'
+ .apps['flask-k8s'].relations['secret-storage'][0].scope = 'global'
+ .apps['flask-k8s'].units['flask-k8s/0'].workload_status.current = 'active'
+ .apps['flask-k8s'].units['flask-k8s/0'].juju_status.current = 'executing'
+ .apps['flask-k8s'].units['flask-k8s/0'].juju_status.message = 'running http-proxy-relation-created hook'
+ .apps['flask-k8s'].units['flask-k8s/0'].juju_status.version = '3.6.14'
+ .apps['flask-k8s'].units['flask-k8s/0'].leader = True
+ .apps['flask-k8s'].units['flask-k8s/0'].address = '10.1.100.205'
+ .apps['flask-k8s'].units['flask-k8s/0'].provider_id = 'flask-k8s-0'
+ .apps['flask-k8s'].endpoint_bindings[''] = 'alpha'
+ .apps['flask-k8s'].endpoint_bindings['grafana-dashboard'] = 'alpha'
+ .apps['flask-k8s'].endpoint_bindings['http-proxy'] = 'alpha'
+ .apps['flask-k8s'].endpoint_bindings['ingress'] = 'alpha'
+ .apps['flask-k8s'].endpoint_bindings['logging'] = 'alpha'
+ .apps['flask-k8s'].endpoint_bindings['metrics-endpoint'] = 'alpha'
+ .apps['flask-k8s'].endpoint_bindings['mongodb'] = 'alpha'
+ .apps['flask-k8s'].endpoint_bindings['mysql'] = 'alpha'
+ .apps['flask-k8s'].endpoint_bindings['oidc'] = 'alpha'
+ .apps['flask-k8s'].endpoint_bindings['openfga'] = 'alpha'
+ .apps['flask-k8s'].endpoint_bindings['postgresql'] = 'alpha'
+ .apps['flask-k8s'].endpoint_bindings['rabbitmq'] = 'alpha'
+ .apps['flask-k8s'].endpoint_bindings['redis'] = 'alpha'
+ .apps['flask-k8s'].endpoint_bindings['s3'] = 'alpha'
+ .apps['flask-k8s'].endpoint_bindings['saml'] = 'alpha'
+ .apps['flask-k8s'].endpoint_bindings['secret-storage'] = 'alpha'
+ .apps['flask-k8s'].endpoint_bindings['smtp'] = 'alpha'
+ .apps['flask-k8s'].endpoint_bindings['tracing'] = 'alpha'
+ .apps['http-proxy-configurator'].charm = 'http-proxy-configurator'
+ .apps['http-proxy-configurator'].charm_origin = 'charmhub'
+ .apps['http-proxy-configurator'].charm_name = 'http-proxy-configurator'
+ .apps['http-proxy-configurator'].charm_rev = 13
+ .apps['http-proxy-configurator'].exposed = False
+ .apps['http-proxy-configurator'].base.name = 'ubuntu'
+ .apps['http-proxy-configurator'].base.channel = '24.04'
+ .apps['http-proxy-configurator'].charm_channel = 'latest/edge'
+ .apps['http-proxy-configurator'].scale = 1
+ .apps['http-proxy-configurator'].provider_id = '12a963dc-be50-48c5-a772-42dbb07d932d'
+ .apps['http-proxy-configurator'].address = '10.152.183.138'
+ .apps['http-proxy-configurator'].app_status.current = 'active'
+ .apps['http-proxy-configurator'].relations['delegate-http-proxy'][0].related_app = 'flask-k8s'
+ .apps['http-proxy-configurator'].relations['delegate-http-proxy'][0].interface = 'http_proxy'
+ .apps['http-proxy-configurator'].relations['delegate-http-proxy'][0].scope = 'global'
+ .apps['http-proxy-configurator'].relations['http-proxy'][0].related_app = 'squid-forward-proxy'
+ .apps['http-proxy-configurator'].relations['http-proxy'][0].interface = 'http_proxy'
+ .apps['http-proxy-configurator'].units['http-proxy-configurator/0'].workload_status.current = 'active'
+ .apps['http-proxy-configurator'].units['http-proxy-configurator/0'].juju_status.current = 'executing'
+ .apps['http-proxy-configurator'].units['http-proxy-configurator/0'].juju_status.message = 'running delegate-http-proxy-relation-created hook'
+ .apps['http-proxy-configurator'].units['http-proxy-configurator/0'].juju_status.version = '3.6.14'
+ .apps['http-proxy-configurator'].units['http-proxy-configurator/0'].leader = True
+ .apps['http-proxy-configurator'].units['http-proxy-configurator/0'].address = '10.1.100.204'
+ .apps['http-proxy-configurator'].units['http-proxy-configurator/0'].provider_id = 'http-proxy-configurator-0'
+ .apps['http-proxy-configurator'].endpoint_bindings[''] = 'alpha'
+ .apps['http-proxy-configurator'].endpoint_bindings['delegate-http-proxy'] = 'alpha'
+ .apps['http-proxy-configurator'].endpoint_bindings['http-proxy'] = 'alpha'
+ .app_endpoints['squid-forward-proxy'].url = 'localhost:admin/testing.squid-forward-proxy'
+ .app_endpoints['squid-forward-proxy'].endpoints['http-proxy'].interface = 'http_proxy'
+ .app_endpoints['squid-forward-proxy'].endpoints['http-proxy'].role = 'provider'
+ .app_endpoints['squid-forward-proxy'].app_status.current = 'active'
+ .app_endpoints['squid-forward-proxy'].app_status.message = 'ready: 1'
+ .app_endpoints['squid-forward-proxy'].relations['http-proxy'][0] = 'http-proxy-configurator'
15:23:00 [32mINFO[0m wait: status changed:
- .apps['flask-k8s'].app_status.current = 'active'
+ .apps['flask-k8s'].app_status.current = 'waiting'
+ .apps['flask-k8s'].app_status.message = 'installing agent'
- .apps['flask-k8s'].units['flask-k8s/0'].juju_status.message = 'running http-proxy-relation-created hook'
+ .apps['flask-k8s'].units['flask-k8s/0'].juju_status.message = 'running http-proxy-relation-changed hook'
- .apps['http-proxy-configurator'].units['http-proxy-configurator/0'].juju_status.current = 'executing'
- .apps['http-proxy-configurator'].units['http-proxy-configurator/0'].juju_status.message = 'running delegate-http-proxy-relation-created hook'
+ .apps['http-proxy-configurator'].units['http-proxy-configurator/0'].juju_status.current = 'idle'
15:23:10 [32mINFO[0m wait: status changed:
- .apps['flask-k8s'].app_status.current = 'waiting'
- .apps['flask-k8s'].app_status.message = 'installing agent'
+ .apps['flask-k8s'].app_status.current = 'active'
- .apps['flask-k8s'].units['flask-k8s/0'].juju_status.current = 'executing'
- .apps['flask-k8s'].units['flask-k8s/0'].juju_status.message = 'running http-proxy-relation-changed hook'
+ .apps['flask-k8s'].units['flask-k8s/0'].juju_status.current = 'idle'
15:23:31 [32mINFO[0m cli: juju status --model testing --format json
15:23:31 [32mINFO[0m cli: juju remove-relation --model testing flask-k8s http-proxy-configurator